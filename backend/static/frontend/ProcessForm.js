import{e as P,f as L,g as u,c as S,l as T,D as Ke,z as J,E as xe,G as Je,r as z,H as De,I as ge,J as Y,K as se,L as N,M as ye,b as ze,N as k,O as He,P as Pe,Q as Ze,S as ce,o as me,T as fe,U as Ge,V as Ye,W as Qe,X as oe,Y as be,F as le,Z as ae,$ as Xe,a0 as et,a1 as pe,a2 as ve,a3 as tt,a4 as lt,a5 as Ae,a6 as st,a7 as ot,a8 as nt,a9 as H,aa as G,ab as q,ac as we,ad as at,ae as it,af as rt,s as ut,x as dt,a as ct,B as ft,w as X,v as ee,j as V,k as K,m as W,A as ie,n as Z,q as pt,ag as Se,ah as re,t as ue,i as de,ai as vt}from"./index.js";import{S as ne}from"./sweetalert2.esm.all.js";import{u as Fe}from"./process.js";import{r as mt}from"./EyeIcon.js";function _e(l,r){return P(),L("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function te(l,r,t){let o=t.initialDeps??[],e;return()=>{var i,a,s,g;let b;t.key&&((i=t.debug)!=null&&i.call(t))&&(b=Date.now());const n=l();if(!(n.length!==o.length||n.some(($,E)=>o[E]!==$)))return e;o=n;let O;if(t.key&&((a=t.debug)!=null&&a.call(t))&&(O=Date.now()),e=r(...n),t.key&&((s=t.debug)!=null&&s.call(t))){const $=Math.round((Date.now()-b)*100)/100,E=Math.round((Date.now()-O)*100)/100,B=E/16,U=(A,y)=>{for(A=String(A);A.length<y;)A=" "+A;return A};console.info(`%c⏱ ${U(E,5)} /${U($,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*B,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(g=t==null?void 0:t.onChange)==null||g.call(t,e),e}}function he(l,r){if(l===void 0)throw new Error("Unexpected undefined");return l}const ht=(l,r)=>Math.abs(l-r)<1,gt=(l,r,t)=>{let o;return function(...e){l.clearTimeout(o),o=l.setTimeout(()=>r.apply(this,e),t)}},bt=l=>l,xt=l=>{const r=Math.max(l.startIndex-l.overscan,0),t=Math.min(l.endIndex+l.overscan,l.count-1),o=[];for(let e=r;e<=t;e++)o.push(e);return o},yt=(l,r)=>{const t=l.scrollElement;if(!t)return;const o=l.targetWindow;if(!o)return;const e=a=>{const{width:s,height:g}=a;r({width:Math.round(s),height:Math.round(g)})};if(e(t.getBoundingClientRect()),!o.ResizeObserver)return()=>{};const i=new o.ResizeObserver(a=>{const s=a[0];if(s!=null&&s.borderBoxSize){const g=s.borderBoxSize[0];if(g){e({width:g.inlineSize,height:g.blockSize});return}}e(t.getBoundingClientRect())});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},Oe={passive:!0},wt=typeof window>"u"?!0:"onscrollend"in window,St=(l,r)=>{const t=l.scrollElement;if(!t)return;const o=l.targetWindow;if(!o)return;let e=0;const i=wt?()=>{}:gt(o,()=>{r(e,!1)},l.options.isScrollingResetDelay),a=b=>()=>{const{horizontal:n,isRtl:x}=l.options;e=n?t.scrollLeft*(x&&-1||1):t.scrollTop,i(),r(e,b)},s=a(!0),g=a(!1);return g(),t.addEventListener("scroll",s,Oe),t.addEventListener("scrollend",g,Oe),()=>{t.removeEventListener("scroll",s),t.removeEventListener("scrollend",g)}},_t=(l,r,t)=>{if(r!=null&&r.borderBoxSize){const o=r.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(l.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Ot=(l,{adjustments:r=0,behavior:t},o)=>{var e,i;const a=l+r;(i=(e=o.scrollElement)==null?void 0:e.scrollTo)==null||i.call(e,{[o.options.horizontal?"left":"top"]:a,behavior:t})};class It{constructor(r){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(e=>{e.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var e;(e=o())==null||e.disconnect(),t=null},observe:e=>{var i;return(i=o())==null?void 0:i.observe(e,{box:"border-box"})},unobserve:e=>{var i;return(i=o())==null?void 0:i.unobserve(e)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,e])=>{typeof e>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:bt,rangeExtractor:xt,onChange:()=>{},measureElement:_t,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...t}},this.notify=t=>{var o,e;(e=(o=this.options).onChange)==null||e.call(o,this,t)},this.maybeNotify=te(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const e=new Map,i=new Map;for(let a=o-1;a>=0;a--){const s=t[a];if(e.has(s.lane))continue;const g=i.get(s.lane);if(g==null||s.end>g.end?i.set(s.lane,s):s.end<g.end&&e.set(s.lane,!0),e.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((a,s)=>a.end===s.end?a.index-s.index:a.end-s.end)[0]:void 0},this.getMeasurementOptions=te(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,e,i,a)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:e,getItemKey:i,enabled:a}),{key:!1}),this.getMeasurements=te(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:e,getItemKey:i,enabled:a},s)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(n=>{this.itemSizeCache.set(n.key,n.size)}));const g=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const b=this.measurementsCache.slice(0,g);for(let n=g;n<t;n++){const x=i(n),O=this.options.lanes===1?b[n-1]:this.getFurthestMeasurement(b,n),$=O?O.end+this.options.gap:o+e,E=s.get(x),B=typeof E=="number"?E:this.options.estimateSize(n),U=$+B,A=O?O.lane:n%this.options.lanes;b[n]={index:n,start:$,size:B,end:U,key:x,lane:A}}return this.measurementsCache=b,b},{key:!1,debug:()=>this.options.debug}),this.calculateRange=te(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,o,e)=>this.range=t.length>0&&o>0?Ct({measurements:t,outerSize:o,scrollOffset:e}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=te(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,o,e,i)=>o===null?[]:t({startIndex:o.startIndex,endIndex:o.endIndex,overscan:e,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,e=t.getAttribute(o);return e?parseInt(e,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const e=this.indexFromElement(t),i=this.measurementsCache[e];if(!i)return;const a=i.key,s=this.elementsCache.get(a);s!==t&&(s&&this.observer.unobserve(s),this.observer.observe(t),this.elementsCache.set(a,t)),t.isConnected&&this.resizeItem(e,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const e=this.measurementsCache[t];if(!e)return;const i=this.itemSizeCache.get(e.key)??e.size,a=o-i;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(e,a,this):e.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(e.index),this.itemSizeCache=new Map(this.itemSizeCache.set(e.key,o)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((o,e)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(e))});return}this._measureElement(t,void 0)},this.getVirtualItems=te(()=>[this.getIndexes(),this.getMeasurements()],(t,o)=>{const e=[];for(let i=0,a=t.length;i<a;i++){const s=t[i],g=o[s];e.push(g)}return e},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return he(o[Ve(0,o.length-1,e=>he(o[e]).start,t)])},this.getOffsetForAlignment=(t,o)=>{const e=this.getSize(),i=this.getScrollOffset();o==="auto"&&(t<=i?o="start":t>=i+e?o="end":o="start"),o==="start"?t=t:o==="end"?t=t-e:o==="center"&&(t=t-e/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",g=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-e;return Math.max(Math.min(g,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const e=this.measurementsCache[t];if(!e)return;const i=this.getSize(),a=this.getScrollOffset();if(o==="auto")if(e.end>=a+i-this.options.scrollPaddingEnd)o="end";else if(e.start<=a+this.options.scrollPaddingStart)o="start";else return[a,o];const s=o==="end"?e.end+this.options.scrollPaddingEnd:e.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,o),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:o="start",behavior:e}={})=>{this.cancelScrollToIndex(),e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:e})},this.scrollToIndex=(t,{align:o="auto",behavior:e}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(t,o);if(!i)return;const[a,s]=i;this._scrollToOffset(a,{adjustments:void 0,behavior:e}),e!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[b]=he(this.getOffsetForIndex(t,s));ht(b,this.getScrollOffset())||this.scrollToIndex(t,{align:s,behavior:e})}else this.scrollToIndex(t,{align:s,behavior:e})}))},this.scrollBy=(t,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let e;return o.length===0?e=this.options.paddingStart:e=this.options.lanes===1?((t=o[o.length-1])==null?void 0:t.end)??0:Math.max(...o.slice(-this.options.lanes).map(i=>i.end)),e-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:o,behavior:e})=>{this.options.scrollToFn(t,{behavior:e,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(r)}}const Ve=(l,r,t,o)=>{for(;l<=r;){const e=(l+r)/2|0,i=t(e);if(i<o)l=e+1;else if(i>o)r=e-1;else return e}return l>0?l-1:0};function Ct({measurements:l,outerSize:r,scrollOffset:t}){const o=l.length-1,i=Ve(0,o,s=>l[s].start,t);let a=i;for(;a<o&&l[a].end<t+r;)a++;return{startIndex:i,endIndex:a}}function Rt(l){const r=new It(T(l)),t=Ke(r),o=r._didMount();return J(()=>T(l).getScrollElement(),e=>{e&&r._willUpdate()},{immediate:!0}),J(()=>T(l),e=>{r.setOptions({...e,onChange:(i,a)=>{var s;xe(t),(s=e.onChange)==null||s.call(e,i,a)}}),r._willUpdate(),xe(t)},{immediate:!0}),Je(o),t}function Tt(l){return Rt(S(()=>({observeElementRect:yt,observeElementOffset:St,scrollToFn:Ot,...T(l)})))}function kt(l,r,t){let o=z(t==null?void 0:t.value),e=S(()=>l.value!==void 0);return[S(()=>e.value?l.value:o.value),function(i){return e.value||(o.value=i),r==null?void 0:r(i)}]}function Et(){let l=ge();return De(()=>l.dispose()),l}function Mt(){let l=Et();return r=>{l.dispose(),l.nextFrame(r)}}var Be=(l=>(l[l.Left=0]="Left",l[l.Right=2]="Right",l))(Be||{});function Ne(l={},r=null,t=[]){for(let[o,e]of Object.entries(l))je(t,Le(r,o),e);return t}function Le(l,r){return l?l+"["+r+"]":r}function je(l,r,t){if(Array.isArray(t))for(let[o,e]of t.entries())je(l,Le(r,o.toString()),e);else t instanceof Date?l.push([r,t.toISOString()]):typeof t=="boolean"?l.push([r,t?"1":"0"]):typeof t=="string"?l.push([r,t]):typeof t=="number"?l.push([r,`${t}`]):t==null?l.push([r,""]):Ne(t,r,l)}var $t={};function Dt(l,r){return l===r}var zt=(l=>(l[l.Open=0]="Open",l[l.Closed=1]="Closed",l))(zt||{}),Pt=(l=>(l[l.Single=0]="Single",l[l.Multi=1]="Multi",l))(Pt||{}),At=(l=>(l[l.Pointer=0]="Pointer",l[l.Focus=1]="Focus",l[l.Other=2]="Other",l))(At||{});let Ue=Symbol("ComboboxContext");function Q(l){let r=Ae(Ue,null);if(r===null){let t=new Error(`<${l} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Q),t}return r}let qe=Symbol("VirtualContext"),Ft=Y({name:"VirtualProvider",setup(l,{slots:r}){let t=Q("VirtualProvider"),o=S(()=>{let s=k(t.optionsRef);if(!s)return{start:0,end:0};let g=window.getComputedStyle(s);return{start:parseFloat(g.paddingBlockStart||g.paddingTop),end:parseFloat(g.paddingBlockEnd||g.paddingBottom)}}),e=Tt(S(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return k(t.optionsRef)},overscan:12}))),i=S(()=>{var s;return(s=t.virtual.value)==null?void 0:s.options}),a=z(0);return J([i],()=>{a.value+=1}),Pe(qe,t.virtual.value?e:null),()=>[fe("div",{style:{position:"relative",width:"100%",height:`${e.value.getTotalSize()}px`},ref:s=>{if(s){if(typeof process<"u"&&$t.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&e.value.scrollToIndex(t.activeOptionIndex.value)}}},e.value.getVirtualItems().map(s=>ot(r.default({option:t.virtual.value.options[s.index],open:t.comboboxState.value===0})[0],{key:`${a.value}-${s.index}`,"data-index":s.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":s.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${s.start}px)`,overflowAnchor:"none"}})))]}}),Ie=Y({name:"Combobox",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(l,{slots:r,attrs:t,emit:o}){let e=z(1),i=z(null),a=z(null),s=z(null),g=z(null),b=z({static:!1,hold:!1}),n=z([]),x=z(null),O=z(2),$=z(!1);function E(c=h=>h){let h=x.value!==null?n.value[x.value]:null,w=c(n.value.slice()),_=w.length>0&&w[0].dataRef.order.value!==null?w.sort((f,d)=>f.dataRef.order.value-d.dataRef.order.value):nt(w,f=>k(f.dataRef.domRef)),v=h?_.indexOf(h):null;return v===-1&&(v=null),{options:_,activeOptionIndex:v}}let B=S(()=>l.multiple?1:0),U=S(()=>l.nullable),[A,y]=kt(S(()=>l.modelValue),c=>o("update:modelValue",c),S(()=>l.defaultValue)),I=S(()=>A.value===void 0?se(B.value,{1:[],0:void 0}):A.value),j=null,m=null;function C(c){return se(B.value,{0(){return y==null?void 0:y(c)},1:()=>{let h=H(p.value.value).slice(),w=H(c),_=h.findIndex(v=>p.compare(w,H(v)));return _===-1?h.push(w):h.splice(_,1),y==null?void 0:y(h)}})}let M=S(()=>{});J([M],([c],[h])=>{if(p.virtual.value&&c&&h&&x.value!==null){let w=c.indexOf(h[x.value]);w!==-1?x.value=w:x.value=null}});let p={comboboxState:e,value:I,mode:B,compare(c,h){if(typeof l.by=="string"){let w=l.by;return(c==null?void 0:c[w])===(h==null?void 0:h[w])}return l.by===null?Dt(c,h):l.by(c,h)},calculateIndex(c){return p.virtual.value?l.by===null?p.virtual.value.options.indexOf(c):p.virtual.value.options.findIndex(h=>p.compare(h,c)):n.value.findIndex(h=>p.compare(h.dataRef.value,c))},defaultValue:S(()=>l.defaultValue),nullable:U,immediate:S(()=>!1),virtual:S(()=>null),inputRef:a,labelRef:i,buttonRef:s,optionsRef:g,disabled:S(()=>l.disabled),options:n,change(c){y(c)},activeOptionIndex:S(()=>{if($.value&&x.value===null&&(p.virtual.value?p.virtual.value.options.length>0:n.value.length>0)){if(p.virtual.value){let h=p.virtual.value.options.findIndex(w=>{var _;return!((_=p.virtual.value)!=null&&_.disabled(w))});if(h!==-1)return h}let c=n.value.findIndex(h=>!h.dataRef.disabled);if(c!==-1)return c}return x.value}),activationTrigger:O,optionsPropsRef:b,closeCombobox(){$.value=!1,!l.disabled&&e.value!==1&&(e.value=1,x.value=null)},openCombobox(){if($.value=!0,!l.disabled&&e.value!==0){if(p.value.value){let c=p.calculateIndex(p.value.value);c!==-1&&(x.value=c)}e.value=0}},setActivationTrigger(c){O.value=c},goToOption(c,h,w){$.value=!1,j!==null&&cancelAnimationFrame(j),j=requestAnimationFrame(()=>{if(l.disabled||g.value&&!b.value.static&&e.value===1)return;if(p.virtual.value){x.value=c===N.Specific?h:ye({focus:c},{resolveItems:()=>p.virtual.value.options,resolveActiveIndex:()=>{var f,d;return(d=(f=p.activeOptionIndex.value)!=null?f:p.virtual.value.options.findIndex(D=>{var F;return!((F=p.virtual.value)!=null&&F.disabled(D))}))!=null?d:null},resolveDisabled:f=>p.virtual.value.disabled(f),resolveId(){throw new Error("Function not implemented.")}}),O.value=w??2;return}let _=E();if(_.activeOptionIndex===null){let f=_.options.findIndex(d=>!d.dataRef.disabled);f!==-1&&(_.activeOptionIndex=f)}let v=c===N.Specific?h:ye({focus:c},{resolveItems:()=>_.options,resolveActiveIndex:()=>_.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.disabled});x.value=v,O.value=w??2,n.value=_.options})},selectOption(c){let h=n.value.find(_=>_.id===c);if(!h)return;let{dataRef:w}=h;C(w.value)},selectActiveOption(){if(p.activeOptionIndex.value!==null){if(p.virtual.value)C(p.virtual.value.options[p.activeOptionIndex.value]);else{let{dataRef:c}=n.value[p.activeOptionIndex.value];C(c.value)}p.goToOption(N.Specific,p.activeOptionIndex.value)}},registerOption(c,h){let w=ze({id:c,dataRef:h});if(p.virtual.value){n.value.push(w);return}m&&cancelAnimationFrame(m);let _=E(v=>(v.push(w),v));x.value===null&&p.isSelected(h.value.value)&&(_.activeOptionIndex=_.options.indexOf(w)),n.value=_.options,x.value=_.activeOptionIndex,O.value=2,_.options.some(v=>!k(v.dataRef.domRef))&&(m=requestAnimationFrame(()=>{let v=E();n.value=v.options,x.value=v.activeOptionIndex}))},unregisterOption(c,h){if(j!==null&&cancelAnimationFrame(j),h&&($.value=!0),p.virtual.value){n.value=n.value.filter(_=>_.id!==c);return}let w=E(_=>{let v=_.findIndex(f=>f.id===c);return v!==-1&&_.splice(v,1),_});n.value=w.options,x.value=w.activeOptionIndex,O.value=2},isSelected(c){return se(B.value,{0:()=>p.compare(H(p.value.value),H(c)),1:()=>H(p.value.value).some(h=>p.compare(H(h),H(c)))})},isActive(c){return x.value===p.calculateIndex(c)}};He([a,s,g],()=>p.closeCombobox(),S(()=>e.value===0)),Pe(Ue,p),Ze(S(()=>se(e.value,{0:ce.Open,1:ce.Closed})));let R=S(()=>{var c;return(c=k(a))==null?void 0:c.closest("form")});return me(()=>{J([R],()=>{if(!R.value||l.defaultValue===void 0)return;function c(){p.change(l.defaultValue)}return R.value.addEventListener("reset",c),()=>{var h;(h=R.value)==null||h.removeEventListener("reset",c)}},{immediate:!0})}),()=>{var c,h,w;let{name:_,disabled:v,form:f,...d}=l,D={open:e.value===0,disabled:v,activeIndex:p.activeOptionIndex.value,activeOption:p.activeOptionIndex.value===null?null:p.virtual.value?p.virtual.value.options[(c=p.activeOptionIndex.value)!=null?c:0]:(w=(h=p.options.value[p.activeOptionIndex.value])==null?void 0:h.dataRef.value)!=null?w:null,value:I.value};return fe(le,[..._!=null&&I.value!=null?Ne({[_]:I.value}).map(([F,We])=>fe(Ge,Ye({features:Qe.Hidden,key:F,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:f,disabled:v,name:F,value:We}))):[],oe({theirProps:{...t,...be(d,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:D,slots:r,attrs:t,name:"Combobox"})])}}}),Ce=Y({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(l,{attrs:r,slots:t}){var o;let e=(o=l.id)!=null?o:`headlessui-combobox-label-${ae()}`,i=Q("ComboboxLabel");function a(){var s;(s=k(i.inputRef))==null||s.focus({preventScroll:!0})}return()=>{let s={open:i.comboboxState.value===0,disabled:i.disabled.value},{...g}=l,b={id:e,ref:i.labelRef,onClick:a};return oe({ourProps:b,theirProps:g,slot:s,attrs:r,slots:t,name:"ComboboxLabel"})}}}),Re=Y({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(l,{attrs:r,slots:t,expose:o}){var e;let i=(e=l.id)!=null?e:`headlessui-combobox-button-${ae()}`,a=Q("ComboboxButton");o({el:a.buttonRef,$el:a.buttonRef});function s(n){a.disabled.value||(a.comboboxState.value===0?a.closeCombobox():(n.preventDefault(),a.openCombobox()),G(()=>{var x;return(x=k(a.inputRef))==null?void 0:x.focus({preventScroll:!0})}))}function g(n){switch(n.key){case q.ArrowDown:n.preventDefault(),n.stopPropagation(),a.comboboxState.value===1&&a.openCombobox(),G(()=>{var x;return(x=a.inputRef.value)==null?void 0:x.focus({preventScroll:!0})});return;case q.ArrowUp:n.preventDefault(),n.stopPropagation(),a.comboboxState.value===1&&(a.openCombobox(),G(()=>{a.value.value||a.goToOption(N.Last)})),G(()=>{var x;return(x=a.inputRef.value)==null?void 0:x.focus({preventScroll:!0})});return;case q.Escape:if(a.comboboxState.value!==0)return;n.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&n.stopPropagation(),a.closeCombobox(),G(()=>{var x;return(x=a.inputRef.value)==null?void 0:x.focus({preventScroll:!0})});return}}let b=Xe(S(()=>({as:l.as,type:r.type})),a.buttonRef);return()=>{var n,x;let O={open:a.comboboxState.value===0,disabled:a.disabled.value,value:a.value.value},{...$}=l,E={ref:a.buttonRef,id:i,type:b.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(n=k(a.optionsRef))==null?void 0:n.id,"aria-expanded":a.comboboxState.value===0,"aria-labelledby":a.labelRef.value?[(x=k(a.labelRef))==null?void 0:x.id,i].join(" "):void 0,disabled:a.disabled.value===!0?!0:void 0,onKeydown:g,onClick:s};return oe({ourProps:E,theirProps:$,slot:O,attrs:r,slots:t,name:"ComboboxButton"})}}}),Te=Y({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:l=>!0},setup(l,{emit:r,attrs:t,slots:o,expose:e}){var i;let a=(i=l.id)!=null?i:`headlessui-combobox-input-${ae()}`,s=Q("ComboboxInput"),g=S(()=>et(k(s.inputRef))),b={value:!1};e({el:s.inputRef,$el:s.inputRef});function n(){s.change(null);let m=k(s.optionsRef);m&&(m.scrollTop=0),s.goToOption(N.Nothing)}let x=S(()=>{var m;let C=s.value.value;return k(s.inputRef)?typeof l.displayValue<"u"&&C!==void 0?(m=l.displayValue(C))!=null?m:"":typeof C=="string"?C:"":""});me(()=>{J([x,s.comboboxState,g],([m,C],[M,p])=>{if(b.value)return;let R=k(s.inputRef);R&&((p===0&&C===1||m!==M)&&(R.value=m),requestAnimationFrame(()=>{var c;if(b.value||!R||((c=g.value)==null?void 0:c.activeElement)!==R)return;let{selectionStart:h,selectionEnd:w}=R;Math.abs((w??0)-(h??0))===0&&h===0&&R.setSelectionRange(R.value.length,R.value.length)}))},{immediate:!0}),J([s.comboboxState],([m],[C])=>{if(m===0&&C===1){if(b.value)return;let M=k(s.inputRef);if(!M)return;let p=M.value,{selectionStart:R,selectionEnd:c,selectionDirection:h}=M;M.value="",M.value=p,h!==null?M.setSelectionRange(R,c,h):M.setSelectionRange(R,c)}})});let O=z(!1);function $(){O.value=!0}function E(){ge().nextFrame(()=>{O.value=!1})}let B=Mt();function U(m){switch(b.value=!0,B(()=>{b.value=!1}),m.key){case q.Enter:if(b.value=!1,s.comboboxState.value!==0||O.value)return;if(m.preventDefault(),m.stopPropagation(),s.activeOptionIndex.value===null){s.closeCombobox();return}s.selectActiveOption(),s.mode.value===0&&s.closeCombobox();break;case q.ArrowDown:return b.value=!1,m.preventDefault(),m.stopPropagation(),se(s.comboboxState.value,{0:()=>s.goToOption(N.Next),1:()=>s.openCombobox()});case q.ArrowUp:return b.value=!1,m.preventDefault(),m.stopPropagation(),se(s.comboboxState.value,{0:()=>s.goToOption(N.Previous),1:()=>{s.openCombobox(),G(()=>{s.value.value||s.goToOption(N.Last)})}});case q.Home:if(m.shiftKey)break;return b.value=!1,m.preventDefault(),m.stopPropagation(),s.goToOption(N.First);case q.PageUp:return b.value=!1,m.preventDefault(),m.stopPropagation(),s.goToOption(N.First);case q.End:if(m.shiftKey)break;return b.value=!1,m.preventDefault(),m.stopPropagation(),s.goToOption(N.Last);case q.PageDown:return b.value=!1,m.preventDefault(),m.stopPropagation(),s.goToOption(N.Last);case q.Escape:if(b.value=!1,s.comboboxState.value!==0)return;m.preventDefault(),s.optionsRef.value&&!s.optionsPropsRef.value.static&&m.stopPropagation(),s.nullable.value&&s.mode.value===0&&s.value.value===null&&n(),s.closeCombobox();break;case q.Tab:if(b.value=!1,s.comboboxState.value!==0)return;s.mode.value===0&&s.activationTrigger.value!==1&&s.selectActiveOption(),s.closeCombobox();break}}function A(m){r("change",m),s.nullable.value&&s.mode.value===0&&m.target.value===""&&n(),s.openCombobox()}function y(m){var C,M,p;let R=(C=m.relatedTarget)!=null?C:we.find(c=>c!==m.currentTarget);if(b.value=!1,!((M=k(s.optionsRef))!=null&&M.contains(R))&&!((p=k(s.buttonRef))!=null&&p.contains(R))&&s.comboboxState.value===0)return m.preventDefault(),s.mode.value===0&&(s.nullable.value&&s.value.value===null?n():s.activationTrigger.value!==1&&s.selectActiveOption()),s.closeCombobox()}function I(m){var C,M,p;let R=(C=m.relatedTarget)!=null?C:we.find(c=>c!==m.currentTarget);(M=k(s.buttonRef))!=null&&M.contains(R)||(p=k(s.optionsRef))!=null&&p.contains(R)||s.disabled.value||s.immediate.value&&s.comboboxState.value!==0&&(s.openCombobox(),ge().nextFrame(()=>{s.setActivationTrigger(1)}))}let j=S(()=>{var m,C,M,p;return(p=(M=(C=l.defaultValue)!=null?C:s.defaultValue.value!==void 0?(m=l.displayValue)==null?void 0:m.call(l,s.defaultValue.value):null)!=null?M:s.defaultValue.value)!=null?p:""});return()=>{var m,C,M,p,R,c,h;let w={open:s.comboboxState.value===0},{displayValue:_,onChange:v,...f}=l,d={"aria-controls":(m=s.optionsRef.value)==null?void 0:m.id,"aria-expanded":s.comboboxState.value===0,"aria-activedescendant":s.activeOptionIndex.value===null?void 0:s.virtual.value?(C=s.options.value.find(D=>!s.virtual.value.disabled(D.dataRef.value)&&s.compare(D.dataRef.value,s.virtual.value.options[s.activeOptionIndex.value])))==null?void 0:C.id:(M=s.options.value[s.activeOptionIndex.value])==null?void 0:M.id,"aria-labelledby":(c=(p=k(s.labelRef))==null?void 0:p.id)!=null?c:(R=k(s.buttonRef))==null?void 0:R.id,"aria-autocomplete":"list",id:a,onCompositionstart:$,onCompositionend:E,onKeydown:U,onInput:A,onFocus:I,onBlur:y,role:"combobox",type:(h=t.type)!=null?h:"text",tabIndex:0,ref:s.inputRef,defaultValue:j.value,disabled:s.disabled.value===!0?!0:void 0};return oe({ourProps:d,theirProps:f,slot:w,attrs:t,slots:o,features:pe.RenderStrategy|pe.Static,name:"ComboboxInput"})}}}),ke=Y({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(l,{attrs:r,slots:t,expose:o}){let e=Q("ComboboxOptions"),i=`headlessui-combobox-options-${ae()}`;o({el:e.optionsRef,$el:e.optionsRef}),ve(()=>{e.optionsPropsRef.value.static=l.static}),ve(()=>{e.optionsPropsRef.value.hold=l.hold});let a=tt(),s=S(()=>a!==null?(a.value&ce.Open)===ce.Open:e.comboboxState.value===0);lt({container:S(()=>k(e.optionsRef)),enabled:S(()=>e.comboboxState.value===0),accept(b){return b.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:b.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(b){b.setAttribute("role","none")}});function g(b){b.preventDefault()}return()=>{var b,n,x;let O={open:e.comboboxState.value===0},$={"aria-labelledby":(x=(b=k(e.labelRef))==null?void 0:b.id)!=null?x:(n=k(e.buttonRef))==null?void 0:n.id,id:i,ref:e.optionsRef,role:"listbox","aria-multiselectable":e.mode.value===1?!0:void 0,onMousedown:g},E=be(l,["hold"]);return oe({ourProps:$,theirProps:E,slot:O,attrs:r,slots:e.virtual.value&&e.comboboxState.value===0?{...t,default:()=>[fe(Ft,{},t.default)]}:t,features:pe.RenderStrategy|pe.Static,visible:s.value,name:"ComboboxOptions"})}}}),Ee=Y({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(l,{slots:r,attrs:t,expose:o}){let e=Q("ComboboxOption"),i=`headlessui-combobox-option-${ae()}`,a=z(null),s=S(()=>l.disabled);o({el:a,$el:a});let g=S(()=>{var y;return e.virtual.value?e.activeOptionIndex.value===e.calculateIndex(l.value):e.activeOptionIndex.value===null?!1:((y=e.options.value[e.activeOptionIndex.value])==null?void 0:y.id)===i}),b=S(()=>e.isSelected(l.value)),n=Ae(qe,null),x=S(()=>({disabled:l.disabled,value:l.value,domRef:a,order:S(()=>l.order)}));me(()=>e.registerOption(i,x)),De(()=>e.unregisterOption(i,g.value)),ve(()=>{let y=k(a);y&&(n==null||n.value.measureElement(y))}),ve(()=>{e.comboboxState.value===0&&g.value&&(e.virtual.value||e.activationTrigger.value!==0&&G(()=>{var y,I;return(I=(y=k(a))==null?void 0:y.scrollIntoView)==null?void 0:I.call(y,{block:"nearest"})}))});function O(y){y.preventDefault(),y.button===Be.Left&&(s.value||(e.selectOption(i),at()||requestAnimationFrame(()=>{var I;return(I=k(e.inputRef))==null?void 0:I.focus({preventScroll:!0})}),e.mode.value===0&&e.closeCombobox()))}function $(){var y;if(l.disabled||(y=e.virtual.value)!=null&&y.disabled(l.value))return e.goToOption(N.Nothing);let I=e.calculateIndex(l.value);e.goToOption(N.Specific,I)}let E=st();function B(y){E.update(y)}function U(y){var I;if(!E.wasMoved(y)||l.disabled||(I=e.virtual.value)!=null&&I.disabled(l.value)||g.value)return;let j=e.calculateIndex(l.value);e.goToOption(N.Specific,j,0)}function A(y){var I;E.wasMoved(y)&&(l.disabled||(I=e.virtual.value)!=null&&I.disabled(l.value)||g.value&&(e.optionsPropsRef.value.hold||e.goToOption(N.Nothing)))}return()=>{let{disabled:y}=l,I={active:g.value,selected:b.value,disabled:y},j={id:i,ref:a,role:"option",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,"aria-selected":b.value,disabled:void 0,onMousedown:O,onFocus:$,onPointerenter:B,onMouseenter:B,onPointermove:U,onMousemove:U,onPointerleave:A,onMouseleave:A},m=be(l,["order","value"]);return oe({ourProps:j,theirProps:m,slot:I,attrs:t,slots:r,name:"ComboboxOption"})}}});function Me(l,r){return P(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}function $e(l,r){return P(),L("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})])}async function Vt(l,r,t){const o=Fe(),e=await(t?o.updateProcess(l):o.createProcess(l));if(e==201||t&&e==200)ne.fire({icon:"success",title:"Success",text:r,confirmButtonText:"OK!"}).then(i=>{if(i.isConfirmed)return!0});else return ne.fire({icon:"error",title:"Oops...",text:"something went wrong!",footer:"<a>Try again or try later.</a>"}),!1}const Bt=it("case_type",{state:()=>({caseTypes:[],dataLoaded:!1}),getters:{caseTypeById:l=>r=>l.caseTypes.find(t=>t.id==r)},actions:{async init(){this.dataLoaded||await this.fetchCaseTypesData()},async fetchCaseTypesData(){if(!this.dataLoaded)try{let r=(await rt("case_types/")).data;if(r&&typeof r=="string")try{r=JSON.parse(r)}catch(t){console.error("JSON parse error:",t.message),r=[]}this.caseTypes=r??[],this.dataLoaded=!0}catch(l){console.error("Error fetching caseTypes data:",l.message),this.caseTypes=[],this.dataLoaded=!1}}}}),Nt={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},Lt={class:"py-10 px-4 sm:px-6 lg:px-8"},jt={class:"w-full p-5 rounded-lg border-2 border-stroke bg-terciary"},Ut=u("div",null,[u("h1",{class:"text-primary text-xl font-semibold"}," Información del proceso ")],-1),qt={class:"mt-4 space-y-3"},Wt={class:"grid md:grid-cols-2 xl:grid-cols-4 gap-3"},Kt=u("label",{for:"plaintiff",class:"block text-base font-medium leading-6 text-primary"},[W(" Dte./Accionante "),u("span",{class:"text-red-500"},"*")],-1),Jt={class:"mt-2"},Ht=u("label",{for:"defendant",class:"block text-base font-medium leading-6 text-primary"},[W(" Dte./Accionado "),u("span",{class:"text-red-500"},"*")],-1),Zt={class:"mt-2"},Gt=u("span",{class:"text-red-500"},"*",-1),Yt={class:"relative mt-2"},Qt=u("label",{for:"defendant",class:"block text-base font-medium leading-6 text-primary"},[W(" Subcaso "),u("span",{class:"text-red-500"},"*")],-1),Xt={class:"mt-2"},el={class:"grid md:grid-cols-3 gap-3"},tl=u("label",{for:"plaintiff",class:"block text-base font-medium leading-6 text-primary"},[W(" Radicado "),u("span",{class:"text-red-500"},"*")],-1),ll={class:"mt-2"},sl=u("label",{for:"plaintiff",class:"block text-base font-medium leading-6 text-primary"},[W(" Autoridad "),u("span",{class:"text-red-500"},"*")],-1),ol={class:"mt-2"},nl=u("span",{class:"text-red-500"},"*",-1),al={class:"relative mt-2"},il={class:"flex items-center"},rl=["src"],ul={class:"flex items-center gap-3 font-medium"},dl=u("p",{class:"inline-block text-base text-primary"},[W(" Etapa procesal "),u("span",{class:"text-red-500"},"*")],-1),cl={class:"qflow-root"},fl={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},pl={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},vl={class:"min-w-full divide-y divide-gray-300"},ml=u("thead",null,[u("tr",{class:"text-left text-base font-regular text-primary"},[u("th",{scope:"col",class:"py-3.5 pr-3 w-3/5"},"Descripción"),u("th",{scope:"col",class:"px-3 py-3.5 w-1/5"},"Acción")])],-1),hl={class:"divide-y divide-gray-200"},gl={class:"w-4/5 py-4 pr-3 text-sm font-medium text-primary sm:pl-0 break-words"},bl=["onUpdate:modelValue"],xl={class:"whitespace-nowrap w-1/5 px-3 py-4 text-sm text-primary flex gap-2"},yl=["onClick","disabled"],wl={class:"flex items-center gap-3 font-medium"},Sl=u("p",{class:"inline-block text-base text-primary"},"Documento",-1),_l={class:"qflow-root"},Ol={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Il={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Cl={class:"min-w-full divide-y divide-gray-300"},Rl=u("thead",null,[u("tr",{class:"text-left text-base font-regular text-primary"},[u("th",{scope:"col",class:"py-3.5 pr-3 w-3/5"}," Documentos Cargados "),u("th",{scope:"col",class:"px-3 py-3.5 w-1/5"},"Acción")])],-1),Tl={class:"divide-y divide-gray-200"},kl={class:"w-4/5 py-4 pr-3 text-sm font-medium text-primary sm:pl-0 break-words"},El={key:0},Ml=["href"],$l={key:1,class:"text-gray-500"},Dl={key:2,class:"text-gray-500"},zl=["id","onChange"],Pl={class:"whitespace-nowrap w-1/5 px-3 py-4 text-sm text-primary flex gap-2"},Al=["onClick"],Fl=["onClick"],Vl=["disabled"],Bl=u("span",null,"Guardar",-1),Nl=[Bl],Wl={__name:"ProcessForm",setup(l){const r=ut(),t=z(""),o=z(""),e=Fe(),i=Bt(),a=S(()=>i.caseTypes),s=dt(),g=S(()=>s.clients),b=ct(),n=ze({plaintiff:"",defendant:"",caseTypeId:"",subcase:"",ref:"",authority:"",clientId:"",lawyerId:"",stages:[{status:""}],caseFiles:[{file:null}]}),x=z(!1);let O={};me(async()=>{if(t.value=r.params.action,o.value=r.params.process_id,o.value){await e.init();const v=e.processById(o.value);v&&(B(v),O=JSON.parse(JSON.stringify(n)))}await i.init(),await s.init()}),J(n,()=>{$(n,O)?(console.log("No changes detected in formData"),x.value=!1):(console.log("Detected changes in formData"),x.value=!0)},{deep:!0}),J(()=>r.params.action,v=>{v==="add"&&_()});function $(v,f){return JSON.stringify(v)===JSON.stringify(f)}const E=S(()=>t.value=="add"?!0:o.value&&x.value);function B(v){n.processIdParam=v.id,n.plaintiff=v.plaintiff||"",n.defendant=v.defendant||"",I.value=v.case||"",n.subcase=v.subcase||"",n.ref=v.ref||"",n.authority=v.authority||"",m.value=v.client||"",n.lawyerId=v.lawyer.id||"",n.stages=v.stages.map(f=>({status:f.status||""})),n.caseFiles=v.case_files.map(f=>({file:f.file,id:f.id||""})),x.value=!1}const U=()=>{const v={Accionante:n.plaintiff,Accionado:n.defendant,"Tipo de Caso":n.caseTypeId,"Sub Caso":n.subcase,Radicado:n.ref,Autoridad:n.authority,Cliente:n.clientId,Abogado:n.lawyerId};for(const[f,d]of Object.entries(v))if(!d||String(d).trim()==="")return ne.fire({title:"Campo requerido!",text:`El campo "${f}" es obligatorio.`,icon:"warning"}),!1;for(const[f,d]of n.stages.entries())if(!d.status||d.status.trim()==="")return ne.fire({title:"Estado requerido!",text:`El estado de la etapa procesal en la fila ${f+1} es obligatorio o debe ser eliminado si no es necesario.`,icon:"warning"}),!1;for(const[f,d]of n.caseFiles.entries())if(!d.file)return ne.fire({title:"Archivo requerido!",text:`El archivo en la fila ${f+1} es obligatorio o debe ser eliminado si no es necesario.`,icon:"warning"}),!1;return!0},A=async()=>{var v,f,d;n.caseTypeId=((v=I.value)==null?void 0:v.id)||"",n.clientId=((f=m.value)==null?void 0:f.id)||"",n.lawyerId=((d=b.userAuth)==null?void 0:d.id)||"",U()&&(await Vt(n,"Process information saved successfully!",!!o.value),pt.push({name:"process_list",params:{user_id:"",display:""}}))},y=z(""),I=z(null),j=S(()=>y.value===""?a.value:a.value.filter(v=>v.type.toLowerCase().includes(y.value.toLowerCase()))),m=z(null),C=S(()=>y.value===""?g.value:g.value.filter(v=>["first_name","last_name","identification","email"].some(f=>{var d;return(d=v[f])==null?void 0:d.toLowerCase().includes(y.value.toLowerCase())}))),M=()=>{n.stages.push({status:""})},p=v=>{n.stages.splice(v,1)},R=(v,f)=>{const d=v.target.files[0];n.caseFiles[f].file=d},c=()=>{n.caseFiles.push({file:null,id:""})};function h(v){window.open(v,"_blank")}const w=v=>{n.caseFiles.splice(v,1)},_=()=>{n.plaintiff="",n.defendant="",n.caseTypeId="",n.subcase="",n.ref="",n.authority="",n.clientId="",n.lawyerId="",n.stages=[{status:""}],n.caseFiles=[{file:null}]};return(v,f)=>(P(),L(le,null,[u("div",Nt,[ft(v.$slots,"default")]),u("div",Lt,[u("div",jt,[Ut,u("div",qt,[u("div",Wt,[u("div",null,[Kt,u("div",Jt,[X(u("input",{"onUpdate:modelValue":f[0]||(f[0]=d=>n.plaintiff=d),type:"text",name:"plaintiff",id:"plaintiff",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[ee,n.plaintiff]])])]),u("div",null,[Ht,u("div",Zt,[X(u("input",{"onUpdate:modelValue":f[1]||(f[1]=d=>n.defendant=d),type:"text",name:"defendant",id:"defendant",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[ee,n.defendant]])])]),u("div",null,[V(T(Ie),{as:"div",modelValue:I.value,"onUpdate:modelValue":[f[4]||(f[4]=d=>I.value=d),f[5]||(f[5]=d=>y.value="")]},{default:K(()=>[V(T(Ce),{class:"block text-base font-medium leading-6 text-primary"},{default:K(()=>[W(" Tipo de caso "),Gt]),_:1}),u("div",Yt,[V(T(Te),{class:"w-full rounded-md border-0 bg-white py-1.5 pl-3 pr-10 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",onChange:f[2]||(f[2]=d=>y.value=d.target.value),onBlur:f[3]||(f[3]=d=>y.value=""),"display-value":d=>d==null?void 0:d.type},null,8,["display-value"]),V(T(Re),{class:"absolute inset-y-0 right-0 flex items-center gap-2 rounded-r-md px-2 focus:outline-none border-l border-gray-300"},{default:K(()=>[W(" Seleccionar "),V(T(Se),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),j.value.length>0?(P(),re(T(ke),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:K(()=>[(P(!0),L(le,null,ie(j.value,d=>(P(),re(T(Ee),{key:d.id,value:d,as:"template"},{default:K(({active:D,selected:F})=>[u("li",{class:Z(["relative cursor-default select-none py-2 pl-3 pr-9",D?"bg-secondary text-white":"text-primary"])},[u("span",{class:Z(["block truncate",F&&"font-semibold"])},ue(d.type),3),F?(P(),L("span",{key:0,class:Z(["absolute inset-y-0 right-0 flex items-center pr-4",D?"text-white":"text-secondary"])},[V(T(Me),{class:"h-5 w-5","aria-hidden":"true"})],2)):de("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):de("",!0)])]),_:1},8,["modelValue"])]),u("div",null,[Qt,u("div",Xt,[X(u("input",{"onUpdate:modelValue":f[6]||(f[6]=d=>n.subcase=d),type:"text",name:"defendant",id:"defendant",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[ee,n.subcase]])])])]),u("div",el,[u("div",null,[tl,u("div",ll,[X(u("input",{"onUpdate:modelValue":f[7]||(f[7]=d=>n.ref=d),type:"text",name:"plaintiff",id:"plaintiff",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[ee,n.ref]])])]),u("div",null,[sl,u("div",ol,[X(u("input",{"onUpdate:modelValue":f[8]||(f[8]=d=>n.authority=d),type:"text",name:"plaintiff",id:"plaintiff",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[ee,n.authority]])])]),u("div",null,[V(T(Ie),{as:"div",modelValue:m.value,"onUpdate:modelValue":[f[11]||(f[11]=d=>m.value=d),f[12]||(f[12]=d=>y.value="")]},{default:K(()=>[V(T(Ce),{class:"block text-sm font-medium leading-6 text-primary"},{default:K(()=>[W(" Usuario "),nl]),_:1}),u("div",al,[V(T(Te),{class:"w-full rounded-md border-0 bg-white py-1.5 pl-3 pr-12 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",onChange:f[9]||(f[9]=d=>y.value=d.target.value),onBlur:f[10]||(f[10]=d=>y.value=""),"display-value":d=>d!=null&&d.last_name&&(d!=null&&d.first_name)?`${d==null?void 0:d.last_name} ${d==null?void 0:d.first_name}`:""},null,8,["display-value"]),V(T(Re),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:K(()=>[V(T(Se),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),C.value.length>0?(P(),re(T(ke),{key:0,class:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:K(()=>[(P(!0),L(le,null,ie(C.value,d=>(P(),re(T(Ee),{key:d.id,value:d,as:"template"},{default:K(({active:D,selected:F})=>[u("li",{class:Z(["relative cursor-default select-none py-2 pl-3 pr-9",D?"bg-secondary text-white":"text-primary"])},[u("div",il,[u("img",{src:d.photo_profile||T(vt),alt:"Foto de perfil",class:"h-6 w-6 flex-shrink-0 rounded-full"},null,8,rl),u("span",{class:Z(["ml-3 truncate",F&&"font-semibold"])},ue(d.last_name)+" "+ue(d.first_name),3)]),F?(P(),L("span",{key:0,class:Z(["absolute inset-y-0 right-0 flex items-center pr-4",D?"text-white":"text-secondary"])},[V(T(Me),{class:"h-5 w-5","aria-hidden":"true"})],2)):de("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):de("",!0)])]),_:1},8,["modelValue"])])]),u("div",null,[u("div",ul,[dl,u("button",{onClick:M,class:"flex items-center px-2 py-1 rounded-md text-sm text-secondary bg-selected-background"},[V(T($e),{class:"h-5 w-5"}),W(" Nuevo ")])]),u("div",cl,[u("div",fl,[u("div",pl,[u("table",vl,[ml,u("tbody",hl,[(P(!0),L(le,null,ie(n.stages,(d,D)=>(P(),L("tr",{key:D},[u("td",gl,[X(u("input",{"onUpdate:modelValue":F=>d.status=F,type:"text",name:"stage",id:"stage",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,8,bl),[[ee,d.status]])]),u("td",xl,[u("button",{onClick:F=>p(D),disabled:D==0},[V(T(_e),{class:Z(["mx-3 h-7 w-7",D==0?"text-gray-500 cursor-not-allowed":"text-red-500"])},null,8,["class"])],8,yl)])]))),128))])])])])])]),u("div",null,[u("div",wl,[Sl,u("button",{onClick:c,class:"flex items-center px-2 py-1 rounded-md text-sm text-secondary bg-selected-background"},[V(T($e),{class:"h-5 w-5"}),W(" Nuevo ")])]),u("div",_l,[u("div",Ol,[u("div",Il,[u("table",Cl,[Rl,u("tbody",Tl,[(P(!0),L(le,null,ie(n.caseFiles,(d,D)=>(P(),L("tr",{key:D},[u("td",kl,[typeof d.file=="string"?(P(),L("span",El,[u("a",{href:d.file,target:"_blank",class:"text-blue-500 hover:underline"},ue(d.file.split("/").pop()),9,Ml)])):d.file?(P(),L("span",$l," Archivo subido ")):(P(),L("span",Dl,"Ningún archivo subido")),u("input",{type:"file",id:"file-"+D,onChange:F=>R(F,D),class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,40,zl)]),u("td",Pl,[u("button",{onClick:F=>h(d.file)},[V(T(mt),{class:"h-7 w-7 text-primary"})],8,Al),u("button",{onClick:F=>w(D)},[V(T(_e),{class:"h-7 w-7 text-red-500"})],8,Fl)])]))),128))])])])])])]),u("div",null,[u("button",{onClick:A,type:"button",class:Z(["p-2.5 text-sm font-medium rounded-md flex gap-2",E.value?"bg-secondary text-white":"bg-gray-200 text-gray-400 border-gray-300 cursor-not-allowed opacity-50"]),disabled:!E.value},Nl,10,Vl)])])])])],64))}};export{Wl as default};
