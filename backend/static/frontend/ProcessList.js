import{_ as B,a as S,b as j}from"./TextStages.js";import{_ as N}from"./SearchBarAndFilterBy.js";import{e as r,f as l,g as e,s as $,r as u,x as A,c as V,y as D,z as y,d as E,j as _,k as x,F as b,A as L,t,i as w,B as z,n as F,l as I,C as M}from"./index.js";import{u as Q}from"./process.js";import"./MagnifyingGlassIcon.js";function R(k,o){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}const U={key:0,class:"py-10 px-4 sm:px-6 lg:px-8 grid place-items-center gap-3 grid-cols-1"},Z=["onClick"],q={class:"flex items-center gap-3"},G=e("img",{src:j,class:"h-6 w-6"},null,-1),H={class:"grid"},J={class:"text-base text-primary font-medium"},K={class:"text-sm text-gray-500 font-regular"},O={key:0},T={class:"font-medium mt-4 space-y-1"},W={class:"flex gap-2"},X=e("h3",{class:"text-base text-primary"},"Autoridad:",-1),Y={class:"text-gray-500"},ee={class:"flex gap-2"},se=e("h3",{class:"text-base text-primary"},"Dte./Accionante:",-1),te={class:"text-gray-500"},ae={class:"flex gap-2"},oe=e("h3",{class:"text-base text-primary"},"Dte./Accionado:",-1),ie={class:"text-gray-500"},re={class:"flex gap-2"},le=e("h3",{class:"text-base text-primary"},"Radicado:",-1),ne={class:"text-gray-500"},de={class:"flex gap-2"},ce=e("h3",{class:"text-base text-primary"},"Etapa Procesal:",-1),ue={class:"text-gray-500"},_e={class:"relative mt-16"},ve={class:"relative"},me=M('<div class="flex justify-between"><div class="border-2 border-gray-500 h-4 w-0"></div><div class="border-2 border-gray-500 h-4 w-0"></div></div><div class="border-2 border-gray-500"></div><div class="flex justify-between"><div class="border-2 border-gray-500 h-4 w-0"></div><div class="border-2 border-gray-500 h-4 w-0"></div></div>',3),pe={class:"font-medium text-sm mt-8"},he={type:"button",class:"p-2.5 text-white bg-secondary rounded-md"},fe=e("span",null,"Consultar expediente",-1),ge={key:1,class:"flex justify-center m-6"},Pe={__name:"ProcessList",setup(k){const o=$(),n=u(""),i=u(""),m=A(),p=Q(),d=u(null),h=u(!0),f=u(""),g=V(()=>p.filteredProcesses(f.value,h.value,n.value,i.value)),c=u([]);D(async()=>{await p.init(),n.value=o.params.user_id,i.value=o.params.display,n.value&&(await m.init(),d.value=m.userById(n.value),h.value=d.value.role=="client")}),y(()=>o.params.user_id,async a=>{n.value=a,i.value=o.params.display}),y(()=>o.params.display,async a=>{n.value=o.params.user_id,i.value=a});const C=a=>{c.value.includes(a)?c.value=c.value.filter(v=>v!==a):c.value.push(a)};return(a,v)=>{const P=E("router-link");return r(),l(b,null,[_(N,{"onUpdate:searchQuery":v[0]||(v[0]=s=>f.value=s)},{default:x(()=>[z(a.$slots,"default")]),_:3}),g.value.length?(r(),l("div",U,[(r(!0),l(b,null,L(g.value,s=>(r(),l("div",{key:s.id,class:"p-5 rounded-lg border-2 border-stroke bg-terciary grid w-full"},[e("div",{class:"flex items-center justify-between gap-3 cursor-pointer",onClick:ye=>C(s.id)},[e("div",q,[G,e("div",H,[e("h1",J,t(s.case.type),1),e("h2",K,t(s.subcase),1)])]),_(I(R),{class:F(["h-6 w-6 cursor-pointer",c.value.includes(s.id)?"transform rotate-180":"transform rotate-0"])},null,8,["class"])],8,Z),c.value.includes(s.id)?(r(),l("div",O,[e("div",T,[e("div",W,[X,e("p",Y,t(s.authority),1)]),e("div",ee,[se,e("p",te,t(s.plaintiff),1)]),e("div",ae,[oe,e("p",ie,t(s.defendant),1)]),e("div",re,[le,e("p",ne,t(s.ref),1)]),e("div",de,[ce,e("p",ue,t(s.stages[s.stages.length-1].status),1)])]),e("div",null,[e("div",_e,[e("div",ve,[me,_(B,{length:s.stages.length,displayParam:i.value?i.value:""},null,8,["length","displayParam"])]),e("div",null,[_(S,{stages:s.stages},null,8,["stages"])])]),e("div",pe,[e("button",he,[_(P,{to:{name:"process_detail",params:{process_id:s.id,display:i.value}}},{default:x(()=>[fe]),_:2},1032,["to"])])])])])):w("",!0)]))),128))])):d.value?(r(),l("div",ge," No existen procesos para el usuario "+t(d.value.first_name)+" "+t(d.value.last_name)+" identificada con C.C. "+t(d.value.identification),1)):w("",!0)],64)}}};export{Pe as default};
