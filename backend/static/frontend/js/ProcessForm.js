import{e as i,f as c,g as e,H as oe,al as _,C as he,D as xe,ab as ve,r as w,c as D,I as be,a as _e,b as we,o as ke,T as H,a9 as Ce,w as v,v as b,h as d,i as h,j as n,p as m,F as k,N as T,n as g,l as C,y as A,a4 as R,k as F,t as B,J as Se,s as X}from"./index.js";import{a as Z,i as K,n as W,r as Y,b as Q,u as ee,l as te}from"./combobox.js";import{r as U}from"./TrashIcon.js";import{r as Ie}from"./EyeIcon.js";function se(x,u){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})])}async function ae(x,u,f){const p=oe();_.fire({title:"Procesando...",text:"Por favor espere, estamos procesando la solicitud.",allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{_.showLoading()}});const S=await(f?p.updateProcess(x):p.createProcess(x));if(_.close(),S==201||f&&S==200)_.fire({icon:"success",title:"Exitoso",text:u,confirmButtonText:"OK!"}).then(P=>{if(P.isConfirmed)return!0});else return _.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"<a>Try again or later.</a>"}),!1}const Ve=he("case_type",{state:()=>({caseTypes:[],dataLoaded:!1}),getters:{caseTypeById:x=>u=>x.caseTypes.find(f=>f.id==u)},actions:{async init(){this.dataLoaded||await this.fetchCaseTypesData()},async fetchCaseTypesData(){try{let u=(await xe("case_types/")).data;if(u&&typeof u=="string")try{u=JSON.parse(u)}catch(f){console.error("JSON parse error:",f.message),u=[]}this.caseTypes=u??[],this.dataLoaded=!0}catch(x){console.error("Error fetching caseTypes data:",x.message),this.caseTypes=[],this.dataLoaded=!1}}}}),De={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8 lg:hidden"},Te={class:"pb-10 px-4 sm:px-6 lg:px-8 lg:pt-10"},Be={class:"w-full p-5 rounded-lg border-2 border-stroke bg-terciary"},Pe=e("div",null,[e("h1",{class:"text-primary text-xl font-semibold"}," Información del proceso ")],-1),Ae={class:"mt-4 space-y-3"},Fe={class:"grid md:grid-cols-2 xl:grid-cols-4 gap-3"},Ee=e("label",{for:"plaintiff",class:"block text-base font-medium leading-6 text-primary"},[m(" Dte./Accionante "),e("span",{class:"text-red-500"},"*")],-1),Ue={class:"mt-2"},$e=e("label",{for:"defendant",class:"block text-base font-medium leading-6 text-primary"},[m(" Ddo./Accionado "),e("span",{class:"text-red-500"},"*")],-1),qe={class:"mt-2"},Le=e("span",{class:"text-red-500"},"*",-1),Ne={class:"relative mt-2"},Oe=e("label",{for:"defendant",class:"block text-base font-medium leading-6 text-primary"},[m(" Subclase "),e("span",{class:"text-red-500"},"*")],-1),Me={class:"mt-2"},je={class:"grid md:grid-cols-3 gap-3"},Je=e("label",{for:"plaintiff",class:"block text-base font-medium leading-6 text-primary"},[m(" Radicado "),e("span",{class:"text-red-500"},"*")],-1),ze={class:"mt-2"},Ge=e("label",{for:"plaintiff",class:"block text-base font-medium leading-6 text-primary"},[m(" Autoridad "),e("span",{class:"text-red-500"},"*")],-1),He={class:"mt-2"},Re=e("span",{class:"text-red-500"},"*",-1),Xe={class:"relative mt-2"},Ze={class:"flex items-center"},Ke=["src"],We={class:"flex items-center gap-3 font-medium"},Ye=e("p",{class:"inline-block text-base text-primary"},[m(" Etapa procesal "),e("span",{class:"text-red-500"},"*")],-1),Qe={class:"qflow-root"},et={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},tt={class:"block md:hidden space-y-3"},st={class:"space-y-3"},at=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"}," Descripción ",-1),ot=["onUpdate:modelValue"],rt={class:"flex items-end gap-2"},nt={class:"flex-1"},it=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),m(" Fecha ")],-1),lt=["onUpdate:modelValue"],dt=["onClick","disabled"],ct={class:"hidden md:block"},ut={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},pt={class:"min-w-full divide-y divide-gray-300"},mt=e("thead",null,[e("tr",{class:"text-left text-base font-regular text-primary"},[e("th",{scope:"col",class:"py-3.5 pr-3 w-3/5"},"Descripción"),e("th",{scope:"col",class:"px-3 py-3.5 w-1/5"},"Fecha"),e("th",{scope:"col",class:"px-3 py-3.5 w-1/5"},"Acción")])],-1),ft={class:"divide-y divide-gray-200"},gt={class:"w-3/5 py-4 pr-3 text-sm font-medium text-primary sm:pl-0 break-words"},yt=["onUpdate:modelValue"],ht={class:"whitespace-nowrap w-1/5 px-3 py-4 text-sm text-primary"},xt=["onUpdate:modelValue"],vt={class:"whitespace-nowrap w-1/5 px-3 py-4 text-sm text-primary flex gap-2"},bt=["onClick","disabled"],_t={class:"flex items-center gap-3 font-medium"},wt=e("p",{class:"inline-block text-base text-primary"},"Documento",-1),kt={class:"qflow-root"},Ct={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},St={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},It={class:"min-w-full divide-y divide-gray-300"},Vt=e("thead",null,[e("tr",{class:"text-left text-base font-regular text-primary"},[e("th",{scope:"col",class:"py-3.5 pr-3 w-3/5"}," Documentos Cargados "),e("th",{scope:"col",class:"px-3 py-3.5 w-1/5"},"Acción")])],-1),Dt={class:"divide-y divide-gray-200"},Tt={class:"w-4/5 py-4 pr-3 text-sm font-medium text-primary sm:pl-0 break-words"},Bt={key:0},Pt=["href"],At={key:1,class:"text-gray-500"},Ft={key:2,class:"text-gray-500"},Et=["id","onChange"],Ut=["onClick"],$t=["onClick"],qt={class:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-6 border-t border-gray-200"},Lt=["disabled"],Nt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),Ot=e("span",null,"Guardar Proceso",-1),Mt=[Nt,Ot],jt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})],-1),Jt=e("span",null,"Archivar Proceso",-1),zt=[jt,Jt],Gt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Ht=e("span",null,"Cancelar",-1),Rt=[Gt,Ht],Xt=50*1024*1024,Qt={__name:"ProcessForm",setup(x){const u=ve(),f=w(""),p=w(""),S=oe(),P=Ve(),$=D(()=>P.caseTypes),q=be(),L=D(()=>q.clients),N=_e(),s=we({plaintiff:"",defendant:"",caseTypeId:"",subcase:"",ref:"",authority:"",clientId:"",lawyerId:"",stages:[{status:"",date:""}],caseFiles:[{file:null}]}),E=w(!1);let O={};ke(async()=>{if(f.value=u.params.action,p.value=u.params.process_id,p.value){await S.init();const o=S.processById(p.value);o&&(ne(o),O=JSON.parse(JSON.stringify(s)))}try{await Promise.all([P.init(),q.init()])}catch(o){console.error("Error initializing process form auxiliary data:",o)}}),H(s,()=>{re(s,O)?E.value=!1:E.value=!0},{deep:!0}),H(()=>u.params.action,o=>{o==="add"&&ge()});function re(o,a){return JSON.stringify(o)===JSON.stringify(a)}const M=D(()=>s.plaintiff.trim()&&s.defendant.trim()&&s.subcase.trim()&&s.ref.trim()&&s.authority.trim()&&s.stages.every(o=>o.status.trim()));function ne(o){s.processIdParam=o.id||"",s.plaintiff=o.plaintiff||"",s.defendant=o.defendant||"",I.value=o.case||"",s.subcase=o.subcase||"",s.ref=o.ref||"",s.authority=o.authority||"",V.value=o.client||"",s.lawyerId=o.lawyer.id||"",s.stages=o.stages.map(a=>({status:a.status||"",date:a.date||""})),s.caseFiles=o.case_files.map(a=>({file:a.file,id:a.id||""})),E.value=!1}const j=()=>{const o={Accionante:s.plaintiff,Accionado:s.defendant,"Tipo de Caso":s.caseTypeId,"Sub Caso":s.subcase,Radicado:s.ref,Autoridad:s.authority,Cliente:s.clientId,Abogado:s.lawyerId};for(const[a,t]of Object.entries(o))if(!t||String(t).trim()==="")return _.fire({title:"Campo requerido!",text:`El campo "${a}" es obligatorio.`,icon:"warning"}),!1;for(const[a,t]of s.stages.entries())if(!t.status||t.status.trim()==="")return _.fire({title:"Estado requerido!",text:`El estado de la etapa procesal en la fila ${a+1} es obligatorio o debe ser eliminado si no es necesario.`,icon:"warning"}),!1;for(const[a,t]of s.caseFiles.entries())if(!t.file)return _.fire({title:"¡Archivo requerido!",text:`El archivo en la fila ${a+1} es obligatorio o debe ser eliminado si no es necesario.`,icon:"warning"}),!1;return!0},ie=async()=>{var o,a,t;s.caseTypeId=((o=I.value)==null?void 0:o.id)||"",s.clientId=((a=V.value)==null?void 0:a.id)||"",s.lawyerId=((t=N.userAuth)==null?void 0:t.id)||"",f.value==="edit"&&p.value&&(console.log("Submitting with process ID:",p.value),s.processIdParam=p.value),j()&&(await ae(s,"La información del proceso se ha guardado exitosamente!",!!p.value),f.value=="add"?A.push({name:"process_list",params:{user_id:"",display:""}}):A.back())},le=async()=>{var a,t,r;(await _.fire({title:"¿Archivar este proceso?",text:"Esta acción marcará el proceso como archivado. ¿Desea continuar?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#BD93F9",cancelButtonColor:"#d33",confirmButtonText:"Sí, archivar proceso",cancelButtonText:"Cancelar"})).isConfirmed&&(s.stages.push({status:"Fallo"}),s.processIdParam=p.value,s.caseTypeId=((a=I.value)==null?void 0:a.id)||"",s.clientId=((t=V.value)==null?void 0:t.id)||"",s.lawyerId=((r=N.userAuth)==null?void 0:r.id)||"",s.isArchiving=!0,j()&&(await ae(s,"El proceso ha sido archivado exitosamente!",!0),A.back()))},y=w(""),I=w(null),J=D(()=>y.value===""?$.value:$.value.filter(o=>o.type.toLowerCase().includes(y.value.toLowerCase()))),V=w(null),z=D(()=>y.value===""?L.value:L.value.filter(o=>["first_name","last_name","identification","email"].some(a=>{var t;return(t=o[a])==null?void 0:t.toLowerCase().includes(y.value.toLowerCase())}))),de=()=>{const o=new Date().toISOString().slice(0,10);s.stages.push({status:"",date:o})},G=o=>{s.stages.splice(o,1)},ce=["png","jpg","jpeg","pdf","docx"],ue=(o,a)=>{const t=o.target.files[0];if(!t)return;if(t.size>Xt){X(`El archivo "${t.name}" excede el límite de 50 MB. Por favor, selecciona un archivo más pequeño.`,"warning");return}const r=t.name.split(".").pop().toLowerCase();if(!ce.includes(r)){X("¡Ups! Ese tipo de archivo no es compatible. Asegúrate de que el archivo sea PDF, DOCX, JPG, PNG, JPEG.","warning");return}s.caseFiles[a].file=t},pe=()=>{s.caseFiles.push({file:null,id:""})};function me(o){window.open(o,"_blank")}const fe=o=>{s.caseFiles.splice(o,1)},ge=()=>{s.plaintiff="",s.defendant="",s.caseTypeId="",s.subcase="",s.ref="",s.authority="",s.clientId="",s.lawyerId="";const o=new Date().toISOString().slice(0,10);s.stages=[{status:"",date:o}],s.caseFiles=[{file:null}]},ye=()=>{A.back()};return(o,a)=>(i(),c(k,null,[e("div",De,[Ce(o.$slots,"default")]),e("div",Te,[e("div",Be,[Pe,e("div",Ae,[e("div",Fe,[e("div",null,[Ee,e("div",Ue,[v(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>s.plaintiff=t),type:"text",name:"plaintiff",id:"plaintiff",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[b,s.plaintiff]])])]),e("div",null,[$e,e("div",qe,[v(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>s.defendant=t),type:"text",name:"defendant",id:"defendant",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[b,s.defendant]])])]),e("div",null,[d(n(te),{as:"div",modelValue:I.value,"onUpdate:modelValue":[a[4]||(a[4]=t=>I.value=t),a[5]||(a[5]=t=>y.value="")]},{default:h(()=>[d(n(Z),{class:"block text-base font-medium leading-6 text-primary"},{default:h(()=>[m(" Tipo Proceso "),Le]),_:1}),e("div",Ne,[d(n(K),{class:"w-full rounded-md border-0 bg-white py-1.5 pl-3 pr-10 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",onChange:a[2]||(a[2]=t=>y.value=t.target.value),onBlur:a[3]||(a[3]=t=>y.value=""),"display-value":t=>t==null?void 0:t.type},null,8,["display-value"]),d(n(W),{class:"absolute inset-y-0 right-0 flex items-center gap-2 rounded-r-md px-2 focus:outline-none border-l border-gray-300"},{default:h(()=>[m(" Seleccionar "),d(n(R),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),J.value.length>0?(i(),F(n(ee),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:h(()=>[(i(!0),c(k,null,T(J.value,t=>(i(),F(n(Y),{key:t.id,value:t,as:"template"},{default:h(({active:r,selected:l})=>[e("li",{class:g(["relative cursor-default select-none py-2 pl-3 pr-9",r?"bg-secondary text-white":"text-primary"])},[e("span",{class:g(["block truncate",l&&"font-semibold"])},B(t.type),3),l?(i(),c("span",{key:0,class:g(["absolute inset-y-0 right-0 flex items-center pr-4",r?"text-white":"text-secondary"])},[d(n(Q),{class:"h-5 w-5","aria-hidden":"true"})],2)):C("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):C("",!0)])]),_:1},8,["modelValue"])]),e("div",null,[Oe,e("div",Me,[v(e("input",{"onUpdate:modelValue":a[6]||(a[6]=t=>s.subcase=t),type:"text",name:"defendant",id:"defendant",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[b,s.subcase]])])])]),e("div",je,[e("div",null,[Je,e("div",ze,[v(e("input",{"onUpdate:modelValue":a[7]||(a[7]=t=>s.ref=t),type:"text",name:"plaintiff",id:"plaintiff",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[b,s.ref]])])]),e("div",null,[Ge,e("div",He,[v(e("input",{"onUpdate:modelValue":a[8]||(a[8]=t=>s.authority=t),type:"text",name:"plaintiff",id:"plaintiff",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[b,s.authority]])])]),e("div",null,[d(n(te),{as:"div",modelValue:V.value,"onUpdate:modelValue":[a[11]||(a[11]=t=>V.value=t),a[12]||(a[12]=t=>y.value="")]},{default:h(()=>[d(n(Z),{class:"block text-sm font-medium leading-6 text-primary"},{default:h(()=>[m(" Usuario "),Re]),_:1}),e("div",Xe,[d(n(K),{class:"w-full rounded-md border-0 bg-white py-1.5 pl-3 pr-12 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",onChange:a[9]||(a[9]=t=>y.value=t.target.value),onBlur:a[10]||(a[10]=t=>y.value=""),"display-value":t=>t!=null&&t.last_name&&(t!=null&&t.first_name)?`${t==null?void 0:t.last_name} ${t==null?void 0:t.first_name}`:""},null,8,["display-value"]),d(n(W),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:h(()=>[d(n(R),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),z.value.length>0?(i(),F(n(ee),{key:0,class:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:h(()=>[(i(!0),c(k,null,T(z.value,t=>(i(),F(n(Y),{key:t.id,value:t,as:"template"},{default:h(({active:r,selected:l})=>[e("li",{class:g(["relative cursor-default select-none py-2 pl-3 pr-9",r?"bg-secondary text-white":"text-primary"])},[e("div",Ze,[e("img",{src:t.photo_profile||n(Se),alt:"Foto de perfil",class:"h-6 w-6 flex-shrink-0 rounded-full"},null,8,Ke),e("span",{class:g(["ml-3 truncate",l&&"font-semibold"])},B(t.last_name)+" "+B(t.first_name),3)]),l?(i(),c("span",{key:0,class:g(["absolute inset-y-0 right-0 flex items-center pr-4",r?"text-white":"text-secondary"])},[d(n(Q),{class:"h-5 w-5","aria-hidden":"true"})],2)):C("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):C("",!0)])]),_:1},8,["modelValue"])])]),e("div",null,[e("div",We,[Ye,e("button",{onClick:de,class:"flex items-center px-2 py-1 rounded-md text-sm text-secondary bg-selected-background"},[d(n(se),{class:"h-5 w-5"}),m(" Nuevo ")])]),e("div",Qe,[e("div",et,[e("div",tt,[(i(!0),c(k,null,T(s.stages,(t,r)=>(i(),c("div",{key:r,class:"bg-gray-50 rounded-lg p-4 border border-gray-200"},[e("div",st,[e("div",null,[at,v(e("input",{"onUpdate:modelValue":l=>t.status=l,type:"text",name:"stage",placeholder:"Descripción de la etapa",class:"block w-full rounded-md border-0 py-2 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary text-sm",required:""},null,8,ot),[[b,t.status]])]),e("div",rt,[e("div",nt,[it,v(e("input",{"onUpdate:modelValue":l=>t.date=l,type:"date",name:"stage_date",class:"block w-full rounded-md border-0 py-2 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-secondary text-sm"},null,8,lt),[[b,t.date]])]),e("button",{onClick:l=>G(r),disabled:r==0,class:g(["p-2 rounded-md",r==0?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"])},[d(n(U),{class:"h-6 w-6"})],10,dt)])])]))),128))]),e("div",ct,[e("div",ut,[e("table",pt,[mt,e("tbody",ft,[(i(!0),c(k,null,T(s.stages,(t,r)=>(i(),c("tr",{key:r},[e("td",gt,[v(e("input",{"onUpdate:modelValue":l=>t.status=l,type:"text",name:"stage",id:"stage",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,8,yt),[[b,t.status]])]),e("td",ht,[v(e("input",{"onUpdate:modelValue":l=>t.date=l,type:"date",name:"stage_date",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6"},null,8,xt),[[b,t.date]])]),e("td",vt,[e("button",{onClick:l=>G(r),disabled:r==0},[d(n(U),{class:g(["mx-3 h-7 w-7",r==0?"text-gray-500 cursor-not-allowed":"text-red-600/80"])},null,8,["class"])],8,bt)])]))),128))])])])])])])]),e("div",null,[e("div",_t,[wt,e("button",{onClick:pe,class:"flex items-center px-2 py-1 rounded-md text-sm text-secondary bg-selected-background"},[d(n(se),{class:"h-5 w-5"}),m(" Nuevo ")])]),e("div",kt,[e("div",Ct,[e("div",St,[e("table",It,[Vt,e("tbody",Dt,[(i(!0),c(k,null,T(s.caseFiles,(t,r)=>(i(),c("tr",{key:r},[e("td",Tt,[typeof t.file=="string"?(i(),c("span",Bt,[e("a",{href:t.file,target:"_blank",class:"text-blue-500 hover:underline"},B(t.file.split("/").pop()),9,Pt)])):t.file?(i(),c("span",At," Archivo cargado: "+B(t.file.name),1)):(i(),c("span",Ft,"Ningún archivo subido")),e("input",{type:"file",id:"file-"+r,onChange:l=>ue(l,r),class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,40,Et)]),e("td",{class:g(["whitespace-nowrap w-1/5 py-4 text-sm text-primary flex gap-2",t.file?"":"px-3"])},[t.file?(i(),c("button",{key:0,onClick:l=>me(t.file)},[d(n(Ie),{class:"h-7 w-7 text-primary"})],8,Ut)):C("",!0),e("button",{onClick:l=>fe(r)},[d(n(U),{class:g(["h-7 w-7 text-red-600/80",t.file?"":"mx-3"])},null,8,["class"])],8,$t)],2)]))),128))])])])])])]),e("div",qt,[e("button",{onClick:ie,type:"button",class:g(["inline-flex items-center justify-center px-6 py-3 text-sm font-semibold rounded-lg shadow-sm transition-all duration-200",M.value?"bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500":"bg-gray-100 text-gray-400 border-2 border-dashed border-gray-300 cursor-not-allowed"]),disabled:!M.value},Mt,10,Lt),f.value==="edit"&&p.value?(i(),c("button",{key:0,onClick:le,type:"button",class:"inline-flex items-center justify-center px-6 py-3 text-sm font-semibold rounded-lg shadow-sm bg-amber-500 text-white hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-all duration-200"},zt)):C("",!0),e("button",{onClick:ye,type:"button",class:"inline-flex items-center justify-center px-6 py-3 text-sm font-semibold rounded-lg shadow-sm bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 sm:ml-auto"},Rt)])])])])],64))}};export{Qt as default};
