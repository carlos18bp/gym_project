import{e as i,f as d,g as e,I as j,J as P,N as $,u as B,r as L,o as G,b as I,c as R,j as m,k as T,l as h,F as b,D as A,h as w,w as y,v as x,n as k,m as _,s as f,E as U,t as z,O as Z,ar as H,L as O,P as J}from"./index.js";import{_ as X}from"./SearchBarAndFilterBy.js";import{r as D,s as Q,h as K}from"./loading_message.js";import"./MagnifyingGlassIcon.js";function W(o,r){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function Y(o,r){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}function ee(o,r){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function M(o,r){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"})])}const te=j("intranetGymStore",{state:()=>({legalLinks:[],dataLoaded:!1}),actions:{async init(){this.dataLoaded||await this.fetchLegalLinks()},async fetchLegalLinks(){try{const o=await P("/legal_intranet_links/");this.legalLinks=o.data,this.dataLoaded=!0}catch(o){console.error("Error fetching legal links:",o),this.legalLinks=[],this.dataLoaded=!1}},async createReportRequest(o){const r=new FormData;r.append("contract",o.contract),r.append("initialDate",o.initialDate),r.append("endDate",o.endDate),r.append("paymentConcept",o.paymentConcept),r.append("paymentAmount",o.paymentAmount),o.files&&o.files.length>0&&o.files.forEach((l,v)=>{r.append(`files[${v}]`,l)});try{const l=await $("create_report_request/",r);return l.status===201?(console.log("Report request created successfully!"),this.dataLoaded=!1,l.status):(console.error("Failed to create report request:",l.status),null)}catch(l){return console.error("Error creating report request:",l.message),null}}}}),se={class:"pb-10 px-4 sm:px-6 lg:px-8 lg:pt-10"},ae={class:"w-full p-5 rounded-lg border-2 border-yellow-300 bg-yellow-300/30 space-y-3"},oe={class:"space-y-3"},ne=e("div",null,[e("h1",{class:"text-primary text-xl font-semibold"}," Nuestros Principios Fundamentales ")],-1),re={class:"space-y-3"},ie={class:"space-y-1.5"},le={class:"flex items-center gap-1.5 text-primary text-lg font-semibold"},de=e("h2",null,"Tranquilidad",-1),ce=e("p",{class:"text-primary text-md font-regular"}," La tranquilidad es un pilar fundamental en nuestra firma. Nos esforzamos por garantizar a nuestros clientes y colaboradores un ambiente donde puedan tomar decisiones con calma y claridad, siempre respaldados por el conocimiento jurídico y nuestra experiencia. Con cada caso y en cada interacción, trabajamos para que todos sientan la certeza de estar en manos confiables y competentes. ",-1),ue={class:"space-y-1.5"},pe={class:"flex items-center gap-1.5 text-primary text-lg font-semibold"},me=e("h2",null,"Seguridad",-1),ge=e("p",{class:"text-primary text-md font-regular"}," En nuestra empresa, la seguridad no solo se trata de proteger la información y los datos de nuestros clientes, sino también de brindarles confianza absoluta en nuestros procesos. Cada estrategia legal que diseñamos y cada acción que ejecutamos están pensadas para ofrecer soluciones sólidas, garantizando que los intereses de quienes confían en nosotros estén siempre protegidos. ",-1),he={class:"space-y-1.5"},ye={class:"flex items-center gap-1.5 text-primary text-lg font-semibold"},fe=e("h2",null,"Confianza",-1),xe=e("p",{class:"text-primary text-md font-regular"}," La confianza es el lazo que une a nuestra firma con sus clientes y colaboradores. Se construye día a día mediante un trabajo transparente, ético y profesional. Es nuestro compromiso mantener relaciones basadas en el respeto y la integridad, donde cada persona sienta que puede contar con nosotros como un aliado en sus objetivos legales y personales. ",-1),_e={class:"space-y-3"},ve=e("div",null,[e("h1",{class:"text-primary text-xl font-semibold"}," Recursos y Herramientas de G&M Consultores Jurídicos ")],-1),be={class:"space-y-1.5"},we=e("div",null,[e("p",{class:"text-primary text-md font-regular"}," Accede a los siguientes recursos para conocer los avances, procesos y herramientas clave que respaldan nuestro crecimiento y compromiso continuo: ")],-1),ke={class:"flex flex-wrap"},Me={class:"grid grid-rows-4 grid-flow-col gap-y-1.5 gap-x-4"},Ce={class:"row-span-1 flex items-center gap-0.5 text-primary hover:text-yellow-400"},qe=["href"],Le={class:"px-4 pb-10 sm:px-6 lg:px-8"},Ae={class:"w-full p-5 rounded-lg border-2 border-stroke bg-terciary space-y-3"},ze=e("div",null,[e("h1",{class:"text-primary text-xl font-semibold"}," Presentar Informe ")],-1),De={class:"mt-4 space-y-3"},Fe={class:"grid md:grid-cols-2 xl:grid-cols-4 gap-3"},Ee=e("label",{for:"contract-number",class:"block text-base font-medium leading-6 text-primary"},[_(" No. Contrato "),e("span",{class:"text-red-500"},"*")],-1),Se={class:"mt-2"},Ne=e("label",{for:"initial-report-period",class:"block text-base font-medium leading-6 text-primary"},[_(" Fecha Inicial "),e("span",{class:"text-red-500"},"*")],-1),Ve={class:"mt-2"},je=e("label",{for:"final-report-period",class:"block text-base font-medium leading-6 text-primary"},[_(" Fecha Final "),e("span",{class:"text-red-500"},"*")],-1),Pe={class:"mt-2"},$e=e("label",{for:"payment-concept",class:"block text-base font-medium leading-6 text-primary"},[_(" Concepto de Pago "),e("span",{class:"text-red-500"},"*")],-1),Be={class:"mt-2"},Ge=e("label",{for:"payment-concept",class:"block text-base font-medium leading-6 text-primary"},[_(" Valor a Cobrar y/o Facturar "),e("span",{class:"text-red-500"},"*")],-1),Ie={class:"mt-2"},Re={class:"flex items-center rounded-md bg-white px-3 outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:outline-secondary"},Te=e("div",{class:"shrink-0 select-none text-base text-gray-500 sm:text-sm"}," $ ",-1),Ue=e("div",{id:"payment-currency",class:"shrink-0 select-none text-base text-gray-500 sm:text-sm"}," COP ",-1),Ze={class:"col-span-full"},He=e("label",{for:"files",class:"block text-base font-medium leading-6 text-primary"}," Anexos ",-1),Oe={key:0,class:"text-center"},Je={class:"mt-4 flex text-sm/6 text-gray-600"},Xe={for:"file-upload",class:"relative cursor-pointer rounded-md bg-white font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"},Qe=e("span",null,"Sube un archivo",-1),Ke=e("p",{class:"pl-1"},"o arrastra y suelta",-1),We=e("p",{class:"text-xs/5 text-gray-600"},"PNG, JPG, PDF, DOCX de hasta 20MB",-1),Ye={key:1,class:"w-full flex flex-wrap gap-3"},et=["onMouseenter","onMouseleave"],tt=["onClick"],st={class:"text-center text-xs truncate w-20"},at={class:"flex gap-3 span-col-full"},ot=["disabled"],nt=e("span",null,"Guardar",-1),rt=[nt],it=20*1024*1024,lt=20*1024*1024,mt={__name:"IntranetGyM",setup(o){const r=B(),l=te(),v=L([]);G(async()=>{await l.init(),v.value=l.legalLinks});const c=L([]),a=I({contract:null,initialDate:null,endDate:null,paymentConcept:"",paymentAmount:null,files:[]}),F=n=>{const s=Array.from(n.target.files);C(s),n.target.value=null},E=n=>{n.preventDefault();const s=Array.from(n.dataTransfer.files);C(s)},C=n=>{let s=c.value.reduce((t,g)=>t+g.file.size,0);n.forEach(t=>{if(t.size>it){f(`El archivo "${t.name}" excede el límite de 20 MB. Por favor, selecciona un archivo más pequeño.`,"warning");return}if(s+t.size>lt){f("No se pueden agregar más archivos porque el tamaño total excede el límite de 20 MB.","warning");return}const g=t.name.split(".").pop().toLowerCase();let u="",p={general:"",xMark:""};switch(g){case"png":case"jpg":case"jpeg":u=ee,p.general="border-gray-200 text-gray-400",p.xMark="bg-gray-400";break;case"pdf":u=D,p.general="border-red-600/20 text-red-600/60",p.xMark="bg-red-600/60";break;case"docx":u=D,p.general="border-blue-600/20 text-blue-600/60",p.xMark="bg-blue-600/60";break;default:f("¡Ups! Ese tipo de archivo no es compatible. Asegúrate de que el archivo sea PDF, DOCX, JPG, PNG, JPEG.","warning");return}c.value.push({name:t.name,icon:u,style:p,hover:!1,file:t}),s+=t.size})},S=n=>{c.value.splice(n,1)},q=R(()=>a.contract!==null&&a.initialDate!==null&&a.endDate!==null&&a.paymentConcept.trim()&&a.paymentAmount!==null&&!isNaN(a.paymentAmount)),N=async()=>{Q();const n=c.value.map(s=>s.file);a.files=n;try{const s=await l.createReportRequest(a);K(),s===201?(f("¡Solicitud creada exitosamente!","success"),V(),r.push({name:"process_list"})):f("Error al crear la solicitud. Intenta nuevamente.","error")}catch(s){console.error("Error al enviar la solicitud:",s),f("Hubo un error inesperado. Por favor, inténtalo más tarde.","error")}},V=()=>{a.firstName="",a.lastName="",a.email="",a.requestTypeId="",a.disciplineId="",a.description="",c.value=[]};return(n,s)=>(i(),d(b,null,[m(X,{"onUpdate:searchQuery":s[0]||(s[0]=t=>n.searchQuery=t)},{default:T(()=>[U(n.$slots,"default")]),_:3}),e("div",se,[e("div",ae,[e("div",oe,[ne,e("div",re,[e("div",ie,[e("div",le,[m(h(M),{class:"size-4"}),de]),ce]),e("div",ue,[e("div",pe,[m(h(M),{class:"size-4"}),me]),ge]),e("div",he,[e("div",ye,[m(h(M),{class:"size-4"}),fe]),xe])])]),e("div",_e,[ve,e("div",be,[we,e("div",ke,[e("div",Me,[(i(!0),d(b,null,A(v.value,t=>(i(),d("div",Ce,[m(h(W),{class:"size-4"}),e("a",{href:t.url,target:"_blank",class:"text-md font-regular hover:font-italic hover:underline hover:decoration-2"},z(t.name),9,qe)]))),256))])])])])])]),e("div",Le,[e("div",Ae,[ze,e("form",{onSubmit:s[7]||(s[7]=w(t=>N(),["prevent"]))},[e("div",De,[e("div",Fe,[e("div",null,[Ee,e("div",Se,[y(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>a.contract=t),type:"text",name:"contract-number",id:"contract-number",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[x,a.contract]])])]),e("div",null,[Ne,e("div",Ve,[y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>a.initialDate=t),type:"date",name:"initial-report-period",id:"initial-report-period",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[x,a.initialDate]])])]),e("div",null,[je,e("div",Pe,[y(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>a.endDate=t),type:"date",name:"final-report-period",id:"final-report-period",placeholder:"Fecha inicial",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[x,a.endDate]])])]),e("div",null,[$e,e("div",Be,[y(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>a.paymentConcept=t),type:"text",name:"payment-concept",id:"payment-concept",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",required:""},null,512),[[x,a.paymentConcept]])])]),e("div",null,[Ge,e("div",Ie,[e("div",Re,[Te,y(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>a.paymentAmount=t),type:"text",name:"payment-concept",id:"payment-concept",class:"block min-w-0 grow py-1.5 pl-1 pr-3 text-base text-primary border-none placeholder:text-gray-400 focus-within:outline-none focus-within:border-none focus-within:ring-0 sm:text-sm",placeholder:"0.00","aria-describedby":"payment-currency",required:""},null,512),[[x,a.paymentAmount]]),Ue])])]),e("div",Ze,[He,e("div",{class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 bg-white px-6 py-10",onDragover:s[6]||(s[6]=w(()=>{},["prevent"])),onDrop:w(E,["prevent"])},[c.value.length<1?(i(),d("div",Oe,[m(h(Y),{class:"mx-auto size-12 text-gray-300","aria-hidden":"true"}),e("div",Je,[e("label",Xe,[Qe,e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",onChange:F},null,32)]),Ke]),We])):(i(),d("div",Ye,[(i(!0),d(b,null,A(c.value,(t,g)=>(i(),d("div",{key:g,class:k(["relative p-4 grid rounded-md bg-white border-2",t.style.general]),onMouseenter:u=>{t.hover=!0},onMouseleave:u=>{t.hover=!1}},[y(e("div",{class:k(["absolute p-0.5 mt-2 ml-2 rounded-full",t.style.xMark]),onClick:u=>S(g)},[m(h(H),{class:"size-3 text-white"})],10,tt),[[Z,t.hover]]),(i(),O(J(t.icon),{class:"size-12 mx-auto"})),e("span",st,z(t.name),1)],42,et))),128))]))],32)]),e("div",at,[e("button",{type:"submit",class:k(["p-2.5 text-sm font-medium rounded-md flex gap-2",q.value?"bg-secondary text-white":"bg-gray-200 text-secondary border-2 border-dashed border-secondary cursor-not-allowed bg-opacity-50"]),disabled:!q.value},rt,10,ot)])])])],32)])])],64))}};export{mt as default};
