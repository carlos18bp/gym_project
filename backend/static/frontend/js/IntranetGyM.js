import{e as u,f as p,g as e,r as g,c as b,aR as w,u as k,o as C,a6 as S,j as i,l as c,w as x,v as q,F as f,H as M,M as _,k as v,a0 as y,q as T,aS as z,A as R}from"./index.js";import{u as B,_ as G}from"./FacturationForm.js";import"./loading_message.js";import"./PhotoIcon.js";function I(l,s){return u(),p("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}const L="/static/frontend/img/organization_chart.png",V="/static/frontend/img/organigram_chart.png";function A(l,s=[]){const a=g(""),d=b(()=>{const r=w(l)?l.value:l;if(!a.value.trim())return r;const n=a.value.toLowerCase();return r.filter(m=>s.some(h=>{const t=m[h];return typeof t=="string"&&t.toLowerCase().includes(n)}))});return{searchTerm:a,filteredProcess:d}}const E=["innerHTML"],F={__name:"HighlightText",props:{text:{type:String,required:!0},query:{type:String,default:""},highlightClass:{type:String,default:"underline"}},setup(l){const s=l;function a(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const d=b(()=>{if(!s.query.trim())return s.text;const r=a(s.query.trim()),n=new RegExp(`(${r})`,"gi");return s.text.replace(n,`<span class="${s.highlightClass} rounded-lg">$1</span>`)});return(r,n)=>(u(),p("span",{innerHTML:d.value},null,8,E))}},H={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8 lg:hidden"},O=T('<div class="pb-10 px-4 sm:px-6 lg:px-8 lg:pt-10"><div class="grid grid-cols-3 w-full text-center font-semibold overflow-hidden rounded-lg"><span class="bg-secondary text-white py-3"> Seguridad </span><span class="bg-terciary text-primary py-3"> Confianza </span><span class="bg-secondary text-white py-3"> Tranquilidad </span></div></div>',1),P={class:"grid grid-cols-1 gap-6 md:grid-cols-3 sm:px-6 lg:px-8"},j={class:"bg-gray-100 p-6 rounded-xl shadow-md"},D=e("div",{class:"mb-4 flex items-center space-x-2"},[e("h2",{class:"text-lg font-semibold text-primary"},"Organigrama")],-1),N={class:"bg-blue-100 p-6 rounded-xl shadow-md flex flex-col max-h-[550px]"},Q=e("div",{class:"mb-4 flex items-center space-x-2"},[e("h2",{class:"text-lg font-semibold text-primary"}," Procesos y Subprocesos ")],-1),U={class:"w-full mb-4"},Z=e("label",{for:"search",class:"sr-only"},"Buscar",-1),J={class:"relative"},K={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},W={class:"flex-grow space-y-2 text-sm rounded-xl font-regular bg-white px-3 pt-1 pb-3 overflow-auto"},X=["href"],Y={class:"bg-gray-100 p-6 rounded-xl shadow-md"},ee=e("div",{class:"mb-4 flex items-center space-x-2"},[e("h2",{class:"text-lg font-semibold text-primary"},"Radicar Informe")],-1),te=e("p",{class:"text-lg font-regular text-gray-700 mb-4 leading-relaxed text-justify"}," Por favor, radique su Informe de Actividades y su Cuenta de Cobro o Factura en este espacio. Recuerde presentar únicamente los documentos debidamente aprobados y firmados por el Supervisor, incluyendo los anexos correspondientes según los términos establecidos. ",-1),se={class:"relative bg-white rounded-xl p-3"},re={class:"absolute right-0 top-0 pt-6 pe-6"},ae=e("img",{src:V,alt:"Organigrama y organización de G&M"},null,-1),de={__name:"IntranetGyM",setup(l){const s=g(!1),a=g(!1);k();const d=B(),r=g([]),{searchTerm:n,filteredProcess:m}=A(r,["name"]);return C(async()=>{await d.init(),r.value=d.legalDocuments}),(h,t)=>(u(),p(f,null,[e("div",H,[S(h.$slots,"default")]),O,e("div",P,[e("div",j,[D,e("img",{onClick:t[0]||(t[0]=o=>a.value=!0),class:"cursor-pointer transition-all duration-200 ease-in-out transform hover:bg-gray-200 hover:rounded-xl hover:shadow-lg hover:-translate-x-1 hover:-translate-y-1",src:L,alt:"Organigrama G&M"})]),e("div",N,[Q,e("div",U,[Z,e("div",J,[e("div",K,[i(c(I),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),x(e("input",{id:"search",name:"search","onUpdate:modelValue":t[1]||(t[1]=o=>w(n)?n.value=o:null),class:"block w-full rounded-xl border-0 bg-white py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",placeholder:"Buscar",type:"search"},null,512),[[q,c(n)]])])]),e("ul",W,[(u(!0),p(f,null,M(c(m),(o,$)=>(u(),p("li",{key:$,class:"cursor-pointer hover:bg-blue-100 rounded-lg"},[e("a",{href:o.file_url,target:"_blank",rel:"noopener noreferrer",class:"flex items-center space-x-1 text-primary font-regular"},[i(c(z),{class:"size-4"}),i(F,{text:o.name,query:c(n),highlightClass:"bg-blue-200"},null,8,["text","query"])],8,X)]))),128))])]),e("div",Y,[ee,te,e("button",{type:"button",onClick:t[2]||(t[2]=o=>s.value=!0),class:"inline-flex items-center px-4 py-2 bg-secondary text-white rounded-md"}," Enviar Informe ")])]),x(i(y,null,{default:v(()=>[i(G,{onClose:t[3]||(t[3]=o=>s.value=!1)})]),_:1},512),[[_,s.value]]),x(i(y,null,{default:v(()=>[e("div",se,[e("div",re,[i(c(R),{class:"cursor-pointer size-6 text-primary",onClick:t[4]||(t[4]=o=>a.value=!1)})]),ae])]),_:1},512),[[_,a.value]])],64))}};export{de as default};
