import{r as p,c as C,aR as S,e as m,f as g,u as k,o as G,g as e,a9 as T,j as s,h as r,p as u,t as x,w as _,v as q,F as y,N as R,Q as v,i as b,a2 as w,x as V,aS as j,aT as z,aU as L,a1 as $,G as B}from"./index.js";import{u as F,_ as I}from"./FacturationForm.js";import{r as N}from"./CalendarIcon.js";import{r as A}from"./MagnifyingGlassIcon.js";import"./loading_message.js";import"./CloudArrowUpIcon.js";import"./DocumentIcon.js";import"./PhotoIcon.js";const D="/static/frontend/img/organigram_chart.png";function E(d,o=[]){const l=p(""),a=C(()=>{const n=S(d)?d.value:d;if(!l.value.trim())return n;const i=l.value.toLowerCase();return n.filter(h=>o.some(f=>{const t=h[f];return typeof t=="string"&&t.toLowerCase().includes(i)}))});return{searchTerm:l,filteredProcess:a}}const O=["innerHTML"],P={__name:"HighlightText",props:{text:{type:String,required:!0},query:{type:String,default:""},highlightClass:{type:String,default:"underline"}},setup(d){const o=d;function l(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const a=C(()=>{if(!o.query.trim())return o.text;const n=l(o.query.trim()),i=new RegExp(`(${n})`,"gi");return o.text.replace(i,`<span class="${o.highlightClass} rounded-lg">$1</span>`)});return(n,i)=>(m(),g("span",{innerHTML:a.value},null,8,O))}},H={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8 lg:hidden"},Q=V('<div class="px-4 sm:px-6 lg:px-8 pt-10 pb-6"><div class="grid grid-cols-3 w-full text-center font-semibold overflow-hidden rounded-lg"><span class="bg-secondary text-white py-3"> Seguridad </span><span class="bg-terciary text-primary py-3"> Confianza </span><span class="bg-secondary text-white py-3"> Tranquilidad </span></div></div>',1),U={class:"relative"},J={class:"h-64 w-full overflow-hidden"},K=["src"],W={class:"absolute left-8 -bottom-16 sm:left-12"},X={class:"relative"},Y=["src"],Z={class:"px-4 sm:px-6 lg:px-8 pt-20 pb-6"},ee={class:"flex flex-col sm:flex-row sm:items-end sm:justify-between"},se=e("h1",{class:"text-3xl font-bold text-gray-900"},"G&M",-1),te=e("p",{class:"text-lg text-gray-600 mt-1"},"Firma de Abogados G&M",-1),re={class:"flex items-center gap-4 mt-2 text-sm text-gray-500"},oe={class:"flex items-center gap-1"},ae={class:"flex items-center gap-1"},ne={class:"flex items-center gap-1"},le={class:"px-4 sm:px-6 lg:px-8 pb-10"},ie={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ce={class:"space-y-6"},de={class:"bg-gray-100 p-6 rounded-xl shadow-md"},ue=e("h2",{class:"text-lg font-semibold text-primary mb-4"},"Organigrama",-1),pe={class:"bg-gray-100 p-6 rounded-xl shadow-md"},me=e("h2",{class:"text-lg font-semibold text-primary mb-4"},"Radicar Informe",-1),ge=e("p",{class:"text-sm text-gray-700 mb-4 leading-relaxed"}," Por favor, radique su Informe de Actividades y su Cuenta de Cobro o Factura en este espacio. Recuerde presentar únicamente los documentos debidamente aprobados y firmados por el Supervisor, incluyendo los anexos correspondientes según los términos establecidos. ",-1),he={class:"lg:col-span-2 bg-blue-100 p-6 rounded-xl shadow-md flex flex-col"},fe=e("div",{class:"mb-4"},[e("h2",{class:"text-xl font-semibold text-primary mb-2"}," Procedimientos G&M "),e("p",{class:"text-sm text-gray-700"}," Aquí encontrarás los procesos y sub-procesos administrativos, operativos, mercadeo y comerciales de G&M ")],-1),_e={class:"w-full mb-4"},xe=e("label",{for:"search",class:"sr-only"},"Buscar",-1),ye={class:"relative"},ve={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},be={class:"flex-grow space-y-2 text-sm rounded-xl font-regular bg-white px-4 py-3 overflow-auto max-h-[500px]"},we=["href"],$e={class:"relative bg-white rounded-xl p-3"},Ce={class:"absolute right-0 top-0 pt-6 pe-6"},Se=e("img",{src:D,alt:"Organigrama y organización de G&M"},null,-1),ze={__name:"IntranetGyM",setup(d){const o=p(!1),l=p(!1);k();const a=F(),n=p([]),{searchTerm:i,filteredProcess:h}=E(n,["name"]);return G(async()=>{await a.init(),n.value=a.legalDocuments}),(f,t)=>(m(),g(y,null,[e("div",H,[T(f.$slots,"default")]),Q,e("div",U,[e("div",J,[e("img",{src:s(a).profile.cover_image_url||"https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&h=400&fit=crop",alt:"Cover",class:"h-full w-full object-cover"},null,8,K)]),e("div",W,[e("div",X,[e("img",{src:s(a).profile.profile_image_url||"https://images.unsplash.com/photo-1560179707-f14e90ef3623?w=200&h=200&fit=crop",alt:"G&M Logo",class:"h-32 w-32 rounded-full border-4 border-white shadow-lg object-cover"},null,8,Y)])])]),e("div",Z,[e("div",ee,[e("div",null,[se,te,e("div",re,[e("span",oe,[r(s(j),{class:"h-4 w-4"}),u(" "+x(s(a).lawyers_count)+" "+x(s(a).lawyers_count===1?"miembro":"miembros"),1)]),e("span",ae,[r(s(z),{class:"h-4 w-4"}),u(" 0 invitaciones pendientes ")]),e("span",ne,[r(s(N),{class:"h-4 w-4"}),u(" Creado 28 de septiembre de 2025 ")])])])])]),e("div",le,[e("div",ie,[e("div",ce,[e("div",de,[ue,e("button",{type:"button",onClick:t[0]||(t[0]=c=>l.value=!0),class:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 bg-secondary text-white rounded-lg hover:bg-opacity-90 transition-all font-medium"},[r(s(L),{class:"h-5 w-5"}),u(" Ver Organigrama ")])]),e("div",pe,[me,ge,e("button",{type:"button",onClick:t[1]||(t[1]=c=>o.value=!0),class:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 bg-secondary text-white rounded-lg hover:bg-opacity-90 transition-all font-medium"},[r(s($),{class:"h-5 w-5"}),u(" Enviar Informe ")])])]),e("div",he,[fe,e("div",_e,[xe,e("div",ye,[e("div",ve,[r(s(A),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_(e("input",{id:"search",name:"search","onUpdate:modelValue":t[2]||(t[2]=c=>S(i)?i.value=c:null),class:"block w-full rounded-xl border-0 bg-white py-2 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",placeholder:"Buscar",type:"search"},null,512),[[q,s(i)]])])]),e("ul",be,[(m(!0),g(y,null,R(s(h),(c,M)=>(m(),g("li",{key:M,class:"cursor-pointer hover:bg-blue-100 rounded-lg p-2 transition-colors"},[e("a",{href:c.file_url,target:"_blank",rel:"noopener noreferrer",class:"flex items-center space-x-2 text-primary font-regular"},[r(s($),{class:"size-5 flex-shrink-0"}),r(P,{text:c.name,query:s(i),highlightClass:"bg-blue-200"},null,8,["text","query"])],8,we)]))),128))])])])]),_(r(w,null,{default:b(()=>[r(I,{onClose:t[3]||(t[3]=c=>o.value=!1)})]),_:1},512),[[v,o.value]]),_(r(w,null,{default:b(()=>[e("div",$e,[e("div",Ce,[r(s(B),{class:"cursor-pointer size-6 text-primary",onClick:t[4]||(t[4]=c=>l.value=!1)})]),Se])]),_:1},512),[[v,l.value]])],64))}};export{ze as default};
