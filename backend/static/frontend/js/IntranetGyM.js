import{r as p,c as C,aT as k,e as g,f as m,u as S,o as G,g as e,a9 as T,j as t,h as r,p as u,t as _,w as x,v as j,F as y,N as q,Q as v,i as b,a2 as w,x as V,aU as L,aV as R,aW as z,a1 as $,G as B}from"./index.js";import{u as F,_ as I}from"./FacturationForm.js";import{r as N}from"./CalendarIcon.js";import{r as A}from"./MagnifyingGlassIcon.js";import"./loading_message.js";import"./CloudArrowUpIcon.js";import"./DocumentIcon.js";import"./PhotoIcon.js";const D="/static/frontend/img/organigram_chart.png";function E(d,o=[]){const a=p(""),n=C(()=>{const l=k(d)?d.value:d;if(!a.value.trim())return l;const i=a.value.toLowerCase();return l.filter(h=>o.some(f=>{const s=h[f];return typeof s=="string"&&s.toLowerCase().includes(i)}))});return{searchTerm:a,filteredProcess:n}}const O=["innerHTML"],P={__name:"HighlightText",props:{text:{type:String,required:!0},query:{type:String,default:""},highlightClass:{type:String,default:"underline"}},setup(d){const o=d;function a(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const n=C(()=>{if(!o.query.trim())return o.text;const l=a(o.query.trim()),i=new RegExp(`(${l})`,"gi");return o.text.replace(i,`<span class="${o.highlightClass} rounded-lg">$1</span>`)});return(l,i)=>(g(),m("span",{innerHTML:n.value},null,8,O))}},H={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8 lg:hidden"},Q=V('<div class="px-4 sm:px-6 lg:px-8 pt-10 pb-6"><div class="grid grid-cols-3 w-full text-center font-semibold overflow-hidden rounded-lg"><span class="bg-secondary text-white py-3"> Seguridad </span><span class="bg-terciary text-primary py-3"> Confianza </span><span class="bg-secondary text-white py-3"> Tranquilidad </span></div></div>',1),U={class:"relative"},W={class:"h-64 w-full overflow-hidden"},J=["src"],K={class:"absolute left-8 -bottom-16 sm:left-12"},X={class:"relative"},Y=["src"],Z={class:"px-4 sm:px-6 lg:px-8 pt-20 pb-6"},ee={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between"},se=e("h1",{class:"text-3xl font-bold text-gray-900"},"G&M",-1),te=e("p",{class:"text-lg text-gray-600 mt-1"},"Firma de Abogados G&M",-1),re={class:"flex items-center gap-4 mt-2 text-sm text-gray-500"},oe={class:"flex items-center gap-1"},ae={class:"flex items-center gap-1"},ne={class:"flex items-center gap-1"},le={class:"mt-4 sm:mt-0 sm:self-start"},ie={class:"px-4 sm:px-6 lg:px-8 pb-10"},ce={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},de={class:"space-y-6"},ue={class:"bg-gray-100 p-6 rounded-xl shadow-md"},pe=e("h2",{class:"text-lg font-semibold text-primary mb-4"},"Radicar Informe",-1),ge=e("p",{class:"text-sm text-gray-700 mb-4 leading-relaxed"}," Por favor, radique su Informe de Actividades y su Cuenta de Cobro o Factura en este espacio. Recuerde presentar únicamente los documentos debidamente aprobados y firmados por el Supervisor, incluyendo los anexos correspondientes según los términos establecidos. ",-1),me={class:"lg:col-span-2 bg-blue-100 p-6 rounded-xl shadow-md flex flex-col"},he=e("div",{class:"mb-4"},[e("h2",{class:"text-xl font-semibold text-primary mb-2"}," Procedimientos G&M "),e("p",{class:"text-sm text-gray-700"}," Aquí encontrarás los procesos y sub-procesos administrativos, operativos, mercadeo y comerciales de G&M ")],-1),fe={class:"w-full mb-4"},xe=e("label",{for:"search",class:"sr-only"},"Buscar",-1),_e={class:"relative"},ye={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ve={class:"flex-grow space-y-2 text-sm rounded-xl font-regular bg-white px-4 py-3 overflow-auto max-h-[500px]"},be=["href"],we={class:"relative bg-white rounded-xl shadow-xl max-w-[95vw] w-full max-h-[95vh] overflow-hidden flex flex-col"},$e={class:"flex items-center justify-between px-6 py-4 border-b border-gray-200 flex-shrink-0"},Ce=e("h2",{class:"text-xl font-semibold text-gray-900"},"Organigrama G&M",-1),ke=e("div",{class:"p-6 overflow-auto flex-grow flex items-start justify-center bg-gray-50 min-h-0"},[e("img",{src:D,alt:"Organigrama y organización de G&M",class:"max-w-full h-auto rounded-lg shadow-md",style:{"min-width":"fit-content"}})],-1),Me={class:"px-6 py-4 border-t border-gray-200 flex justify-end flex-shrink-0"},ze={__name:"IntranetGyM",setup(d){const o=p(!1),a=p(!1);S();const n=F(),l=p([]),{searchTerm:i,filteredProcess:h}=E(l,["name"]);return G(async()=>{await n.init(),l.value=n.legalDocuments}),(f,s)=>(g(),m(y,null,[e("div",H,[T(f.$slots,"default")]),Q,e("div",U,[e("div",W,[e("img",{src:t(n).profile.cover_image_url||"https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&h=400&fit=crop",alt:"Cover",class:"h-full w-full object-cover"},null,8,J)]),e("div",K,[e("div",X,[e("img",{src:t(n).profile.profile_image_url||"https://images.unsplash.com/photo-1560179707-f14e90ef3623?w=200&h=200&fit=crop",alt:"G&M Logo",class:"h-32 w-32 rounded-full border-4 border-white shadow-lg object-cover"},null,8,Y)])])]),e("div",Z,[e("div",ee,[e("div",null,[se,te,e("div",re,[e("span",oe,[r(t(L),{class:"h-4 w-4"}),u(" "+_(t(n).lawyers_count)+" "+_(t(n).lawyers_count===1?"miembro":"miembros"),1)]),e("span",ae,[r(t(R),{class:"h-4 w-4"}),u(" 0 invitaciones pendientes ")]),e("span",ne,[r(t(N),{class:"h-4 w-4"}),u(" Creado 28 de septiembre de 2025 ")])])]),e("div",le,[e("button",{type:"button",onClick:s[0]||(s[0]=c=>a.value=!0),class:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all font-medium shadow-md hover:shadow-lg"},[r(t(z),{class:"h-5 w-5"}),u(" Ver Organigrama ")])])])]),e("div",ie,[e("div",ce,[e("div",de,[e("div",ue,[pe,ge,e("button",{type:"button",onClick:s[1]||(s[1]=c=>o.value=!0),class:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 bg-secondary text-white rounded-lg hover:bg-opacity-90 transition-all font-medium"},[r(t($),{class:"h-5 w-5"}),u(" Enviar Informe ")])])]),e("div",me,[he,e("div",fe,[xe,e("div",_e,[e("div",ye,[r(t(A),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),x(e("input",{id:"search",name:"search","onUpdate:modelValue":s[2]||(s[2]=c=>k(i)?i.value=c:null),class:"block w-full rounded-xl border-0 bg-white py-2 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",placeholder:"Buscar",type:"search"},null,512),[[j,t(i)]])])]),e("ul",ve,[(g(!0),m(y,null,q(t(h),(c,M)=>(g(),m("li",{key:M,class:"cursor-pointer hover:bg-blue-100 rounded-lg p-2 transition-colors"},[e("a",{href:c.file_url,target:"_blank",rel:"noopener noreferrer",class:"flex items-center space-x-2 text-primary font-regular"},[r(t($),{class:"size-5 flex-shrink-0"}),r(P,{text:c.name,query:t(i),highlightClass:"bg-blue-200"},null,8,["text","query"])],8,be)]))),128))])])])]),x(r(w,null,{default:b(()=>[r(I,{onClose:s[3]||(s[3]=c=>o.value=!1)})]),_:1},512),[[v,o.value]]),x(r(w,null,{default:b(()=>[e("div",we,[e("div",$e,[Ce,e("button",{onClick:s[4]||(s[4]=c=>a.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",title:"Cerrar"},[r(t(B),{class:"h-6 w-6"})])]),ke,e("div",Me,[e("button",{onClick:s[5]||(s[5]=c=>a.value=!1),class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium"}," Cerrar ")])])]),_:1},512),[[v,a.value]])],64))}};export{ze as default};
