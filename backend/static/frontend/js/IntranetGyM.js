import{r as u,c as b,aU as w,e as p,f as g,u as C,o as S,g as e,a8 as k,j as l,l as c,w as x,v as M,F as f,M as q,Q as _,k as y,a1 as v,x as T,aS as z,G}from"./index.js";import{u as R,_ as B}from"./FacturationForm.js";import{a as I}from"./MagnifyingGlassIcon.js";import"./loading_message.js";import"./DocumentIcon.js";import"./PhotoIcon.js";const L="/static/frontend/img/organization_chart.png",V="/static/frontend/img/organigram_chart.png";function E(i,s=[]){const a=u(""),d=b(()=>{const r=w(i)?i.value:i;if(!a.value.trim())return r;const n=a.value.toLowerCase();return r.filter(m=>s.some(h=>{const t=m[h];return typeof t=="string"&&t.toLowerCase().includes(n)}))});return{searchTerm:a,filteredProcess:d}}const F=["innerHTML"],O={__name:"HighlightText",props:{text:{type:String,required:!0},query:{type:String,default:""},highlightClass:{type:String,default:"underline"}},setup(i){const s=i;function a(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const d=b(()=>{if(!s.query.trim())return s.text;const r=a(s.query.trim()),n=new RegExp(`(${r})`,"gi");return s.text.replace(n,`<span class="${s.highlightClass} rounded-lg">$1</span>`)});return(r,n)=>(p(),g("span",{innerHTML:d.value},null,8,F))}},P={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8 lg:hidden"},D=T('<div class="pb-10 px-4 sm:px-6 lg:px-8 lg:pt-10"><div class="grid grid-cols-3 w-full text-center font-semibold overflow-hidden rounded-lg"><span class="bg-secondary text-white py-3"> Seguridad </span><span class="bg-terciary text-primary py-3"> Confianza </span><span class="bg-secondary text-white py-3"> Tranquilidad </span></div></div>',1),H={class:"grid grid-cols-1 gap-6 md:grid-cols-3 sm:px-6 lg:px-8"},N={class:"bg-gray-100 p-6 rounded-xl shadow-md"},j=e("div",{class:"mb-4 flex items-center space-x-2"},[e("h2",{class:"text-lg font-semibold text-primary"},"Organigrama")],-1),A={class:"bg-blue-100 p-6 rounded-xl shadow-md flex flex-col max-h-[550px]"},Q=e("div",{class:"mb-4 flex items-center space-x-2"},[e("h2",{class:"text-lg font-semibold text-primary"}," Procesos y Subprocesos ")],-1),U={class:"w-full mb-4"},J=e("label",{for:"search",class:"sr-only"},"Buscar",-1),K={class:"relative"},W={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},X={class:"flex-grow space-y-2 text-sm rounded-xl font-regular bg-white px-3 pt-1 pb-3 overflow-auto"},Y=["href"],Z={class:"bg-gray-100 p-6 rounded-xl shadow-md"},ee=e("div",{class:"mb-4 flex items-center space-x-2"},[e("h2",{class:"text-lg font-semibold text-primary"},"Radicar Informe")],-1),te=e("p",{class:"text-lg font-regular text-gray-700 mb-4 leading-relaxed text-justify"}," Por favor, radique su Informe de Actividades y su Cuenta de Cobro o Factura en este espacio. Recuerde presentar únicamente los documentos debidamente aprobados y firmados por el Supervisor, incluyendo los anexos correspondientes según los términos establecidos. ",-1),se={class:"relative bg-white rounded-xl p-3"},re={class:"absolute right-0 top-0 pt-6 pe-6"},ae=e("img",{src:V,alt:"Organigrama y organización de G&M"},null,-1),ue={__name:"IntranetGyM",setup(i){const s=u(!1),a=u(!1);C();const d=R(),r=u([]),{searchTerm:n,filteredProcess:m}=E(r,["name"]);return S(async()=>{await d.init(),r.value=d.legalDocuments}),(h,t)=>(p(),g(f,null,[e("div",P,[k(h.$slots,"default")]),D,e("div",H,[e("div",N,[j,e("img",{onClick:t[0]||(t[0]=o=>a.value=!0),class:"cursor-pointer transition-all duration-200 ease-in-out transform hover:bg-gray-200 hover:rounded-xl hover:shadow-lg hover:-translate-x-1 hover:-translate-y-1",src:L,alt:"Organigrama G&M"})]),e("div",A,[Q,e("div",U,[J,e("div",K,[e("div",W,[l(c(I),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),x(e("input",{id:"search",name:"search","onUpdate:modelValue":t[1]||(t[1]=o=>w(n)?n.value=o:null),class:"block w-full rounded-xl border-0 bg-white py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",placeholder:"Buscar",type:"search"},null,512),[[M,c(n)]])])]),e("ul",X,[(p(!0),g(f,null,q(c(m),(o,$)=>(p(),g("li",{key:$,class:"cursor-pointer hover:bg-blue-100 rounded-lg"},[e("a",{href:o.file_url,target:"_blank",rel:"noopener noreferrer",class:"flex items-center space-x-1 text-primary font-regular"},[l(c(z),{class:"size-4"}),l(O,{text:o.name,query:c(n),highlightClass:"bg-blue-200"},null,8,["text","query"])],8,Y)]))),128))])]),e("div",Z,[ee,te,e("button",{type:"button",onClick:t[2]||(t[2]=o=>s.value=!0),class:"inline-flex items-center px-4 py-2 bg-secondary text-white rounded-md"}," Enviar Informe ")])]),x(l(v,null,{default:y(()=>[l(B,{onClose:t[3]||(t[3]=o=>s.value=!1)})]),_:1},512),[[_,s.value]]),x(l(v,null,{default:y(()=>[e("div",se,[e("div",re,[l(c(G),{class:"cursor-pointer size-6 text-primary",onClick:t[4]||(t[4]=o=>a.value=!1)})]),ae])]),_:1},512),[[_,a.value]])],64))}};export{ue as default};
