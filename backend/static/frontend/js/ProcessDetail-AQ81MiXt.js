import{e as r,f as n,g as e,c as v,t as c,F as z,I as D,ad as U,n as k,l as j,m as le,x as ie,G as ce,u as de,K as ue,H as me,ak as pe,r as B,V as he,ab as xe,h,i as E,j as g,w as ge,v as fe,ae as _e,a6 as ve,af as ye,ag as F,k as be,ah as we,al as ke}from"./index-BROrgVaC.js";import{u as $e,_ as Ce}from"./recentProcess-Cqda4OAj.js";import{_ as Pe}from"./ProcessUsersModal-Cg8MYO9w.js";import{r as je}from"./MagnifyingGlassIcon-CwywA1yJ.js";import{r as Me}from"./EyeIcon-B0hz1SW0.js";import{r as Se}from"./ChevronRightIcon-vXF6ifTk.js";function Ae(_,d){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})])}const Be={class:"w-full"},Ee={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4"},Le={class:"flex-1 min-w-0"},Te=e("h3",{class:"text-sm font-semibold text-blue-600"},"Etapa Procesal",-1),ze={class:"text-sm sm:text-base font-medium text-gray-900 mt-1 truncate"},De=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Ve=e("span",{class:"hidden sm:inline"},"Histórico Procesal",-1),He=e("span",{class:"sm:hidden ml-1"},"Histórico",-1),Re=[De,Ve,He],Ue={class:"relative"},Fe={class:"flex justify-between mb-2 text-xs font-medium text-gray-600"},Ie=e("span",{class:"truncate max-w-[80px] sm:max-w-none"},"Inicio",-1),Ne={class:"hidden sm:inline truncate px-2"},Oe=e("span",{class:"truncate max-w-[80px] sm:max-w-none text-right"},"Fin Proceso",-1),qe={class:"relative flex items-center"},Ze={key:0,class:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-10"},Ge={class:"mt-2 text-center sm:text-right"},Ke={class:"text-xs sm:text-sm font-medium text-gray-700"},Je={__name:"ProcessStageProgress",props:{stages:{type:Array,default:()=>[]},totalStagesExpected:{type:Number,default:5},progress:{type:Number,default:null}},emits:["openHistory"],setup(_){const d=_,y=v(()=>!d.stages||d.stages.length===0?"Sin etapa":d.stages[d.stages.length-1].status),$=v(()=>{if(typeof d.progress=="number"&&!Number.isNaN(d.progress))return Math.min(Math.max(Math.round(d.progress),0),100);if(!d.stages||d.stages.length===0)return 0;const p=d.stages.length/d.totalStagesExpected*100;return Math.min(Math.round(p),100)}),b=v(()=>{const p=[],i=d.totalStagesExpected,t=100/i;for(let l=0;l<i;l++){const u=(l+1)*t,C=$.value>=u;p.push({filled:C})}return p}),M=p=>p===d.totalStagesExpected-1?"polygon(0 0, calc(100% - 8px) 0, 100% 50%, calc(100% - 8px) 100%, 0 100%, 12px 50%)":"polygon(0 0, calc(100% - 12px) 0, 100% 50%, calc(100% - 12px) 100%, 0 100%, 12px 50%)";return(p,i)=>(r(),n("div",Be,[e("div",Ee,[e("div",Le,[Te,e("p",ze,c(y.value),1)]),e("button",{onClick:i[0]||(i[0]=t=>p.$emit("openHistory")),class:"inline-flex items-center justify-center px-3 py-2 sm:px-4 border border-blue-300 rounded-md shadow-sm text-xs sm:text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors whitespace-nowrap flex-shrink-0"},Re)]),e("div",Ue,[e("div",Fe,[Ie,e("span",Ne,c(y.value),1),Oe]),e("div",qe,[(r(!0),n(z,null,D(b.value,(t,l)=>(r(),n("div",{key:l,class:"relative h-10 flex-1",style:U({zIndex:_.totalStagesExpected-l})},[e("div",{class:"absolute inset-0 transition-all duration-500",style:U({clipPath:M(l),marginLeft:l===0?"0":"-12px"})},[e("div",{class:k(["absolute inset-0",t.filled?"bg-blue-600":"bg-gray-200"])},[t.filled?(r(),n("div",Ze)):j("",!0)],2),e("div",{class:"absolute inset-0",style:U({clipPath:M(l),border:"4px solid white",margin:"-4px"})},null,4)],4)],4))),128))]),e("div",Ge,[e("span",Ke,c($.value)+"% completado ",1)])])]))}},Qe={class:"bg-white rounded-xl shadow-xl max-w-3xl w-full mx-4 max-h-[85vh] flex flex-col"},We=ie('<div class="flex items-center space-x-3"><div class="p-2 bg-white bg-opacity-20 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><div><h3 class="text-lg font-semibold text-white"> Histórico Procesal </h3><p class="text-blue-100 text-sm"> Registro cronológico de etapas </p></div></div>',1),Xe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Ye=[Xe],es={class:"p-6 overflow-y-auto flex-1 min-h-0"},ss={key:0,class:"space-y-4"},ts={class:"flex-shrink-0"},os={class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center"},rs={class:"text-blue-700 font-semibold text-sm"},as={class:"flex-1 min-w-0"},ns={class:"text-base font-medium text-gray-900"},ls={class:"text-sm text-gray-500 mt-1"},is={key:1,class:"text-center py-12"},cs=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),ds=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Sin etapas registradas",-1),us=e("p",{class:"mt-1 text-sm text-gray-500"}," No hay etapas procesales registradas para este proceso. ",-1),ms=[cs,ds,us],ps={__name:"ProcessHistoryModal",props:{isOpen:{type:Boolean,default:!1},stages:{type:Array,default:()=>[]}},emits:["close"],setup(_,{emit:d}){const y=_,$=d,b=()=>{$("close")},M=v(()=>y.stages?[...y.stages]:[]),p=i=>{if(!i)return"Fecha no disponible";let t;if(typeof i=="string"&&i.length===10&&i.includes("-")&&!i.includes("T")){const[u,C,L]=i.split("-").map(Number);return t=new Date(u,C-1,L),t.toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})}t=new Date(i);const l={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Bogota"};return t.toLocaleDateString("es-CO",l)};return(i,t)=>_.isOpen?(r(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",onClick:le(b,["self"])},[e("div",Qe,[e("div",{class:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex-shrink-0"},[e("div",{class:"flex items-center justify-between"},[We,e("button",{onClick:b,class:"text-white hover:text-blue-200 transition-colors p-2 hover:bg-white hover:bg-opacity-10 rounded-lg"},Ye)])]),e("div",es,[_.stages&&_.stages.length>0?(r(),n("div",ss,[(r(!0),n(z,null,D(M.value,(l,u)=>(r(),n("div",{key:l.id,class:"flex items-start space-x-4 p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors"},[e("div",ts,[e("div",os,[e("span",rs,c(u+1),1)])]),e("div",as,[e("h4",ns,c(l.status),1),e("p",ls,c(p(l.date||l.created_at)),1)])]))),128))])):(r(),n("div",is,ms))]),e("div",{class:"bg-gray-50 px-6 py-4 flex justify-end border-t border-gray-200 flex-shrink-0 rounded-b-xl"},[e("button",{onClick:b,class:"px-5 py-2.5 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Cerrar ")])])])):j("",!0)}},hs={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},xs={class:"py-6 px-4 sm:px-6 lg:px-8"},gs={class:"border-b border-gray-200 mb-6"},fs={class:"flex items-center justify-between"},_s={class:"-mb-px hidden sm:flex space-x-8"},vs={class:"sm:hidden flex-1"},ys={class:"py-1"},bs={key:0,class:"space-y-6"},ws={class:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm"},ks={class:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between mb-6"},$s={class:"flex items-center gap-3"},Cs=e("img",{src:Ce,class:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 flex-shrink-0"},null,-1),Ps={class:"min-w-0 flex-1"},js={class:"text-base sm:text-xl font-semibold text-blue-600 break-words"},Ms={class:"text-xs sm:text-sm text-gray-600 mt-1 break-words"},Ss={key:0,class:"flex items-center justify-end"},As={class:"flex items-center"},Bs={class:"h-10 w-10 flex-shrink-0"},Es=["src","alt"],Ls={key:1,class:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-sm"},Ts={class:"ml-4"},zs={class:"text-sm font-medium text-gray-900"},Ds={class:"grid md:grid-cols-2 gap-6"},Vs={class:"space-y-4"},Hs={class:"bg-gray-50 rounded-lg p-3 sm:p-4 border border-gray-200"},Rs={class:"text-xs sm:text-sm font-semibold text-blue-600 mb-3 break-words"},Us={class:"space-y-2"},Fs={class:"flex flex-col sm:flex-row sm:items-start gap-1"},Is=e("span",{class:"text-xs sm:text-sm font-medium text-gray-600 sm:w-32 flex-shrink-0"},"Email:",-1),Ns={class:"text-xs sm:text-sm text-blue-600 break-all"},Os={class:"flex flex-col sm:flex-row sm:items-start gap-1"},qs=e("span",{class:"text-xs sm:text-sm font-medium text-gray-600 sm:w-32 flex-shrink-0"},"Radicado:",-1),Zs={class:"text-xs sm:text-sm text-gray-900 break-words"},Gs={class:"bg-gray-50 rounded-lg p-3 sm:p-4 border border-gray-200"},Ks=e("h3",{class:"text-xs sm:text-sm font-semibold text-blue-600 mb-3"},"Partes del Proceso",-1),Js={class:"space-y-2"},Qs={class:"flex flex-col sm:flex-row sm:items-start gap-1"},Ws=e("span",{class:"text-xs sm:text-sm font-medium text-gray-600 sm:w-32 flex-shrink-0"},"Dte./Accionante:",-1),Xs={class:"text-xs sm:text-sm text-gray-900 break-words"},Ys={class:"flex flex-col sm:flex-row sm:items-start gap-1"},et=e("span",{class:"text-xs sm:text-sm font-medium text-gray-600 sm:w-32 flex-shrink-0"},"Ddo./Accionado:",-1),st={class:"text-xs sm:text-sm text-gray-900 break-words"},tt={class:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm"},ot={class:"flex flex-col gap-3 justify-between font-medium md:flex-row mb-4"},rt=e("h3",{class:"text-lg font-semibold text-blue-600"},"Expediente",-1),at={class:"max-w-lg lg:max-w-xs"},nt=e("label",{for:"search",class:"sr-only"},"Buscar",-1),lt={class:"relative"},it={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ct={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},dt=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-300 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),ut=e("h3",{class:"text-base font-medium text-gray-900 mb-1"},"No hay expedientes registrados",-1),mt=e("p",{class:"text-sm text-gray-500 max-w-sm"}," Este proceso aún no tiene documentos de expediente asociados. Los archivos que se agreguen aparecerán aquí. ",-1),pt=[dt,ut,mt],ht={key:1,class:"flow-root overflow-y-auto max-h-[400px] whitespace-nowrap"},xt={class:"-my-2 sm:-mx-6 lg:-mx-8"},gt={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},ft={class:"min-w-full divide-y divide-gray-300"},_t=e("thead",null,[e("tr",{class:"text-left text-base font-regular text-primary"},[e("th",{scope:"col",class:"py-3.5 pr-3 w-2/5"},"Documento"),e("th",{scope:"col",class:"px-3 py-3.5 w-2/5"},"Fecha"),e("th",{scope:"col",class:"px-3 py-3.5 w-1/5"},"Acción")])],-1),vt={class:"divide-y divide-gray-200"},yt={class:"w-2/5 py-4 pr-3 text-sm font-medium text-stone-700 sm:pl-0 break-words"},bt={class:"whitespace-nowrap w-2/5 px-3 py-4 text-sm text-stone-700"},wt={class:"whitespace-nowrap w-1/5 px-3 py-4 text-sm text-primary flex space-x-2"},kt=["onClick"],$t=["onClick"],Ct={class:"w-full flex justify-between mt-4"},Pt={class:"flex items-center justify-between"},jt={class:"sm:flex sm:flex-1 sm:items-center sm:justify-between"},Mt={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},St=["disabled"],At=e("span",{class:"sr-only"},"Anterior",-1),Bt=["onClick"],Et=["disabled"],Lt=e("span",{class:"sr-only"},"Siguiente",-1),Tt={key:0},zt=e("span",{class:"lg:block"},"Editar",-1),Dt=[zt],Nt={__name:"ProcessDetail",setup(_){const d=ce(),y=de(),$=ue(),b=me(),M=$e(),p=v(()=>b.currentUser),i=d.params.process_id,t=v(()=>$.processById(i));pe(async()=>{try{await Promise.all([$.init(),b.init()]);try{await M.updateRecentProcess(i)}catch(o){console.error("Error updating recent process entry:",o)}}catch(o){console.error("Error initializing process detail:",o)}});const l=B(""),u=B(1),C=B(10),L=B(!1),V=B(!1),S=B(null),W=()=>S.value==="my_processes"?"Mis Procesos":S.value==="all_processes"?"Todos los Procesos":S.value==="archived_processes"?"Procesos Archivados":"Selecciona una vista",A=o=>{var f;const s=((f=p.value)==null?void 0:f.id)||"";let x="/process_list";s&&(x+=`/${s}`),o==="archived_processes"&&(x+="/history");const m={};o==="all_processes"?m.group="general":o==="my_processes"&&(m.group="default"),y.push({path:x,query:m})};he(l,()=>{u.value=1});function X(){y.push({name:"process_form",params:{action:"edit",process_id:i}})}const H=v(()=>l.value?t.value.case_files.filter(o=>I(o.file).toLowerCase().includes(l.value.toLowerCase())):t.value.case_files),Y=v(()=>{const o=(u.value-1)*C.value,s=o+C.value;return H.value.slice(o,s)}),R=v(()=>Math.ceil(H.value.length/C.value));function ee(){u.value>1&&u.value--}function se(){u.value<R.value&&u.value++}function te(o){u.value=o}function I(o){return o.split("/").pop()}function oe(o){window.open(o,"_blank")}const re=async o=>{try{const s=await fetch(o);if(!s.ok)throw new Error(`Failed to fetch the file: ${s.statusText}`);const x=await s.blob(),m=document.createElement("a");m.href=window.URL.createObjectURL(x);const f=o.split("/").pop();m.download=f,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(m.href)}catch(s){console.error("An error occurred while downloading the file:",s)}},ae=o=>{const s=new Date(o),x={timeZone:"America/Bogota",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};return s.toLocaleString("en-CA",x)},ne=(o,s)=>{var f,T;const x=((f=o==null?void 0:o.charAt(0))==null?void 0:f.toUpperCase())||"",m=((T=s==null?void 0:s.charAt(0))==null?void 0:T.toUpperCase())||"";return`${x}${m}`},P=o=>!o||!Array.isArray(o.clients)?null:o.clients.length?o.clients[0]:null;return(o,s)=>{var x,m,f,T,N,O,q,Z,G,K,J;return r(),n(z,null,[e("div",hs,[xe(o.$slots,"default")]),e("div",xs,[e("div",gs,[e("div",fs,[e("nav",_s,[e("button",{onClick:s[0]||(s[0]=a=>A("my_processes")),class:k([S.value==="my_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Mis Procesos ",2),((x=p.value)==null?void 0:x.role)==="lawyer"?(r(),n("button",{key:0,onClick:s[1]||(s[1]=a=>A("all_processes")),class:k([S.value==="all_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Todos los Procesos ",2)):j("",!0),e("button",{onClick:s[2]||(s[2]=a=>A("archived_processes")),class:k([S.value==="archived_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Procesos Archivados ",2)]),e("div",vs,[h(g(we),{as:"div",class:"relative"},{default:E(()=>[h(g(_e),{class:"w-full inline-flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:E(()=>[e("span",null,c(W()),1),h(g(ve),{class:"h-5 w-5 ml-2"})]),_:1}),h(g(ye),{class:"absolute left-0 z-10 mt-2 w-full origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:E(()=>{var a;return[e("div",ys,[h(g(F),null,{default:E(({active:w})=>[e("button",{onClick:s[3]||(s[3]=Q=>A("my_processes")),class:k([w?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Mis Procesos ",2)]),_:1}),((a=p.value)==null?void 0:a.role)==="lawyer"?(r(),be(g(F),{key:0},{default:E(({active:w})=>[e("button",{onClick:s[4]||(s[4]=Q=>A("all_processes")),class:k([w?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Todos los Procesos ",2)]),_:1})):j("",!0),h(g(F),null,{default:E(({active:w})=>[e("button",{onClick:s[5]||(s[5]=Q=>A("archived_processes")),class:k([w?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Procesos Archivados ",2)]),_:1})])]}),_:1})]),_:1})])])]),t.value?(r(),n("div",bs,[e("div",ws,[e("div",ks,[e("div",$s,[Cs,e("div",Ps,[e("h1",js,c(t.value.case.type),1),e("p",Ms,c(t.value.subcase),1)])]),(m=t.value)!=null&&m.clients&&t.value.clients.length?(r(),n("div",Ss,[e("div",As,[e("div",Bs,[(f=P(t.value))!=null&&f.photo_profile?(r(),n("img",{key:0,class:"h-10 w-10 rounded-full object-cover",src:(T=P(t.value))==null?void 0:T.photo_profile,alt:(N=P(t.value))==null?void 0:N.first_name},null,8,Es)):(r(),n("div",Ls,c(ne((O=P(t.value))==null?void 0:O.first_name,(q=P(t.value))==null?void 0:q.last_name)),1))]),e("div",Ts,[e("div",zs,c((Z=P(t.value))==null?void 0:Z.first_name)+" "+c((G=P(t.value))==null?void 0:G.last_name),1),e("button",{type:"button",class:"mt-1 text-xs text-blue-600 hover:text-blue-800 hover:underline",onClick:s[6]||(s[6]=a=>V.value=!0)}," Ver usuarios ")])])])):j("",!0)]),e("div",Ds,[e("div",Vs,[e("div",Hs,[e("h3",Rs,c(t.value.authority),1),e("div",Us,[e("div",Fs,[Is,e("span",Ns,c(t.value.authority_email||"No especificado"),1)]),e("div",Os,[qs,e("span",Zs,c(t.value.ref),1)])])]),e("div",Gs,[Ks,e("div",Js,[e("div",Qs,[Ws,e("span",Xs,c(t.value.plaintiff),1)]),e("div",Ys,[et,e("span",st,c(t.value.defendant),1)])])])]),e("div",null,[h(Je,{stages:t.value.stages,"total-stages-expected":5,progress:t.value.progress,onOpenHistory:s[7]||(s[7]=a=>L.value=!0)},null,8,["stages","progress"])])])]),e("div",tt,[e("div",ot,[rt,e("div",at,[nt,e("div",lt,[e("div",it,[h(g(je),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),ge(e("input",{id:"search",name:"search","onUpdate:modelValue":s[8]||(s[8]=a=>l.value=a),class:"block w-full rounded-md border-0 bg-white py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6",placeholder:"Buscar",type:"search"},null,512),[[fe,l.value]])])])]),H.value.length===0?(r(),n("div",ct,pt)):(r(),n("div",ht,[e("div",xt,[e("div",gt,[e("table",ft,[_t,e("tbody",vt,[(r(!0),n(z,null,D(Y.value,a=>(r(),n("tr",{key:a.id},[e("td",yt,c(I(a.file)),1),e("td",bt,c(ae(a.created_at)),1),e("td",wt,[e("button",{onClick:w=>re(a.file)},[h(g(ke),{class:"h-5 w-5","aria-hidden":"true"})],8,kt),e("button",{onClick:w=>oe(a.file)},[h(g(Me),{class:"h-5 w-5","aria-hidden":"true"})],8,$t)])]))),128))])])])])]))]),e("div",Ct,[e("div",Pt,[e("div",jt,[e("div",null,[e("nav",Mt,[e("button",{onClick:ee,disabled:u.value===1,class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},[At,h(g(Ae),{class:"h-5 w-5","aria-hidden":"true"})],8,St),(r(!0),n(z,null,D(R.value,a=>(r(),n("span",{key:a,onClick:w=>te(a),class:k(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 focus:outline-offset-0",{"bg-secondary text-white":u.value===a},{"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 cursor-pointer":u.value!==a}])},c(a),11,Bt))),128)),e("button",{onClick:se,disabled:u.value===R.value,class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},[Lt,h(g(Se),{class:"h-5 w-5","aria-hidden":"true"})],8,Et)])])])]),p.value.role!=="client"?(r(),n("div",Tt,[e("button",{onClick:X,type:"button",class:"p-2.5 text-sm text-white font-medium bg-secondary rounded-md flex gap-2"},Dt)])):j("",!0)])])):j("",!0)]),h(ps,{"is-open":L.value,stages:((K=t.value)==null?void 0:K.stages)||[],onClose:s[9]||(s[9]=a=>L.value=!1)},null,8,["is-open","stages"]),h(Pe,{"is-open":V.value,users:((J=t.value)==null?void 0:J.clients)||[],onClose:s[10]||(s[10]=a=>V.value=!1)},null,8,["is-open","users"])],64)}}};export{Nt as default};
