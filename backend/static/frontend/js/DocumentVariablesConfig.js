import{u as h,o as b,e as l,f as r,g as e,t as _,l as x,F as D,E as w,s as k,w as c,v as f,aF as v,m as i}from"./index.js";import{u as V}from"./dynamicDocument.js";const T={class:"pb-10 px-4 sm:px-6 lg:px-8 lg:pt-10"},U={class:"w-full p-5 rounded-lg border-2 border-stroke bg-terciary"},C={class:"text-primary text-xl font-semibold"},N={class:"mt-4 space-y-4"},B={class:"text-primary text-lg font-semibold col-span-12"},E={class:"col-span-4"},F=e("label",{for:"name_es",class:"block text-sm font-medium leading-6 text-primary"},[i(" Nombre en pantalla "),e("span",{class:"text-red-500"},"*")],-1),M=["onUpdate:modelValue"],S={class:"col-span-4"},$=e("label",{for:"tooltip",class:"block text-sm font-medium leading-6 text-primary"},[i(" Tooltip "),e("span",{class:"text-red-500"},"*")],-1),q=["onUpdate:modelValue"],P={class:"col-span-4"},G=e("label",{for:"field_type",class:"block text-sm font-medium leading-6 text-primary"},[i(" Tipo de input "),e("span",{class:"text-red-500"},"*")],-1),L=["onUpdate:modelValue"],R=e("option",{value:"input"},"Texto simple",-1),j=e("option",{value:"text_area"},"Texto largo",-1),z=[R,j],A={class:"mt-6 flex space-x-4"},K={__name:"DocumentVariablesConfig",setup(H){const m=h(),t=V();b(()=>{t.selectedDocument||console.error("No selected document found")});const u=async a=>{try{const o={title:t.selectedDocument.title,content:t.selectedDocument.content,state:a,variables:t.selectedDocument.variables.map(n=>({name_en:n.name_en,name_es:n.name_es,tooltip:n.tooltip,field_type:n.field_type,value:n.value}))};t.selectedDocument.id?await t.updateDocument(t.selectedDocument.id,o):await t.createDocument(o),t.selectedDocument=null,await t.init(),await k(a==="Draft"?"Documento guardado como borrador":"Documento publicado exitosamente","success"),m.push("/dynamic_document_dashboard")}catch(o){console.error("Error saving document:",o)}},y=()=>{m.push("/dynamic_document_dashboard")};return(a,o)=>{var n,p;return l(),r("div",T,[e("div",U,[e("h1",C,_((n=x(t).selectedDocument)==null?void 0:n.title),1),e("div",N,[(l(!0),r(D,null,w(((p=x(t).selectedDocument)==null?void 0:p.variables)||[],(s,g)=>(l(),r("div",{key:g,class:"grid grid-cols-12 gap-4 items-center"},[e("h2",B,_(s.name_en),1),e("div",E,[F,c(e("input",{type:"text","onUpdate:modelValue":d=>s.name_es=d,id:"name_es",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300",required:""},null,8,M),[[f,s.name_es]])]),e("div",S,[$,c(e("input",{type:"text","onUpdate:modelValue":d=>s.tooltip=d,id:"tooltip",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300",required:""},null,8,q),[[f,s.tooltip]])]),e("div",P,[G,c(e("select",{"onUpdate:modelValue":d=>s.field_type=d,id:"field_type",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm"},z,8,L),[[v,s.field_type]])])]))),128))]),e("div",A,[e("button",{onClick:o[0]||(o[0]=s=>u("Draft")),class:"p-2.5 text-sm font-medium rounded-md bg-secondary text-white"}," Guardar como borrador "),e("button",{onClick:o[1]||(o[1]=s=>u("Published")),class:"p-2.5 text-sm font-medium rounded-md bg-gray-200 text-secondary border-2"}," Publicar "),e("button",{onClick:o[2]||(o[2]=s=>y()),type:"button",class:"p-2.5 text-sm font-medium rounded-md flex gap-2 bg-red-600/80 text-white cursor-pointer"}," Cancelar ")])])])}}};export{K as default};
