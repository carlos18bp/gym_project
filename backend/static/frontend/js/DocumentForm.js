const __vite__fileDeps=["js/DocumentRelationshipsModal.js","js/index.js","css/index.css","js/index2.js","js/_plugin-vue_export-helper.js","js/MagnifyingGlassIcon.js","js/DocumentIcon.js","js/LinkIcon.js","js/TrashIcon.js","css/DocumentRelationshipsModal.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{H as _e,u as he,I as ve,r as _,c as Z,W as ye,o as we,e as i,f as d,g as s,t as c,F as N,J as T,j as g,l as m,n as b,w as D,v as C,p as q,k as H,an as xe,h as Q,ab as W,s as S,E as ke,ao as be,ap as De,V as Ce,S as K}from"./index.js";import{u as ze,s as X,p as Ve}from"./index2.js";import{a as Ie,_ as Se}from"./DocumentRelationshipsModal.js";import{r as Ue}from"./LinkIcon.js";import"./_plugin-vue_export-helper.js";import"./MagnifyingGlassIcon.js";import"./DocumentIcon.js";import"./TrashIcon.js";const Ee={key:0,class:"pb-10 px-4 sm:px-6 lg:px-8 lg:pt-10"},$e={class:"w-full p-5 rounded-lg border-2 border-stroke bg-terciary"},Fe={class:"text-primary text-xl font-semibold"},Me={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-3"},Ne={class:"flex items-center gap-2 mb-2"},Be=["for"],Ae={key:0,class:"relative group"},Re={class:"absolute hidden group-hover:block top-2 left-4 transform translate-y-[-100%] px-3 py-2 text-sm text-white bg-gray-800 rounded-lg shadow-lg",style:{"white-space":"nowrap","z-index":"10"}},Pe=["onUpdate:modelValue","id","onInput"],je=["onUpdate:modelValue","id","onInput"],Le={key:2,class:"relative"},Te={class:"relative rounded-md shadow-sm"},qe={key:0,class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Oe={class:"text-gray-500 sm:text-sm font-medium"},Ge=["onUpdate:modelValue","id","placeholder","onInput","onBlur"],Ye={key:0,class:"mt-1.5 text-xs text-gray-500 italic pl-1"},Je=["onUpdate:modelValue","id","onInput"],Ze=["onUpdate:modelValue","id","onInput"],He=["onUpdate:modelValue","id","onChange"],Qe=s("option",{value:""},"Seleccione una opción",-1),We=["value"],Ke={key:6,class:"text-red-500 text-sm mt-1 flex items-center gap-1"},Xe=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),et={class:"flex flex-col sm:flex-row gap-3 sm:gap-4 mt-6 pt-6 border-t border-gray-200"},tt=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),ot=["disabled"],st=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),rt=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),at=s("span",null,"Cancelar",-1),nt=[rt,at],lt={key:0,class:"mt-4"},it=s("label",{class:"block text-sm font-medium text-primary mb-2"}," Seleccionar usuarios que deben firmar ",-1),ut={class:"relative"},dt={key:0,class:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md max-h-60 overflow-auto"},ct={class:"py-1"},mt=["onClick"],pt={key:0,class:"mt-4"},ft=s("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Firmantes seleccionados:",-1),gt={class:"space-y-2"},_t={class:"font-medium"},ht=["onClick"],vt=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),yt=[vt],wt={class:"mt-6"},xt=s("label",{class:"block text-sm font-medium text-primary mb-1"}," Fecha límite para firmar (opcional) ",-1),kt=s("p",{class:"text-xs text-gray-500 mb-2"},' Después de esta fecha, el documento pasará automáticamente al estado "Expirado" si no ha sido firmado completamente. ',-1),bt=["min"],Dt={class:"mt-6 pt-6 border-t border-gray-200"},Ct=s("div",null,[s("h4",{class:"text-sm font-medium text-gray-700"},"Asociaciones de documentos"),s("p",{class:"text-xs text-gray-500 mt-1"},"Vincula este documento con otros documentos ya firmados")],-1),zt=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1),Vt={key:0,class:"text-sm text-gray-600"},It={class:"font-semibold"},St={key:1,class:"text-sm text-gray-400"},Ut={key:1,class:"text-center text-gray-500"},Et=s("p",null,"Cargando documento...",-1),$t=[Et],Tt={__name:"DocumentForm",setup(Ft){const a=_e(),B=he(),y=ze(),x=ve(),z=_(null),l=_(null),V=_(""),U=_(!1),E=_([]),h=_([]),O=_(""),f=_([]),A=_(!1),$=_(0),F=_([]),R=_(!1),ee=Z(()=>new Date().toISOString().split("T")[0]),te={input:t=>t&&t.trim().length>0,text_area:t=>t&&t.trim().length>0,number:t=>!isNaN(parseFloat(t))&&isFinite(t),date:t=>{if(!t||!/^\d{4}-\d{2}-\d{2}$/.test(t))return!1;const e=new Date(t);return e instanceof Date&&!isNaN(e)},email:t=>t?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t):!1,select:t=>t&&t.trim().length>0},oe=()=>{if(V.value.trim()===""){E.value=[],U.value=!1;return}const t=V.value.toLowerCase();E.value=x.users.filter(o=>h.value.some(e=>e.id===o.id)?!1:o.email.toLowerCase().includes(t)||o.first_name&&o.first_name.toLowerCase().includes(t)||o.last_name&&o.last_name.toLowerCase().includes(t)).slice(0,5),U.value=!0},se=t=>{h.value.push(t),V.value="",E.value=[],U.value=!1},re=t=>{h.value=h.value.filter(o=>o.id!==t.id)};ye(V,t=>{t===""&&(U.value=!1)});const k=(t,o)=>{const e=[];if(t.value!==null&&t.value!==void 0){const r=te[t.field_type];if(r&&!r(t.value))switch(t.field_type){case"number":e.push("El valor debe ser un número válido.");break;case"date":e.push("El valor debe ser una fecha válida en formato YYYY-MM-DD.");break;case"email":e.push("El valor debe ser un correo electrónico válido.");break;default:String(t.value).trim().length===0&&e.push("El valor no puede estar vacío.")}}e.length>0?f.value[o]=e.join(" "):f.value[o]=null},ae=()=>{var o;f.value=[];let t=!0;return(o=l.value)==null||o.variables.forEach((e,r)=>{k(e,r),f.value[r]&&(t=!1)}),a.params.mode==="formalize"&&h.value.length===0?(K.fire({title:"Firmantes requeridos",text:"Debe seleccionar al menos un usuario para firmar el documento.",icon:"warning"}),!1):(t||K.fire({title:"Campos incompletos",text:"Por favor, verifica los formatos de los campos.",icon:"warning"}),t)};we(async()=>{var o;const t=a.params.id;if(R.value=a.params.mode==="editor"||a.params.mode==="formalize"||a.params.mode==="correction",z.value=await y.documentById(t),(!x.users||x.users.length===0)&&await x.fetchUsers(),a.params.mode==="creator"&&(l.value={title:a.params.title,variables:z.value.variables,content:z.value.content,created_by:z.value.created_by,assigned_to:((o=y.currentUser)==null?void 0:o.id)||null,tags:z.value.tags||[]}),(a.params.mode==="editor"||a.params.mode==="formalize"||a.params.mode==="correction")&&(l.value=JSON.parse(JSON.stringify(z.value)),l.value.title=a.params.title,a.params.mode==="formalize"&&(l.value.state="Published",l.value.requires_signature=!0,l.value.signer_ids&&l.value.signer_ids.length>0))){const e=await x.getUsersByIds(l.value.signer_ids);h.value=e}});const Y=Z(()=>{var t;return(t=l.value)==null?void 0:t.variables.every(o=>o.value!==null&&o.value!==void 0&&String(o.value).trim().length>0)}),P=t=>{if(!t)return null;const o=String(t).replace(/[^0-9.-]/g,""),e=parseFloat(o);return isNaN(e)?null:e},ne=t=>{const o=P(t.value);if(o===null)return"";try{const e=new Intl.NumberFormat("es-CO",{minimumFractionDigits:0,maximumFractionDigits:2}).format(o);return t.currency?`${t.currency} $ ${e}`:e}catch{return t.value}},le=(t,o,e)=>{const r=e.target.value;if(!r||r.trim()===""){t.value="",k(t,o);return}const M=r.replace(/[^0-9.]/g,"").split(".");let j=M[0];M.length>1&&(j+="."+M.slice(1).join("")),t.value=j,k(t,o)},ie=t=>{if(!t.value)return;const o=P(t.value);o!==null&&(t.value=String(o))},J=async(t="Draft")=>{var o;if(ae())try{const e=x.getCurrentUser,r=(e==null?void 0:e.id)||((o=y.currentUser)==null?void 0:o.id),u=a.params.mode==="creator"&&l.value.state==="Published"&&!l.value.assigned_to,M=a.params.mode==="formalize",j=a.params.mode==="correction",fe=u?"Progress":M?"PendingSignatures":j?l.value.state:t,G={title:l.value.title,content:l.value.content,state:fe,assigned_to:(u||!l.value.assigned_to)&&r?r:l.value.assigned_to,variables:l.value.variables.map(n=>{let p=n.value;if(n.field_type==="number"&&n.value){const v=P(n.value);p=v!==null?String(v):n.value}return{name_en:n.name_en,name_es:n.name_es,tooltip:n.tooltip||"",field_type:n.field_type,value:p,select_options:n.field_type==="select"?n.select_options:null,summary_field:n.summary_field||"none",currency:n.summary_field==="value"&&n.currency||null}}),requires_signature:a.params.mode==="formalize"||a.params.mode==="correction",signature_due_date:a.params.mode==="formalize"?O.value||null:l.value.signature_due_date||null,signers:a.params.mode==="formalize"?(()=>{var v;const n=h.value.map(I=>I.id),p=(v=x.currentUser)==null?void 0:v.id;return p&&!n.includes(p)&&n.push(p),n})():[],tag_ids:l.value.tags?l.value.tags.map(n=>n.id):[]};let w=null;if(a.params.mode==="formalize"){const n=await y.createDocument(G);if(n&&n.id&&(w=n.id,F.value.length>0))try{const{documentRelationshipsActions:p}=await W(()=>import("./DocumentRelationshipsModal.js").then(L=>L.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));let v=0,I=0;for(const L of F.value)try{await p.createDocumentRelationship({source_document:w,target_document:L,allow_pending_signatures:!0}),v++}catch(ge){console.error(`Error creating relationship with document ${L}:`,ge),I++}v>0&&console.log(`Successfully created ${v} relationship(s)`),I>0&&(console.warn(`Failed to create ${I} relationship(s)`),await S(`Documento formalizado, pero ${I} asociación(es) no pudieron crearse`,"warning"))}catch(p){console.error("Error importing relationships module:",p),await S("Documento formalizado, pero las asociaciones no pudieron crearse","warning")}}else if(R.value&&l.value.id){if(await y.updateDocument(l.value.id,G),w=l.value.id,a.params.mode==="correction"&&w)try{const n=`dynamic-documents/${w}/reopen-signatures/`,p=await ke(n,{});if(!p||p.status!==200&&p.status!==201){await S("Error al reabrir el documento para firma.","error");return}await y.init(!0);try{await be(De.UPDATE,`Corregiste y reenviaste el documento "${l.value.title}" para firma`)}catch(v){console.warn("No se pudo registrar la actividad de corrección y reenvío:",v)}}catch(n){console.error("Error reopening document for signatures:",n),await S("Error al reabrir el documento para firma.","error");return}}else{const n=await y.createDocument(G);n&&n.id&&(w=n.id,await y.init(!0))}w&&(localStorage.setItem("lastUpdatedDocumentId",w.toString()),y.lastUpdatedDocumentId=w),await S(a.params.mode==="formalize"?"Documento formalizado y listo para firmas":a.params.mode==="correction"?"Documento corregido y reenviado para firmas":t==="Draft"?"Documento guardado como borrador":"Documento publicado exitosamente","success"),setTimeout(()=>{if(a.params.mode==="formalize"||a.params.mode==="correction"){const n=x.currentUser;(n==null?void 0:n.role)==="lawyer"?B.push({path:"/dynamic_document_dashboard",query:{lawyerTab:"pending-signatures"}}):B.push({path:"/dynamic_document_dashboard",query:{tab:"pending-signatures"}})}else B.push({path:"/dynamic_document_dashboard",query:{tab:"my-documents"}})},300)}catch(e){console.error("Error saving document:",e),await S("Error al guardar documento","error")}},ue=()=>{B.push("/dynamic_document_dashboard")},de=()=>{A.value=!0},ce=()=>{A.value=!1},me=t=>{F.value=t,$.value=t.length},pe=async()=>{var t;if(a.params.mode==="formalize"){$.value=F.value.length;return}if((t=l.value)!=null&&t.id)try{const{documentRelationshipsActions:o}=await W(()=>import("./DocumentRelationshipsModal.js").then(r=>r.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),e=await o.getRelatedDocuments(l.value.id);$.value=(e==null?void 0:e.length)||0}catch(o){console.error("Error refreshing associations:",o)}};return(t,o)=>(i(),d(N,null,[l.value?(i(),d("div",Ee,[s("div",$e,[s("div",null,[s("h1",Fe,c(l.value.title),1)]),s("div",Me,[(i(!0),d(N,null,T(l.value.variables,(e,r)=>(i(),d("div",{key:r,class:b({"col-span-3":e.field_type==="text_area","col-span-1":e.field_type!=="text_area"})},[s("div",Ne,[s("label",{for:"field-"+r,class:"text-base font-medium text-primary"},c(e.name_es||e.name_en),9,Be),e.tooltip?(i(),d("div",Ae,[Q(g(Ue),{class:"size-5 text-gray-400 hover:text-secondary cursor-pointer"}),s("div",Re,c(e.tooltip),1)])):m("",!0)]),e.field_type==="input"?D((i(),d("input",{key:0,type:"text","onUpdate:modelValue":u=>e.value=u,id:"field-"+r,class:b(["block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-secondary",{"ring-red-300":f.value[r]}]),onInput:u=>k(e,r)},null,42,Pe)),[[C,e.value]]):m("",!0),e.field_type==="text_area"?D((i(),d("textarea",{key:1,"onUpdate:modelValue":u=>e.value=u,id:"field-"+r,class:b(["block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-secondary",{"ring-red-300":f.value[r]}]),onInput:u=>k(e,r),rows:"4"},null,42,je)),[[C,e.value]]):m("",!0),e.field_type==="number"?(i(),d("div",Le,[s("div",Te,[e.currency?(i(),d("div",qe,[s("span",Oe,c(e.currency),1)])):m("",!0),D(s("input",{type:"text","onUpdate:modelValue":u=>e.value=u,id:"field-"+r,class:b(["block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-secondary",e.currency?"pl-16":"pl-3",f.value[r]?"ring-red-300":""]),placeholder:e.currency?"0":"Ingrese un valor",onInput:u=>le(e,r,u),onBlur:u=>ie(e)},null,42,Ge),[[C,e.value]])]),e.value&&!f.value[r]&&P(e.value)?(i(),d("p",Ye,c(ne(e)),1)):m("",!0)])):m("",!0),e.field_type==="date"?D((i(),d("input",{key:3,type:"date","onUpdate:modelValue":u=>e.value=u,id:"field-"+r,class:b(["block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-secondary",{"ring-red-300":f.value[r]}]),onInput:u=>k(e,r)},null,42,Je)),[[C,e.value]]):m("",!0),e.field_type==="email"?D((i(),d("input",{key:4,type:"email","onUpdate:modelValue":u=>e.value=u,id:"field-"+r,class:b(["block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-secondary",{"ring-red-300":f.value[r]}]),onInput:u=>k(e,r)},null,42,Ze)),[[C,e.value]]):m("",!0),e.field_type==="select"?D((i(),d("select",{key:5,"onUpdate:modelValue":u=>e.value=u,id:"field-"+r,class:b(["block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-secondary",{"ring-red-300":f.value[r]}]),onChange:u=>k(e,r)},[Qe,(i(!0),d(N,null,T(e.select_options,u=>(i(),d("option",{key:u,value:u},c(u),9,We))),128))],42,He)),[[Ce,e.value]]):m("",!0),f.value[r]?(i(),d("p",Ke,[Xe,q(" "+c(f.value[r]),1)])):m("",!0)],2))),128))]),s("div",et,[g(a).params.mode==="editor"||g(a).params.mode==="creator"?(i(),d("button",{key:0,type:"button",class:"inline-flex items-center justify-center px-6 py-3 text-sm font-semibold rounded-lg shadow-sm bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",onClick:o[0]||(o[0]=e=>J("Progress"))},[tt,s("span",null,c(R.value?"Guardar cambios como Borrador":"Guardar progreso"),1)])):m("",!0),s("button",{type:"button",class:b(["inline-flex items-center justify-center px-6 py-3 text-sm font-semibold rounded-lg shadow-sm transition-all duration-200",!Y.value||g(a).params.mode==="formalize"&&h.value.length===0?"bg-gray-100 text-gray-400 border-2 border-dashed border-gray-300 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"]),disabled:!Y.value||g(a).params.mode==="formalize"&&h.value.length===0,onClick:o[1]||(o[1]=e=>J(g(a).params.mode==="formalize"?"Published":"Completed"))},[st,s("span",null,c(g(a).params.mode==="formalize"?"Formalizar y Agregar Firmas":g(a).params.mode==="correction"?"Guardar y reenviar para firma":R.value?"Completar y Generar":"Generar"),1)],10,ot),s("button",{onClick:o[2]||(o[2]=e=>ue()),type:"button",class:"inline-flex items-center justify-center px-6 py-3 text-sm font-semibold rounded-lg shadow-sm bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 sm:ml-auto"},nt)]),g(a).params.mode==="formalize"?(i(),d("div",lt,[it,s("div",ut,[D(s("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=e=>V.value=e),onInput:oe,placeholder:"Buscar usuario por nombre o correo...",class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300"},null,544),[[C,V.value]]),U.value&&E.value.length>0?(i(),d("div",dt,[s("ul",ct,[(i(!0),d(N,null,T(E.value,e=>(i(),d("li",{key:e.id,onClick:r=>se(e),class:"px-4 py-2 hover:bg-gray-100 cursor-pointer"},c(e.first_name)+" "+c(e.last_name)+" ("+c(e.email)+") ",9,mt))),128))])])):m("",!0)]),h.value.length>0?(i(),d("div",pt,[ft,s("ul",gt,[(i(!0),d(N,null,T(h.value,(e,r)=>(i(),d("li",{key:e.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded-md"},[s("div",null,[s("span",_t,c(r+1)+".",1),q(" "+c(e.first_name)+" "+c(e.last_name)+" ("+c(e.email)+") ",1)]),s("button",{onClick:u=>re(e),class:"text-red-500 hover:text-red-700"},yt,8,ht)]))),128))])])):m("",!0),s("div",wt,[xt,kt,D(s("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>O.value=e),type:"date",min:ee.value,class:"block w-full rounded-md border-0 py-1.5 text-primary shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-secondary sm:text-sm sm:leading-6"},null,8,bt),[[C,O.value]])]),s("div",Dt,[s("div",{class:"flex items-center justify-between mb-3"},[Ct,s("button",{type:"button",onClick:de,class:"inline-flex items-center px-4 py-2 border border-indigo-300 rounded-md shadow-sm text-sm font-medium text-indigo-700 bg-indigo-50 hover:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[zt,q(" Gestionar asociaciones ")])]),$.value>0?(i(),d("p",Vt,[s("span",It,c($.value),1),q(" documento(s) asociado(s) ")])):(i(),d("p",St," Sin asociaciones "))])])):m("",!0)])])):(i(),d("div",Ut,$t)),(i(),H(xe,{to:"body"},[A.value&&l.value?(i(),H(Ie,{key:0,"is-open":A.value,document:l.value,"force-relate-tab":g(a).params.mode==="formalize","defer-save":g(a).params.mode==="formalize","pending-relationships":F.value,onClose:ce,onRefresh:pe,onUpdatePending:me},null,8,["is-open","document","force-relate-tab","defer-save","pending-relationships"])):m("",!0)])),Q(Se,{isVisible:g(X),documentData:g(Ve),onClose:o[5]||(o[5]=e=>X.value=!1)},null,8,["isVisible","documentData"])],64))}};export{Tt as default};
