import{e as p,f as _,g as e,ab as Ee,u as Ne,I as De,H as Re,c as $,r as A,o as Ie,T as Q,d as Ve,a9 as Ue,n as d,l as z,h as r,i as n,j as l,p as M,w as qe,v as Fe,t as f,k as I,ac as He,F as V,N as W,ad as E,ae as N,af as b,ag as D,G as Oe,ah as We,m as ce,ai as Ze,J as Je}from"./index.js";import{r as Z}from"./ChevronDownIcon.js";import{r as de}from"./PlusIcon.js";import{r as Qe}from"./MagnifyingGlassIcon.js";import{r as G,a as Ge}from"./FunnelIcon.js";import{r as ue}from"./EllipsisVerticalIcon.js";import{r as Ke}from"./ChevronRightIcon.js";function Xe(pe,U){return p(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})])}const Ye={class:"min-h-screen bg-gray-50"},et={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},tt={class:"py-6 px-4 sm:px-6 lg:px-8"},st={class:"border-b border-gray-200 mb-6"},ot={class:"flex items-center justify-between"},at={class:"-mb-px hidden sm:flex space-x-8"},lt={class:"sm:hidden flex-1"},rt={class:"py-1"},nt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 mb-6"},it={class:"mb-4"},ct={class:"relative w-full"},dt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4"},ut={class:"flex items-center gap-2 min-w-0"},pt={class:"truncate"},gt={class:"py-1"},mt=["onClick"],ft={class:"flex items-center gap-2 min-w-0"},ht={class:"truncate"},yt={class:"py-1"},vt=["onClick"],xt={class:"flex items-center gap-2 min-w-0"},_t={class:"truncate"},bt={class:"py-1"},wt=["onClick"],kt={class:"flex items-center justify-stretch"},Ct=e("span",null,"Limpiar",-1),$t={class:"flex flex-col gap-3 pt-4 border-t border-gray-200"},At={class:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between"},Pt={class:"text-sm text-gray-500"},Lt={class:"font-medium"},St={class:"hidden sm:inline"},Tt={class:"py-1"},Bt={class:"flex items-center gap-2"},jt=e("span",{class:"hidden sm:inline"},"Nuevo",-1),Mt=e("span",{class:"hidden sm:inline"},"Exportar",-1),zt={class:"py-1"},Et={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Nt={class:"min-w-full divide-y divide-gray-200"},Dt={class:"bg-gray-50"},Rt={scope:"col",class:"w-12 px-6 py-3"},It=["checked"],Vt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nombre ",-1),Ut=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," E-mail ",-1),qt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipo Proceso ",-1),Ft=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Dte./Accionante ",-1),Ht=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ddo./Accionado ",-1),Ot=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Etapa ",-1),Wt=e("th",{scope:"col",class:"w-16 px-6 py-3"},null,-1),Zt={class:"bg-white divide-y divide-gray-200"},Jt=["onClick"],Qt=["checked","onChange"],Gt={class:"px-6 py-4 whitespace-nowrap"},Kt={class:"flex items-center"},Xt={class:"h-10 w-10 flex-shrink-0"},Yt=["src","alt"],es={class:"ml-4"},ts={class:"text-sm font-medium text-gray-900"},ss={class:"px-6 py-4 whitespace-nowrap"},os={class:"text-sm text-gray-900"},as={class:"px-6 py-4 whitespace-nowrap"},ls={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},rs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ns={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},is={class:"px-6 py-4 whitespace-nowrap"},cs={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},ds={class:"py-1"},us={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},ps={class:"flex flex-1 justify-between sm:hidden"},gs=["disabled"],ms=["disabled"],fs={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},hs={class:"text-sm text-gray-700"},ys={class:"font-medium"},vs={class:"font-medium"},xs={class:"font-medium"},_s={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},bs=["disabled"],ws=e("span",{class:"sr-only"},"Anterior",-1),ks=["onClick"],Cs={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700"},$s=["disabled"],As=e("span",{class:"sr-only"},"Siguiente",-1),Ps={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},Ls=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No hay procesos disponibles",-1),Ss={class:"mt-2 text-sm text-gray-500"},Ds={__name:"ProcessList",setup(pe){const U=Ee(),K=Ne(),X=De(),R=Re(),ge=Je,k=$(()=>X.getCurrentUser),h=A("my_processes"),q=A(""),S=A(null),T=A(null),B=A(null),F=A("recent"),P=A([]),v=A(1),H=A(10),me=A({}),Y=A({}),ee=A(!1);Ie(async()=>{await R.init(),await X.init(),U.params.display==="history"?h.value="archived_processes":U.query.group==="general"?h.value="all_processes":h.value="my_processes"}),Q(()=>U.params.display,o=>{o==="history"&&(h.value="archived_processes")}),Q(()=>U.query.group,o=>{o==="general"?h.value="all_processes":o==="default"&&(h.value="my_processes")});const fe=$(()=>{const o=new Set;return R.processes.forEach(t=>{var a;(a=t.case)!=null&&a.type&&o.add(t.case.type)}),Array.from(o).sort()}),he=$(()=>{const o=new Set;return R.processes.forEach(t=>{t.authority&&o.add(t.authority)}),Array.from(o).sort()}),ye=$(()=>{const o=new Set;return R.processes.forEach(t=>{t.stages&&t.stages.length>0&&t.stages.forEach(a=>{a.status&&o.add(a.status)})}),Array.from(o).sort()}),ve=$(()=>{var c,y,u,x,s,i;let o=[];const t=((c=k.value)==null?void 0:c.role)==="client"||((y=k.value)==null?void 0:y.role)==="basic"||((u=k.value)==null?void 0:u.role)==="corporate_client",a=(x=k.value)==null?void 0:x.id;return h.value==="archived_processes"?(o=R.processesWithClosedStatus,t?o=o.filter(g=>{var m;return((m=g.client)==null?void 0:m.id)===a}):((s=k.value)==null?void 0:s.role)==="lawyer"&&(o=o.filter(g=>{var m;return((m=g.lawyer)==null?void 0:m.id)===a}))):(o=R.processesWithoutClosedStatus,h.value==="my_processes"&&(t?o=o.filter(g=>{var m;return((m=g.client)==null?void 0:m.id)===a}):((i=k.value)==null?void 0:i.role)==="lawyer"&&(o=o.filter(g=>{var m;return((m=g.lawyer)==null?void 0:m.id)===a})))),o}),C=$(()=>{let o=[...ve.value];if(q.value){const t=q.value.toLowerCase();o=o.filter(a=>{var c,y,u,x,s,i,g,m,w,L,O,le,re,ne;return((y=(c=a.client)==null?void 0:c.first_name)==null?void 0:y.toLowerCase().includes(t))||((x=(u=a.client)==null?void 0:u.last_name)==null?void 0:x.toLowerCase().includes(t))||((i=(s=a.client)==null?void 0:s.email)==null?void 0:i.toLowerCase().includes(t))||((m=(g=a.case)==null?void 0:g.type)==null?void 0:m.toLowerCase().includes(t))||((w=a.subcase)==null?void 0:w.toLowerCase().includes(t))||((L=a.ref)==null?void 0:L.toLowerCase().includes(t))||((O=a.plaintiff)==null?void 0:O.toLowerCase().includes(t))||((le=a.defendant)==null?void 0:le.toLowerCase().includes(t))||((re=a.authority)==null?void 0:re.toLowerCase().includes(t))||((ne=a.stages)==null?void 0:ne.some(ze=>{var ie;return(ie=ze.status)==null?void 0:ie.toLowerCase().includes(t)}))})}return S.value&&(o=o.filter(t=>{var a;return((a=t.case)==null?void 0:a.type)===S.value})),T.value&&(o=o.filter(t=>t.authority===T.value)),B.value&&(o=o.filter(t=>{var c;const a=(c=t.stages)==null?void 0:c[t.stages.length-1];return(a==null?void 0:a.status)===B.value})),F.value==="name"?o.sort((t,a)=>{var u,x,s,i;const c=`${((u=t.client)==null?void 0:u.first_name)||""} ${((x=t.client)==null?void 0:x.last_name)||""}`.toLowerCase(),y=`${((s=a.client)==null?void 0:s.first_name)||""} ${((i=a.client)==null?void 0:i.last_name)||""}`.toLowerCase();return c.localeCompare(y)}):F.value==="recent"&&o.sort((t,a)=>{const c=t.created_at?new Date(t.created_at).getTime():0;return(a.created_at?new Date(a.created_at).getTime():0)-c}),o}),te=$(()=>{const o=(v.value-1)*H.value,t=o+H.value;return C.value.slice(o,t)}),j=$(()=>Math.ceil(C.value.length/H.value)),J=$(()=>{const o=(v.value-1)*H.value+1,t=Math.min(v.value*H.value,C.value.length);return{start:o,end:t,total:C.value.length}});Q([q,S,T,B,h],()=>{v.value=1});const xe=$(()=>{switch(F.value){case"name":return"Nombre (A-Z)";case"recent":default:return"Más recientes"}}),_e=()=>{S.value=null,T.value=null,B.value=null},se=$(()=>C.value.length>0&&P.value.length===C.value.length),be=()=>{se.value?P.value=[]:P.value=C.value.map(o=>o.id)},we=o=>{const t=P.value.indexOf(o);t>-1?P.value.splice(t,1):P.value.push(o)},ke=()=>{P.value=C.value.map(o=>o.id)},Ce=()=>{P.value=[]},$e=()=>{switch(h.value){case"my_processes":return"Mis Procesos";case"all_processes":return"Todos los Procesos";case"archived_processes":return"Procesos Archivados";default:return"Mis Procesos"}},Ae=o=>{K.push({name:"process_detail",params:{process_id:o}})},Pe=()=>{K.push("/legal_request_create")},oe=()=>{v.value>1&&v.value--},ae=()=>{v.value<j.value&&v.value++},Le=o=>{o>=1&&o<=j.value&&(v.value=o)},Se=$(()=>{const o=j.value,t=v.value,a=[];if(o<=7)for(let c=1;c<=o;c++)a.push(c);else if(t<=4){for(let c=1;c<=5;c++)a.push(c);a.push("..."),a.push(o)}else if(t>=o-3){a.push(1),a.push("...");for(let c=o-4;c<=o;c++)a.push(c)}else a.push(1),a.push("..."),a.push(t-1),a.push(t),a.push(t+1),a.push("..."),a.push(o);return a}),Te=(o,t)=>{o&&(me.value[t]=o)},Be=(o,t)=>{o&&(Y.value[t]=o)},je=(o,t)=>{ee.value=!t,t||setTimeout(()=>{const a=Y.value[o];if(a){const c=a.$el||a;if(c&&c.getBoundingClientRect){const y=c.getBoundingClientRect(),u=window.innerHeight;if(o===0){if(y.bottom>u-20){const x=y.bottom-u+40;window.scrollBy({top:x,behavior:"smooth"})}}else if(y.bottom>u-10){const x=y.bottom-u+30;window.scrollBy({top:x,behavior:"smooth"})}else if(y.top<80){const x=y.top-100;window.scrollBy({top:x,behavior:"smooth"})}}}},100)},Me=()=>{const o=P.value.length>0?C.value.filter(s=>P.value.includes(s.id)):C.value,t=["Nombre","Email","Tipo Proceso","Dte./Accionante","Ddo./Accionado","Etapa"],a=o.map(s=>{var i,g,m,w,L,O;return[`${((i=s.client)==null?void 0:i.first_name)||""} ${((g=s.client)==null?void 0:g.last_name)||""}`,((m=s.client)==null?void 0:m.email)||"",((w=s.case)==null?void 0:w.type)||"",s.plaintiff||"-",s.defendant||"-",((O=(L=s.stages)==null?void 0:L[s.stages.length-1])==null?void 0:O.status)||"Sin estado"]}),c=[t.join(","),...a.map(s=>s.map(i=>`"${i}"`).join(","))].join(`
`),y=new Blob([c],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),x=URL.createObjectURL(y);u.setAttribute("href",x),u.setAttribute("download",`procesos_${new Date().toISOString().split("T")[0]}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)};return(o,t)=>{var c,y,u,x;const a=Ve("router-link");return p(),_("div",Ye,[e("div",et,[Ue(o.$slots,"default")]),e("div",tt,[e("div",st,[e("div",ot,[e("nav",at,[e("button",{onClick:t[0]||(t[0]=s=>h.value="my_processes"),class:d([h.value==="my_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Mis Procesos ",2),((c=k.value)==null?void 0:c.role)==="lawyer"?(p(),_("button",{key:0,onClick:t[1]||(t[1]=s=>h.value="all_processes"),class:d([h.value==="all_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Todos los Procesos ",2)):z("",!0),e("button",{onClick:t[2]||(t[2]=s=>h.value="archived_processes"),class:d([h.value==="archived_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Procesos Archivados ",2)]),e("div",lt,[r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("span",null,f($e()),1),r(l(Z),{class:"h-5 w-5 ml-2"})]),_:1}),r(l(N),{class:"absolute left-0 z-10 mt-2 w-full origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>{var s;return[e("div",rt,[r(l(b),null,{default:n(({active:i})=>[e("button",{onClick:t[3]||(t[3]=g=>h.value="my_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Mis Procesos ",2)]),_:1}),((s=k.value)==null?void 0:s.role)==="lawyer"?(p(),I(l(b),{key:0},{default:n(({active:i})=>[e("button",{onClick:t[4]||(t[4]=g=>h.value="all_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Todos los Procesos ",2)]),_:1})):z("",!0),r(l(b),null,{default:n(({active:i})=>[e("button",{onClick:t[5]||(t[5]=g=>h.value="archived_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Procesos Archivados ",2)]),_:1})])]}),_:1})]),_:1})]),((y=k.value)==null?void 0:y.role)==="client"||((u=k.value)==null?void 0:u.role)==="corporate_client"?(p(),_("button",{key:0,onClick:Pe,class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-secondary bg-secondary text-sm font-medium text-white hover:bg-blue-700 transition-all duration-200 ml-3 sm:ml-4"},[r(l(de),{class:"h-5 w-5"}),M(" Solicitar Información ")])):z("",!0)])]),e("div",nt,[e("div",it,[e("div",ct,[r(l(Qe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),qe(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>q.value=s),type:"text",placeholder:"Buscar procesos...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-secondary focus:border-transparent text-sm"},null,512),[[Fe,q.value]])])]),e("div",dt,[r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",ut,[r(l(G),{class:"h-4 w-4 flex-shrink-0"}),e("span",pt,f(S.value||"Tipo"),1)]),r(l(Z),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(N),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",gt,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[7]||(t[7]=i=>S.value=null),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(p(!0),_(V,null,W(fe.value,s=>(p(),I(l(b),{key:s},{default:n(({active:i})=>[e("a",{onClick:g=>S.value=s,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(s),11,mt)]),_:2},1024))),128))])]),_:1})]),_:1}),r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",ft,[r(l(G),{class:"h-4 w-4 flex-shrink-0"}),e("span",ht,f(T.value||"Autoridad"),1)]),r(l(Z),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(N),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",yt,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[8]||(t[8]=i=>T.value=null),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(p(!0),_(V,null,W(he.value,s=>(p(),I(l(b),{key:s},{default:n(({active:i})=>[e("a",{onClick:g=>T.value=s,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(s),11,vt)]),_:2},1024))),128))])]),_:1})]),_:1}),r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",xt,[r(l(G),{class:"h-4 w-4 flex-shrink-0"}),e("span",_t,f(B.value||"Etapa"),1)]),r(l(Z),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(N),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",bt,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[9]||(t[9]=i=>B.value=null),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(p(!0),_(V,null,W(ye.value,s=>(p(),I(l(b),{key:s},{default:n(({active:i})=>[e("a",{onClick:g=>B.value=s,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(s),11,wt)]),_:2},1024))),128))])]),_:1})]),_:1}),e("div",kt,[S.value||T.value||B.value?(p(),_("button",{key:0,onClick:_e,class:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",title:"Limpiar filtros"},[r(l(Oe),{class:"h-4 w-4 flex-shrink-0"}),Ct])):z("",!0)])]),e("div",$t,[e("div",At,[e("div",Pt,[e("span",Lt,f(C.value.length),1),M(" resultados encontrados ")]),r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[r(l(Xe),{class:"h-4 w-4"}),e("span",St,f(xe.value),1),r(l(Z),{class:"h-4 w-4"})]),_:1}),r(l(N),{class:"absolute left-0 sm:left-auto sm:right-0 z-10 mt-2 w-48 origin-top-left sm:origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",Tt,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[10]||(t[10]=i=>F.value="recent"),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Más recientes ",2)]),_:1}),r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[11]||(t[11]=i=>F.value="name"),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Nombre (A-Z) ",2)]),_:1})])]),_:1})]),_:1})]),e("div",Bt,[((x=k.value)==null?void 0:x.role)==="lawyer"?(p(),I(a,{key:0,to:{name:"process_form",params:{action:"create"}},class:"inline-flex items-center gap-2 px-3 py-2 bg-secondary text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium whitespace-nowrap"},{default:n(()=>[r(l(de),{class:"h-4 w-4"}),jt]),_:1})):z("",!0),e("button",{onClick:Me,class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},[r(l(We),{class:"h-4 w-4"}),Mt]),r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"inline-flex items-center justify-center w-10 h-10 rounded-md hover:bg-gray-100"},{default:n(()=>[r(l(ue),{class:"h-5 w-5 text-gray-500"})]),_:1}),r(l(N),{class:"absolute left-0 sm:left-auto sm:right-0 z-10 mt-2 w-48 origin-top-left sm:origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",zt,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:ke,class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Seleccionar todo ",2)]),_:1}),r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:Ce,class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Deseleccionar todo ",2)]),_:1})])]),_:1})]),_:1})])])]),C.value.length?(p(),_("div",Et,[e("div",{class:"overflow-x-auto",style:He({minHeight:ee.value?"200px":"auto"})},[e("table",Nt,[e("thead",Dt,[e("tr",null,[e("th",Rt,[e("input",{type:"checkbox",checked:se.value,onChange:be,class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,It)]),Vt,Ut,qt,Ft,Ht,Ot,Wt])]),e("tbody",Zt,[(p(!0),_(V,null,W(te.value,(s,i)=>{var g;return p(),_("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:m=>Ae(s.id)},[e("td",{class:"px-6 py-4 whitespace-nowrap",onClick:t[12]||(t[12]=ce(()=>{},["stop"]))},[e("input",{type:"checkbox",checked:P.value.includes(s.id),onChange:m=>we(s.id),class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,Qt)]),e("td",Gt,[e("div",Kt,[e("div",Xt,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:s.client.photo_profile||l(ge),alt:s.client.first_name},null,8,Yt)]),e("div",es,[e("div",ts,f(s.client.first_name)+" "+f(s.client.last_name),1)])])]),e("td",ss,[e("div",os,f(s.client.email),1)]),e("td",as,[e("span",ls,f(s.case.type),1)]),e("td",rs,f(s.plaintiff||"-"),1),e("td",ns,f(s.defendant||"-"),1),e("td",is,[e("span",cs,f(((g=s.stages[s.stages.length-1])==null?void 0:g.status)||"Sin estado"),1)]),e("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:t[13]||(t[13]=ce(()=>{},["stop"]))},[r(l(D),{as:"div",class:"relative inline-block text-left"},{default:n(({open:m})=>[r(l(E),{ref_for:!0,ref:w=>Te(w,i),onClick:w=>je(i,m),class:"inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100"},{default:n(()=>[r(l(ue),{class:"h-5 w-5 text-gray-500"})]),_:2},1032,["onClick"]),r(l(N),{ref_for:!0,ref:w=>Be(w,i),class:d([i>0&&i>=te.value.length-3?"absolute right-0 z-50 bottom-full mb-2 w-48 origin-bottom-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none":"absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"])},{default:n(()=>{var w;return[e("div",ds,[r(l(b),null,{default:n(({active:L})=>[r(a,{to:{name:"process_detail",params:{process_id:s.id}},class:d([L?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[M(" Ver detalles ")]),_:2},1032,["to","class"])]),_:2},1024),((w=k.value)==null?void 0:w.role)==="lawyer"?(p(),I(l(b),{key:0},{default:n(({active:L})=>[r(a,{to:{name:"process_form",params:{action:"edit",process_id:s.id}},class:d([L?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[M(" Editar ")]),_:2},1032,["to","class"])]),_:2},1024)):z("",!0)])]}),_:2},1032,["class"])]),_:2},1024)])],8,Jt)}),128))])])],4),j.value>1?(p(),_("div",us,[e("div",ps,[e("button",{onClick:oe,disabled:v.value===1,class:d(["relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",v.value===1?"opacity-50 cursor-not-allowed":""])}," Anterior ",10,gs),e("button",{onClick:ae,disabled:v.value===j.value,class:d(["relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",v.value===j.value?"opacity-50 cursor-not-allowed":""])}," Siguiente ",10,ms)]),e("div",fs,[e("div",null,[e("p",hs,[M(" Mostrando "),e("span",ys,f(J.value.start),1),M(" a "),e("span",vs,f(J.value.end),1),M(" de "),e("span",xs,f(J.value.total),1),M(" resultados ")])]),e("div",null,[e("nav",_s,[e("button",{onClick:oe,disabled:v.value===1,class:d(["relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",v.value===1?"opacity-50 cursor-not-allowed":""])},[ws,r(l(Ze),{class:"h-5 w-5","aria-hidden":"true"})],10,bs),(p(!0),_(V,null,W(Se.value,s=>(p(),_(V,{key:s},[s!=="..."?(p(),_("button",{key:0,onClick:i=>Le(s),class:d(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 focus:outline-offset-0",v.value===s?"z-10 bg-secondary text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"])},f(s),11,ks)):(p(),_("span",Cs," ... "))],64))),128)),e("button",{onClick:ae,disabled:v.value===j.value,class:d(["relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",v.value===j.value?"opacity-50 cursor-not-allowed":""])},[As,r(l(Ke),{class:"h-5 w-5","aria-hidden":"true"})],10,$s)])])])])):z("",!0)])):(p(),_("div",Ps,[r(l(Ge),{class:"mx-auto h-24 w-24 text-gray-400"}),Ls,e("p",Ss,f(h.value==="archived_processes"?"No hay procesos archivados para mostrar.":"Contacta a tu abogado para gestionar tus procesos."),1)]))])])}}};export{Ds as default};
