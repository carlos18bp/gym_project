import{e as n,f as d,g as e,aa as A,r as v,P as L,H as V,c as S,o as U,T as w,d as T,j as a,ab as D,k as r,F as $,M as E,l as o,p as j,ac as F,ad as I,ae as Q,af as R,ag as B,n as k,a8 as q,t as i,i as G,x as H}from"./index.js";import{_ as O}from"./file-01.js";import{_ as J}from"./SearchBarAndFilterBy.js";import{r as K}from"./PlusIcon2.js";import"./MagnifyingGlassIcon2.js";function W(x,l){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M17 2.75a.75.75 0 0 0-1.5 0v5.5a.75.75 0 0 0 1.5 0v-5.5ZM17 15.75a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0v-1.5ZM3.75 15a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75ZM4.5 2.75a.75.75 0 0 0-1.5 0v5.5a.75.75 0 0 0 1.5 0v-5.5ZM10 11a.75.75 0 0 1 .75.75v5.5a.75.75 0 0 1-1.5 0v-5.5A.75.75 0 0 1 10 11ZM10.75 2.75a.75.75 0 0 0-1.5 0v1.5a.75.75 0 0 0 1.5 0v-1.5ZM10 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM3.75 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM16.25 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"})])}function X(x,l){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z","clip-rule":"evenodd"})])}function Y(x,l){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M9.638 1.093a.75.75 0 0 1 .724 0l2 1.104a.75.75 0 1 1-.724 1.313L10 2.607l-1.638.903a.75.75 0 1 1-.724-1.313l2-1.104ZM5.403 4.287a.75.75 0 0 1-.295 1.019l-.805.444.805.444a.75.75 0 0 1-.724 1.314L3.5 7.02v.73a.75.75 0 0 1-1.5 0v-2a.75.75 0 0 1 .388-.657l1.996-1.1a.75.75 0 0 1 1.019.294Zm9.194 0a.75.75 0 0 1 1.02-.295l1.995 1.101A.75.75 0 0 1 18 5.75v2a.75.75 0 0 1-1.5 0v-.73l-.884.488a.75.75 0 1 1-.724-1.314l.806-.444-.806-.444a.75.75 0 0 1-.295-1.02ZM7.343 8.284a.75.75 0 0 1 1.02-.294L10 8.893l1.638-.903a.75.75 0 1 1 .724 1.313l-1.612.89v1.557a.75.75 0 0 1-1.5 0v-1.557l-1.612-.89a.75.75 0 0 1-.295-1.019ZM2.75 11.5a.75.75 0 0 1 .75.75v1.557l1.608.887a.75.75 0 0 1-.724 1.314l-1.996-1.101A.75.75 0 0 1 2 14.25v-2a.75.75 0 0 1 .75-.75Zm14.5 0a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-.388.657l-1.996 1.1a.75.75 0 1 1-.724-1.313l1.608-.887V12.25a.75.75 0 0 1 .75-.75Zm-7.25 4a.75.75 0 0 1 .75.75v.73l.888-.49a.75.75 0 0 1 .724 1.313l-2 1.104a.75.75 0 0 1-.724 0l-2-1.104a.75.75 0 1 1 .724-1.313l.888.49v-.73a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}const ee=e("span",{class:"text-sm font-medium"},"Nuevo",-1),te=e("span",{class:"sr-only"},"Open options",-1),ae={class:"py-1"},se={key:0,class:"py-10 px-4 sm:px-6 lg:px-8 grid gap-3 auto-rows-auto place-items-start grid-cols-1 md:grid-cols-2 2xl:grid-cols-4"},le=["onClick"],re={class:"flex items-center gap-3"},oe=e("img",{src:O,class:"h-6 w-6"},null,-1),ie={class:"grid"},ne={class:"text-base text-primary font-medium"},de={class:"text-sm text-gray-500 font-regular"},ce={key:0},ue={class:"font-medium mt-4 space-y-1"},ve={class:"flex gap-2"},_e=e("h3",{class:"text-base text-primary"},"Autoridad:",-1),pe={class:"text-gray-500"},ge={class:"flex gap-2"},fe=e("h3",{class:"text-base text-primary"},"Dte./Accionante:",-1),me={class:"text-gray-500"},xe={class:"flex gap-2"},he=e("h3",{class:"text-base text-primary"},"Dte./Accionado:",-1),ye={class:"text-gray-500"},be={class:"flex gap-2"},we=e("h3",{class:"text-base text-primary"},"Radicado:",-1),ke={class:"text-gray-500"},Me={class:"flex gap-2"},Ze=e("h3",{class:"text-base text-primary"},"Etapa Procesal:",-1),Ce={class:"text-gray-500"},Pe={class:"relative mt-16"},Se=H('<div class="relative"><div class="flex justify-between"><div class="border-2 border-gray-500 h-4 w-0"></div><div class="border-2 border-gray-500 h-4 w-0"></div></div><div class="border-2 border-gray-500"></div><div class="flex justify-between"><div class="border-2 border-gray-500 h-4 w-0"></div><div class="border-2 border-gray-500 h-4 w-0"></div></div><div class="absolute top-1/2 left-0 right-0 z-10 transform -translate-y-1/2 flex w-full h-full px-16 justify-center items-center"><div class="size-16 bg-secondary rounded-full"></div></div></div>',1),$e={class:"relative mt-5 px-16 flex justify-center items-center text-gray-500 font-medium"},je={class:"text-sm w-16 text-center"},Be={class:"font-medium text-sm mt-8"},Ne=e("span",null,"Consultar expediente",-1),ze={key:1,class:"absolute top-1/2 left-1/2 grid justify-center items-center transform -translate-y-1/2 -translate-x-1/2 lg:-translate-x-0 text-gray-400"},Ae=e("p",{class:"text-center font-semibold pt-4 text-2xl"},[j(" No hay procesos disponibles"),e("br"),j("para mostrar. ")],-1),Le=e("p",{class:"text-center font-semibold pt-4 text-lg"},"Contacta a tu abogado para gestionar tus procesos.",-1),Fe={__name:"ProcessList",setup(x){const l=A(),g=v(""),_=v(""),f=L(),h=V(),m=v(null),y=v(!0),b=v(""),u=v("default"),N=S(()=>f.getCurrentUser),p=v([]);U(async()=>{await h.init(),g.value=l.params.user_id,_.value=l.params.display,l.query.group==="general"&&(u.value="general"),await f.init(),m.value=g.value?f.userById(g.value):f.getCurrentUser,y.value=m.value.role=="client"}),w(()=>l.params.user_id,async s=>{g.value=s,_.value=l.params.display}),w(()=>l.params.display,async s=>{g.value=l.params.user_id,_.value=s}),w(()=>l.query,s=>{s.group==="general"?u.value="general":s.group==="default"&&(u.value="default")});const M=S(()=>{if(u.value==="default")return h.filteredProcesses(b.value,y.value,m.value?m.value.id:null,_.value);if(u.value==="general")return h.filteredProcesses(b.value,y.value,null,_.value)}),z=s=>{p.value.includes(s)?p.value=p.value.filter(c=>c!==s):p.value.push(s)};return(s,c)=>{var C;const Z=T("router-link");return n(),d($,null,[a(J,{"onUpdate:searchQuery":c[2]||(c[2]=t=>b.value=t)},D({default:r(()=>[q(s.$slots,"default")]),_:2},[((C=N.value)==null?void 0:C.role)=="lawyer"?{name:"auxiliary_button",fn:r(()=>[a(Z,{to:{name:"process_form",params:{action:"create"}},class:"flex items-center gap-2 rounded-lg bg-secondary text-white px-4 py-2"},{default:r(()=>[a(o(K),{class:"size-5","aria-hidden":"true"}),ee]),_:1}),a(o(F),{as:"div",class:"relative inline-block text-left"},{default:r(()=>[e("div",null,[a(o(I),{class:"flex items-center rounded-full bg-gray-100 text-gray-400 hover:text-gray-600"},{default:r(()=>[te,a(o(W),{class:"size-5","aria-hidden":"true"})]),_:1})]),a(Q,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:r(()=>[a(o(R),{class:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:r(()=>[e("div",ae,[a(o(B),null,{default:r(({active:t})=>[e("a",{onClick:c[0]||(c[0]=P=>u.value="default"),class:k([t?"bg-gray-100 text-gray-900 outline-none":"text-gray-700","block px-4 py-2 text-sm cursor-pointer hover:bg-gray-200/80"])},"Mis procesos",2)]),_:1}),a(o(B),null,{default:r(({active:t})=>[e("a",{onClick:c[1]||(c[1]=P=>u.value="general"),class:k([t?"bg-gray-100 text-gray-900 outline-none":"text-gray-700","block px-4 py-2 text-sm cursor-pointer hover:bg-gray-200/80"])},"Todos los procesos",2)]),_:1})])]),_:1})]),_:1})]),_:1})]),key:"0"}:void 0]),1024),M.value.length?(n(),d("div",se,[(n(!0),d($,null,E(M.value,t=>(n(),d("div",{key:t.id,class:"p-5 rounded-lg border-2 border-stroke bg-terciary grid w-full"},[e("div",{class:"flex items-center justify-between gap-3 cursor-pointer",onClick:P=>z(t.id)},[e("div",re,[oe,e("div",ie,[e("h1",ne,i(t.client.first_name)+" "+i(t.client.last_name),1),e("h2",de,i(t.case.type),1)])]),a(o(X),{class:k(["h-6 w-6 cursor-pointer",p.value.includes(t.id)?"transform rotate-180":"transform rotate-0"])},null,8,["class"])],8,le),p.value.includes(t.id)?(n(),d("div",ce,[e("div",ue,[e("div",ve,[_e,e("p",pe,i(t.authority),1)]),e("div",ge,[fe,e("p",me,i(t.plaintiff),1)]),e("div",xe,[he,e("p",ye,i(t.defendant),1)]),e("div",be,[we,e("p",ke,i(t.ref),1)]),e("div",Me,[Ze,e("p",Ce,i(t.stages[t.stages.length-1].status),1)])]),e("div",null,[e("div",Pe,[Se,e("div",null,[e("div",$e,[e("p",je,i(t.stages.length>0?t.stages[t.stages.length-1].status:"Sin estado"),1)])])]),e("div",Be,[a(Z,{class:"p-2.5 text-white bg-secondary rounded-md",to:{name:"process_detail",params:{process_id:t.id,display:_.value}}},{default:r(()=>[Ne]),_:2},1032,["to"])])])])):G("",!0)]))),128))])):(n(),d("div",ze,[a(o(Y),{class:"mx-auto h-40 w-40"}),Ae,Le]))],64)}}};export{Fe as default};
