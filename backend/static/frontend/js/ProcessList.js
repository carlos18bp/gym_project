import{e as u,f as v,g as e,ab as Se,u as Te,I as je,H as ze,c as C,r as A,o as Me,T as G,d as Be,a9 as Ee,n as d,l as M,h as r,i as n,j as l,p as z,w as Ne,v as De,t as m,k as V,F as U,N as Z,ac as B,ad as E,ae as x,af as N,G as Ve,m as ne,ag as Ue,J as qe}from"./index.js";import{r as H,a as K,b as Ie}from"./FunnelIcon.js";import{r as ie}from"./PlusIcon.js";import{r as Re}from"./MagnifyingGlassIcon.js";import{r as Fe}from"./ArrowDownTrayIcon.js";import{a as ce,r as Oe}from"./EllipsisVerticalIcon.js";function We(de,q){return u(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})])}const Ze={class:"min-h-screen bg-gray-50"},He={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},Je={class:"py-6 px-4 sm:px-6 lg:px-8"},Qe={class:"border-b border-gray-200 mb-6"},Ge={class:"flex items-center justify-between"},Ke={class:"-mb-px hidden sm:flex space-x-8"},Xe={class:"sm:hidden flex-1"},Ye={class:"py-1"},et={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 mb-6"},tt={class:"mb-4"},st={class:"relative w-full"},ot={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4"},at={class:"flex items-center gap-2 min-w-0"},lt={class:"truncate"},rt={class:"py-1"},nt=["onClick"],it={class:"flex items-center gap-2 min-w-0"},ct={class:"truncate"},dt={class:"py-1"},ut=["onClick"],gt={class:"flex items-center gap-2 min-w-0"},pt={class:"truncate"},mt={class:"py-1"},ft=["onClick"],ht={class:"flex items-center justify-stretch"},yt=e("span",null,"Limpiar",-1),vt={class:"flex flex-col gap-3 pt-4 border-t border-gray-200"},xt={class:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between"},_t={class:"text-sm text-gray-500"},bt={class:"font-medium"},wt={class:"hidden sm:inline"},kt={class:"py-1"},Ct={class:"flex items-center gap-2"},$t=e("span",{class:"hidden sm:inline"},"Nuevo",-1),Pt=e("span",{class:"hidden sm:inline"},"Exportar",-1),At={class:"py-1"},Lt={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},St={class:"min-w-full divide-y divide-gray-200"},Tt={class:"bg-gray-50"},jt={scope:"col",class:"w-12 px-6 py-3"},zt=["checked"],Mt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nombre ",-1),Bt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," E-mail ",-1),Et=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipo Proceso ",-1),Nt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Dte./Accionante ",-1),Dt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ddo./Accionado ",-1),Vt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Etapa ",-1),Ut=e("th",{scope:"col",class:"w-16 px-6 py-3"},null,-1),qt={class:"bg-white divide-y divide-gray-200"},It=["onClick"],Rt=["checked","onChange"],Ft={class:"px-6 py-4 whitespace-nowrap"},Ot={class:"flex items-center"},Wt={class:"h-10 w-10 flex-shrink-0"},Zt=["src","alt"],Ht={class:"ml-4"},Jt={class:"text-sm font-medium text-gray-900"},Qt={class:"px-6 py-4 whitespace-nowrap"},Gt={class:"text-sm text-gray-900"},Kt={class:"px-6 py-4 whitespace-nowrap"},Xt={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},Yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},es={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ts={class:"px-6 py-4 whitespace-nowrap"},ss={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},os={class:"py-1"},as={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},ls={class:"flex flex-1 justify-between sm:hidden"},rs=["disabled"],ns=["disabled"],is={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},cs={class:"text-sm text-gray-700"},ds={class:"font-medium"},us={class:"font-medium"},gs={class:"font-medium"},ps={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},ms=["disabled"],fs=e("span",{class:"sr-only"},"Anterior",-1),hs=["onClick"],ys={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700"},vs=["disabled"],xs=e("span",{class:"sr-only"},"Siguiente",-1),_s={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},bs=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No hay procesos disponibles",-1),ws={class:"mt-2 text-sm text-gray-500"},Ss={__name:"ProcessList",setup(de){const q=Se(),X=Te(),Y=je(),D=ze(),ue=qe,w=C(()=>Y.getCurrentUser),f=A("my_processes"),I=A(""),L=A(null),S=A(null),T=A(null),R=A("recent"),$=A([]),h=A(1),F=A(10);Me(async()=>{await D.init(),await Y.init(),q.params.display==="history"?f.value="archived_processes":q.query.group==="general"?f.value="all_processes":f.value="my_processes"}),G(()=>q.params.display,o=>{o==="history"&&(f.value="archived_processes")}),G(()=>q.query.group,o=>{o==="general"?f.value="all_processes":o==="default"&&(f.value="my_processes")});const ge=C(()=>{const o=new Set;return D.processes.forEach(t=>{var a;(a=t.case)!=null&&a.type&&o.add(t.case.type)}),Array.from(o).sort()}),pe=C(()=>{const o=new Set;return D.processes.forEach(t=>{t.authority&&o.add(t.authority)}),Array.from(o).sort()}),me=C(()=>{const o=new Set;return D.processes.forEach(t=>{t.stages&&t.stages.length>0&&t.stages.forEach(a=>{a.status&&o.add(a.status)})}),Array.from(o).sort()}),fe=C(()=>{var c,_,y,b,s,i;let o=[];const t=((c=w.value)==null?void 0:c.role)==="client"||((_=w.value)==null?void 0:_.role)==="basic"||((y=w.value)==null?void 0:y.role)==="corporate_client",a=(b=w.value)==null?void 0:b.id;return f.value==="archived_processes"?(o=D.processesWithClosedStatus,t?o=o.filter(g=>{var p;return((p=g.client)==null?void 0:p.id)===a}):((s=w.value)==null?void 0:s.role)==="lawyer"&&(o=o.filter(g=>{var p;return((p=g.lawyer)==null?void 0:p.id)===a}))):(o=D.processesWithoutClosedStatus,f.value==="my_processes"&&(t?o=o.filter(g=>{var p;return((p=g.client)==null?void 0:p.id)===a}):((i=w.value)==null?void 0:i.role)==="lawyer"&&(o=o.filter(g=>{var p;return((p=g.lawyer)==null?void 0:p.id)===a})))),o}),k=C(()=>{let o=[...fe.value];if(I.value){const t=I.value.toLowerCase();o=o.filter(a=>{var c,_,y,b,s,i,g,p,P,O,W,oe,ae,le;return((_=(c=a.client)==null?void 0:c.first_name)==null?void 0:_.toLowerCase().includes(t))||((b=(y=a.client)==null?void 0:y.last_name)==null?void 0:b.toLowerCase().includes(t))||((i=(s=a.client)==null?void 0:s.email)==null?void 0:i.toLowerCase().includes(t))||((p=(g=a.case)==null?void 0:g.type)==null?void 0:p.toLowerCase().includes(t))||((P=a.subcase)==null?void 0:P.toLowerCase().includes(t))||((O=a.ref)==null?void 0:O.toLowerCase().includes(t))||((W=a.plaintiff)==null?void 0:W.toLowerCase().includes(t))||((oe=a.defendant)==null?void 0:oe.toLowerCase().includes(t))||((ae=a.authority)==null?void 0:ae.toLowerCase().includes(t))||((le=a.stages)==null?void 0:le.some(Le=>{var re;return(re=Le.status)==null?void 0:re.toLowerCase().includes(t)}))})}return L.value&&(o=o.filter(t=>{var a;return((a=t.case)==null?void 0:a.type)===L.value})),S.value&&(o=o.filter(t=>t.authority===S.value)),T.value&&(o=o.filter(t=>{var c;const a=(c=t.stages)==null?void 0:c[t.stages.length-1];return(a==null?void 0:a.status)===T.value})),R.value==="name"?o.sort((t,a)=>{var y,b,s,i;const c=`${((y=t.client)==null?void 0:y.first_name)||""} ${((b=t.client)==null?void 0:b.last_name)||""}`.toLowerCase(),_=`${((s=a.client)==null?void 0:s.first_name)||""} ${((i=a.client)==null?void 0:i.last_name)||""}`.toLowerCase();return c.localeCompare(_)}):R.value==="recent"&&o.sort((t,a)=>{const c=t.created_at?new Date(t.created_at).getTime():0;return(a.created_at?new Date(a.created_at).getTime():0)-c}),o}),J=C(()=>{const o=(h.value-1)*F.value,t=o+F.value;return k.value.slice(o,t)}),j=C(()=>Math.ceil(k.value.length/F.value)),Q=C(()=>{const o=(h.value-1)*F.value+1,t=Math.min(h.value*F.value,k.value.length);return{start:o,end:t,total:k.value.length}});G([I,L,S,T,f],()=>{h.value=1});const he=C(()=>{switch(R.value){case"name":return"Nombre (A-Z)";case"recent":default:return"Más recientes"}}),ye=()=>{L.value=null,S.value=null,T.value=null},ee=C(()=>k.value.length>0&&$.value.length===k.value.length),ve=()=>{ee.value?$.value=[]:$.value=k.value.map(o=>o.id)},xe=o=>{const t=$.value.indexOf(o);t>-1?$.value.splice(t,1):$.value.push(o)},_e=()=>{$.value=k.value.map(o=>o.id)},be=()=>{$.value=[]},we=()=>{switch(f.value){case"my_processes":return"Mis Procesos";case"all_processes":return"Todos los Procesos";case"archived_processes":return"Procesos Archivados";default:return"Mis Procesos"}},ke=o=>{X.push({name:"process_detail",params:{process_id:o}})},Ce=()=>{X.push("/legal_request_create")},te=()=>{h.value>1&&h.value--},se=()=>{h.value<j.value&&h.value++},$e=o=>{o>=1&&o<=j.value&&(h.value=o)},Pe=C(()=>{const o=j.value,t=h.value,a=[];if(o<=7)for(let c=1;c<=o;c++)a.push(c);else if(t<=4){for(let c=1;c<=5;c++)a.push(c);a.push("..."),a.push(o)}else if(t>=o-3){a.push(1),a.push("...");for(let c=o-4;c<=o;c++)a.push(c)}else a.push(1),a.push("..."),a.push(t-1),a.push(t),a.push(t+1),a.push("..."),a.push(o);return a}),Ae=()=>{const o=$.value.length>0?k.value.filter(s=>$.value.includes(s.id)):k.value,t=["Nombre","Email","Tipo Proceso","Dte./Accionante","Ddo./Accionado","Etapa"],a=o.map(s=>{var i,g,p,P,O,W;return[`${((i=s.client)==null?void 0:i.first_name)||""} ${((g=s.client)==null?void 0:g.last_name)||""}`,((p=s.client)==null?void 0:p.email)||"",((P=s.case)==null?void 0:P.type)||"",s.plaintiff||"-",s.defendant||"-",((W=(O=s.stages)==null?void 0:O[s.stages.length-1])==null?void 0:W.status)||"Sin estado"]}),c=[t.join(","),...a.map(s=>s.map(i=>`"${i}"`).join(","))].join(`
`),_=new Blob([c],{type:"text/csv;charset=utf-8;"}),y=document.createElement("a"),b=URL.createObjectURL(_);y.setAttribute("href",b),y.setAttribute("download",`procesos_${new Date().toISOString().split("T")[0]}.csv`),y.style.visibility="hidden",document.body.appendChild(y),y.click(),document.body.removeChild(y)};return(o,t)=>{var c,_,y,b;const a=Be("router-link");return u(),v("div",Ze,[e("div",He,[Ee(o.$slots,"default")]),e("div",Je,[e("div",Qe,[e("div",Ge,[e("nav",Ke,[e("button",{onClick:t[0]||(t[0]=s=>f.value="my_processes"),class:d([f.value==="my_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Mis Procesos ",2),((c=w.value)==null?void 0:c.role)==="lawyer"?(u(),v("button",{key:0,onClick:t[1]||(t[1]=s=>f.value="all_processes"),class:d([f.value==="all_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Todos los Procesos ",2)):M("",!0),e("button",{onClick:t[2]||(t[2]=s=>f.value="archived_processes"),class:d([f.value==="archived_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Procesos Archivados ",2)]),e("div",Xe,[r(l(N),{as:"div",class:"relative"},{default:n(()=>[r(l(B),{class:"w-full inline-flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("span",null,m(we()),1),r(l(H),{class:"h-5 w-5 ml-2"})]),_:1}),r(l(E),{class:"absolute left-0 z-10 mt-2 w-full origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>{var s;return[e("div",Ye,[r(l(x),null,{default:n(({active:i})=>[e("button",{onClick:t[3]||(t[3]=g=>f.value="my_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Mis Procesos ",2)]),_:1}),((s=w.value)==null?void 0:s.role)==="lawyer"?(u(),V(l(x),{key:0},{default:n(({active:i})=>[e("button",{onClick:t[4]||(t[4]=g=>f.value="all_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Todos los Procesos ",2)]),_:1})):M("",!0),r(l(x),null,{default:n(({active:i})=>[e("button",{onClick:t[5]||(t[5]=g=>f.value="archived_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Procesos Archivados ",2)]),_:1})])]}),_:1})]),_:1})]),((_=w.value)==null?void 0:_.role)==="client"||((y=w.value)==null?void 0:y.role)==="corporate_client"?(u(),v("button",{key:0,onClick:Ce,class:"inline-flex items-center gap-2 px-4 py-2 mb-4 rounded-lg border border-secondary bg-secondary text-sm font-medium text-white hover:bg-blue-700 transition-all duration-200"},[r(l(ie),{class:"h-5 w-5"}),z(" Solicitar Información ")])):M("",!0)])]),e("div",et,[e("div",tt,[e("div",st,[r(l(Re),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),Ne(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>I.value=s),type:"text",placeholder:"Buscar procesos...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-secondary focus:border-transparent text-sm"},null,512),[[De,I.value]])])]),e("div",ot,[r(l(N),{as:"div",class:"relative"},{default:n(()=>[r(l(B),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",at,[r(l(K),{class:"h-4 w-4 flex-shrink-0"}),e("span",lt,m(L.value||"Tipo"),1)]),r(l(H),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(E),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",rt,[r(l(x),null,{default:n(({active:s})=>[e("a",{onClick:t[7]||(t[7]=i=>L.value=null),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(u(!0),v(U,null,Z(ge.value,s=>(u(),V(l(x),{key:s},{default:n(({active:i})=>[e("a",{onClick:g=>L.value=s,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},m(s),11,nt)]),_:2},1024))),128))])]),_:1})]),_:1}),r(l(N),{as:"div",class:"relative"},{default:n(()=>[r(l(B),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",it,[r(l(K),{class:"h-4 w-4 flex-shrink-0"}),e("span",ct,m(S.value||"Autoridad"),1)]),r(l(H),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(E),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",dt,[r(l(x),null,{default:n(({active:s})=>[e("a",{onClick:t[8]||(t[8]=i=>S.value=null),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(u(!0),v(U,null,Z(pe.value,s=>(u(),V(l(x),{key:s},{default:n(({active:i})=>[e("a",{onClick:g=>S.value=s,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},m(s),11,ut)]),_:2},1024))),128))])]),_:1})]),_:1}),r(l(N),{as:"div",class:"relative"},{default:n(()=>[r(l(B),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",gt,[r(l(K),{class:"h-4 w-4 flex-shrink-0"}),e("span",pt,m(T.value||"Etapa"),1)]),r(l(H),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(E),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",mt,[r(l(x),null,{default:n(({active:s})=>[e("a",{onClick:t[9]||(t[9]=i=>T.value=null),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(u(!0),v(U,null,Z(me.value,s=>(u(),V(l(x),{key:s},{default:n(({active:i})=>[e("a",{onClick:g=>T.value=s,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},m(s),11,ft)]),_:2},1024))),128))])]),_:1})]),_:1}),e("div",ht,[L.value||S.value||T.value?(u(),v("button",{key:0,onClick:ye,class:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",title:"Limpiar filtros"},[r(l(Ve),{class:"h-4 w-4 flex-shrink-0"}),yt])):M("",!0)])]),e("div",vt,[e("div",xt,[e("div",_t,[e("span",bt,m(k.value.length),1),z(" resultados encontrados ")]),r(l(N),{as:"div",class:"relative"},{default:n(()=>[r(l(B),{class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[r(l(We),{class:"h-4 w-4"}),e("span",wt,m(he.value),1),r(l(H),{class:"h-4 w-4"})]),_:1}),r(l(E),{class:"absolute left-0 sm:left-auto sm:right-0 z-10 mt-2 w-48 origin-top-left sm:origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",kt,[r(l(x),null,{default:n(({active:s})=>[e("a",{onClick:t[10]||(t[10]=i=>R.value="recent"),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Más recientes ",2)]),_:1}),r(l(x),null,{default:n(({active:s})=>[e("a",{onClick:t[11]||(t[11]=i=>R.value="name"),class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Nombre (A-Z) ",2)]),_:1})])]),_:1})]),_:1})]),e("div",Ct,[((b=w.value)==null?void 0:b.role)==="lawyer"?(u(),V(a,{key:0,to:{name:"process_form",params:{action:"create"}},class:"inline-flex items-center gap-2 px-3 py-2 bg-secondary text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium whitespace-nowrap"},{default:n(()=>[r(l(ie),{class:"h-4 w-4"}),$t]),_:1})):M("",!0),e("button",{onClick:Ae,class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},[r(l(Fe),{class:"h-4 w-4"}),Pt]),r(l(N),{as:"div",class:"relative"},{default:n(()=>[r(l(B),{class:"inline-flex items-center justify-center w-10 h-10 rounded-md hover:bg-gray-100"},{default:n(()=>[r(l(ce),{class:"h-5 w-5 text-gray-500"})]),_:1}),r(l(E),{class:"absolute left-0 sm:left-auto sm:right-0 z-10 mt-2 w-48 origin-top-left sm:origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",At,[r(l(x),null,{default:n(({active:s})=>[e("a",{onClick:_e,class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Seleccionar todo ",2)]),_:1}),r(l(x),null,{default:n(({active:s})=>[e("a",{onClick:be,class:d([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Deseleccionar todo ",2)]),_:1})])]),_:1})]),_:1})])])]),k.value.length?(u(),v("div",Lt,[e("div",{class:d(["overflow-x-auto",J.value.length<=3?"pl-52":""])},[e("table",St,[e("thead",Tt,[e("tr",null,[e("th",jt,[e("input",{type:"checkbox",checked:ee.value,onChange:ve,class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,zt)]),Mt,Bt,Et,Nt,Dt,Vt,Ut])]),e("tbody",qt,[(u(!0),v(U,null,Z(J.value,(s,i)=>{var g;return u(),v("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:p=>ke(s.id)},[e("td",{class:"px-6 py-4 whitespace-nowrap",onClick:t[12]||(t[12]=ne(()=>{},["stop"]))},[e("input",{type:"checkbox",checked:$.value.includes(s.id),onChange:p=>xe(s.id),class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,Rt)]),e("td",Ft,[e("div",Ot,[e("div",Wt,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:s.client.photo_profile||l(ue),alt:s.client.first_name},null,8,Zt)]),e("div",Ht,[e("div",Jt,m(s.client.first_name)+" "+m(s.client.last_name),1)])])]),e("td",Qt,[e("div",Gt,m(s.client.email),1)]),e("td",Kt,[e("span",Xt,m(s.case.type),1)]),e("td",Yt,m(s.plaintiff||"-"),1),e("td",es,m(s.defendant||"-"),1),e("td",ts,[e("span",ss,m(((g=s.stages[s.stages.length-1])==null?void 0:g.status)||"Sin estado"),1)]),e("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:t[13]||(t[13]=ne(()=>{},["stop"]))},[r(l(N),{as:"div",class:"relative inline-block text-left"},{default:n(()=>[r(l(B),{class:"inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100"},{default:n(()=>[r(l(ce),{class:"h-5 w-5 text-gray-500"})]),_:1}),r(l(E),{class:d([J.value.length<=3?"absolute right-full mr-2 top-0 z-10 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none":i>=J.value.length-3?"absolute right-0 z-10 bottom-full mb-2 w-48 origin-bottom-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none":"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"])},{default:n(()=>{var p;return[e("div",os,[r(l(x),null,{default:n(({active:P})=>[r(a,{to:{name:"process_detail",params:{process_id:s.id}},class:d([P?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[z(" Ver detalles ")]),_:2},1032,["to","class"])]),_:2},1024),((p=w.value)==null?void 0:p.role)==="lawyer"?(u(),V(l(x),{key:0},{default:n(({active:P})=>[r(a,{to:{name:"process_form",params:{action:"edit",process_id:s.id}},class:d([P?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[z(" Editar ")]),_:2},1032,["to","class"])]),_:2},1024)):M("",!0)])]}),_:2},1032,["class"])]),_:2},1024)])],8,It)}),128))])])],2),j.value>1?(u(),v("div",as,[e("div",ls,[e("button",{onClick:te,disabled:h.value===1,class:d(["relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",h.value===1?"opacity-50 cursor-not-allowed":""])}," Anterior ",10,rs),e("button",{onClick:se,disabled:h.value===j.value,class:d(["relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",h.value===j.value?"opacity-50 cursor-not-allowed":""])}," Siguiente ",10,ns)]),e("div",is,[e("div",null,[e("p",cs,[z(" Mostrando "),e("span",ds,m(Q.value.start),1),z(" a "),e("span",us,m(Q.value.end),1),z(" de "),e("span",gs,m(Q.value.total),1),z(" resultados ")])]),e("div",null,[e("nav",ps,[e("button",{onClick:te,disabled:h.value===1,class:d(["relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",h.value===1?"opacity-50 cursor-not-allowed":""])},[fs,r(l(Ue),{class:"h-5 w-5","aria-hidden":"true"})],10,ms),(u(!0),v(U,null,Z(Pe.value,s=>(u(),v(U,{key:s},[s!=="..."?(u(),v("button",{key:0,onClick:i=>$e(s),class:d(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 focus:outline-offset-0",h.value===s?"z-10 bg-secondary text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"])},m(s),11,hs)):(u(),v("span",ys," ... "))],64))),128)),e("button",{onClick:se,disabled:h.value===j.value,class:d(["relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",h.value===j.value?"opacity-50 cursor-not-allowed":""])},[xs,r(l(Oe),{class:"h-5 w-5","aria-hidden":"true"})],10,vs)])])])])):M("",!0)])):(u(),v("div",_s,[r(l(Ie),{class:"mx-auto h-24 w-24 text-gray-400"}),bs,e("p",ws,m(f.value==="archived_processes"?"No hay procesos archivados para mostrar.":"Contacta a tu abogado para gestionar tus procesos."),1)]))])])}}};export{Ss as default};
