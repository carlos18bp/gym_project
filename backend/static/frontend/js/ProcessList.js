import{ab as ze,u as Ee,I as Ne,H as De,c as $,r as A,o as Re,T as Q,d as Ie,e as g,f as _,g as e,a9 as Ue,n as d,l as z,h as r,i as n,j as l,p as M,w as Ve,v as qe,t as f,k as I,ac as Fe,F as U,N as O,ad as E,ae as N,af as b,ag as D,G as He,ah as Oe,m as ce,ai as We,J as Ze}from"./index.js";import{r as W}from"./ChevronDownIcon.js";import{r as de}from"./PlusIcon.js";import{r as Je}from"./MagnifyingGlassIcon.js";import{r as G,a as Qe}from"./FunnelIcon.js";import{r as ue}from"./EllipsisVerticalIcon.js";import{r as Ge}from"./ChevronRightIcon.js";import{r as Ke}from"./CubeTransparentIcon.js";const Xe={class:"min-h-screen bg-gray-50"},Ye={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},et={class:"py-6 px-4 sm:px-6 lg:px-8"},tt={class:"border-b border-gray-200 mb-6"},st={class:"flex items-center justify-between"},ot={class:"-mb-px hidden sm:flex space-x-8"},at={class:"sm:hidden flex-1"},lt={class:"py-1"},rt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 mb-6"},nt={class:"mb-4"},it={class:"relative w-full"},ct={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4"},dt={class:"flex items-center gap-2 min-w-0"},ut={class:"truncate"},pt={class:"py-1"},gt=["onClick"],mt={class:"flex items-center gap-2 min-w-0"},ft={class:"truncate"},ht={class:"py-1"},yt=["onClick"],vt={class:"flex items-center gap-2 min-w-0"},xt={class:"truncate"},_t={class:"py-1"},bt=["onClick"],wt={class:"flex items-center justify-stretch"},kt=e("span",null,"Limpiar",-1),Ct={class:"flex flex-col gap-3 pt-4 border-t border-gray-200"},$t={class:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between"},At={class:"text-sm text-gray-500"},Pt={class:"font-medium"},St={class:"hidden sm:inline"},Tt={class:"py-1"},Lt={class:"flex items-center gap-2"},Bt=e("span",{class:"hidden sm:inline"},"Nuevo",-1),jt=e("span",{class:"hidden sm:inline"},"Exportar",-1),Mt={class:"py-1"},zt={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Et={class:"min-w-full divide-y divide-gray-200"},Nt={class:"bg-gray-50"},Dt={scope:"col",class:"w-12 px-6 py-3"},Rt=["checked"],It=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nombre ",-1),Ut=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," E-mail ",-1),Vt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipo Proceso ",-1),qt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Dte./Accionante ",-1),Ft=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ddo./Accionado ",-1),Ht=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Etapa ",-1),Ot=e("th",{scope:"col",class:"w-16 px-6 py-3"},null,-1),Wt={class:"bg-white divide-y divide-gray-200"},Zt=["onClick"],Jt=["checked","onChange"],Qt={class:"px-6 py-4 whitespace-nowrap"},Gt={class:"flex items-center"},Kt={class:"h-10 w-10 flex-shrink-0"},Xt=["src","alt"],Yt={class:"ml-4"},es={class:"text-sm font-medium text-gray-900"},ts={class:"px-6 py-4 whitespace-nowrap"},ss={class:"text-sm text-gray-900"},os={class:"px-6 py-4 whitespace-nowrap"},as={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},ls={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ns={class:"px-6 py-4 whitespace-nowrap"},is={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},cs={class:"py-1"},ds={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},us={class:"flex flex-1 justify-between sm:hidden"},ps=["disabled"],gs=["disabled"],ms={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},fs={class:"text-sm text-gray-700"},hs={class:"font-medium"},ys={class:"font-medium"},vs={class:"font-medium"},xs={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},_s=["disabled"],bs=e("span",{class:"sr-only"},"Anterior",-1),ws=["onClick"],ks={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700"},Cs=["disabled"],$s=e("span",{class:"sr-only"},"Siguiente",-1),As={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},Ps=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No hay procesos disponibles",-1),Ss={class:"mt-2 text-sm text-gray-500"},Rs={__name:"ProcessList",setup(Ts){const Z=ze(),K=Ee(),X=Ne(),R=De(),pe=Ze,k=$(()=>X.getCurrentUser),h=A("my_processes"),V=A(""),T=A(null),L=A(null),B=A(null),q=A("recent"),P=A([]),v=A(1),F=A(10),ge=A({}),Y=A({}),ee=A(!1);Re(async()=>{try{await Promise.all([R.init(),X.init()])}catch(s){console.error("Error initializing process list:",s)}Z.params.display==="history"?h.value="archived_processes":Z.query.group==="general"?h.value="all_processes":h.value="my_processes"}),Q(()=>Z.params.display,s=>{s==="history"&&(h.value="archived_processes")}),Q(()=>Z.query.group,s=>{s==="general"?h.value="all_processes":s==="default"&&(h.value="my_processes")});const me=$(()=>{const s=new Set;return R.processes.forEach(t=>{var a;(a=t.case)!=null&&a.type&&s.add(t.case.type)}),Array.from(s).sort()}),fe=$(()=>{const s=new Set;return R.processes.forEach(t=>{t.authority&&s.add(t.authority)}),Array.from(s).sort()}),he=$(()=>{const s=new Set;return R.processes.forEach(t=>{t.stages&&t.stages.length>0&&t.stages.forEach(a=>{a.status&&s.add(a.status)})}),Array.from(s).sort()}),ye=$(()=>{var c,y,u,x,o,i;let s=[];const t=((c=k.value)==null?void 0:c.role)==="client"||((y=k.value)==null?void 0:y.role)==="basic"||((u=k.value)==null?void 0:u.role)==="corporate_client",a=(x=k.value)==null?void 0:x.id;return h.value==="archived_processes"?(s=R.processesWithClosedStatus,t?s=s.filter(p=>{var m;return((m=p.client)==null?void 0:m.id)===a}):((o=k.value)==null?void 0:o.role)==="lawyer"&&(s=s.filter(p=>{var m;return((m=p.lawyer)==null?void 0:m.id)===a}))):(s=R.processesWithoutClosedStatus,h.value==="my_processes"&&(t?s=s.filter(p=>{var m;return((m=p.client)==null?void 0:m.id)===a}):((i=k.value)==null?void 0:i.role)==="lawyer"&&(s=s.filter(p=>{var m;return((m=p.lawyer)==null?void 0:m.id)===a})))),s}),C=$(()=>{let s=[...ye.value];if(V.value){const t=V.value.toLowerCase();s=s.filter(a=>{var c,y,u,x,o,i,p,m,w,S,H,le,re,ne;return((y=(c=a.client)==null?void 0:c.first_name)==null?void 0:y.toLowerCase().includes(t))||((x=(u=a.client)==null?void 0:u.last_name)==null?void 0:x.toLowerCase().includes(t))||((i=(o=a.client)==null?void 0:o.email)==null?void 0:i.toLowerCase().includes(t))||((m=(p=a.case)==null?void 0:p.type)==null?void 0:m.toLowerCase().includes(t))||((w=a.subcase)==null?void 0:w.toLowerCase().includes(t))||((S=a.ref)==null?void 0:S.toLowerCase().includes(t))||((H=a.plaintiff)==null?void 0:H.toLowerCase().includes(t))||((le=a.defendant)==null?void 0:le.toLowerCase().includes(t))||((re=a.authority)==null?void 0:re.toLowerCase().includes(t))||((ne=a.stages)==null?void 0:ne.some(Me=>{var ie;return(ie=Me.status)==null?void 0:ie.toLowerCase().includes(t)}))})}return T.value&&(s=s.filter(t=>{var a;return((a=t.case)==null?void 0:a.type)===T.value})),L.value&&(s=s.filter(t=>t.authority===L.value)),B.value&&(s=s.filter(t=>{var c;const a=(c=t.stages)==null?void 0:c[t.stages.length-1];return(a==null?void 0:a.status)===B.value})),q.value==="name"?s.sort((t,a)=>{var u,x,o,i;const c=`${((u=t.client)==null?void 0:u.first_name)||""} ${((x=t.client)==null?void 0:x.last_name)||""}`.toLowerCase(),y=`${((o=a.client)==null?void 0:o.first_name)||""} ${((i=a.client)==null?void 0:i.last_name)||""}`.toLowerCase();return c.localeCompare(y)}):q.value==="recent"&&s.sort((t,a)=>{const c=t.created_at?new Date(t.created_at).getTime():0;return(a.created_at?new Date(a.created_at).getTime():0)-c}),s}),te=$(()=>{const s=(v.value-1)*F.value,t=s+F.value;return C.value.slice(s,t)}),j=$(()=>Math.ceil(C.value.length/F.value)),J=$(()=>{const s=(v.value-1)*F.value+1,t=Math.min(v.value*F.value,C.value.length);return{start:s,end:t,total:C.value.length}});Q([V,T,L,B,h],()=>{v.value=1});const ve=$(()=>{switch(q.value){case"name":return"Nombre (A-Z)";case"recent":default:return"Más recientes"}}),xe=()=>{T.value=null,L.value=null,B.value=null},se=$(()=>C.value.length>0&&P.value.length===C.value.length),_e=()=>{se.value?P.value=[]:P.value=C.value.map(s=>s.id)},be=s=>{const t=P.value.indexOf(s);t>-1?P.value.splice(t,1):P.value.push(s)},we=()=>{P.value=C.value.map(s=>s.id)},ke=()=>{P.value=[]},Ce=()=>{switch(h.value){case"my_processes":return"Mis Procesos";case"all_processes":return"Todos los Procesos";case"archived_processes":return"Procesos Archivados";default:return"Mis Procesos"}},$e=s=>{K.push({name:"process_detail",params:{process_id:s}})},Ae=()=>{K.push("/legal_request_create")},oe=()=>{v.value>1&&v.value--},ae=()=>{v.value<j.value&&v.value++},Pe=s=>{s>=1&&s<=j.value&&(v.value=s)},Se=$(()=>{const s=j.value,t=v.value,a=[];if(s<=7)for(let c=1;c<=s;c++)a.push(c);else if(t<=4){for(let c=1;c<=5;c++)a.push(c);a.push("..."),a.push(s)}else if(t>=s-3){a.push(1),a.push("...");for(let c=s-4;c<=s;c++)a.push(c)}else a.push(1),a.push("..."),a.push(t-1),a.push(t),a.push(t+1),a.push("..."),a.push(s);return a}),Te=(s,t)=>{s&&(ge.value[t]=s)},Le=(s,t)=>{s&&(Y.value[t]=s)},Be=(s,t)=>{ee.value=!t,t||setTimeout(()=>{const a=Y.value[s];if(a){const c=a.$el||a;if(c&&c.getBoundingClientRect){const y=c.getBoundingClientRect(),u=window.innerHeight;if(s===0){if(y.bottom>u-20){const x=y.bottom-u+40;window.scrollBy({top:x,behavior:"smooth"})}}else if(y.bottom>u-10){const x=y.bottom-u+30;window.scrollBy({top:x,behavior:"smooth"})}else if(y.top<80){const x=y.top-100;window.scrollBy({top:x,behavior:"smooth"})}}}},100)},je=()=>{const s=P.value.length>0?C.value.filter(o=>P.value.includes(o.id)):C.value,t=["Nombre","Email","Tipo Proceso","Dte./Accionante","Ddo./Accionado","Etapa"],a=s.map(o=>{var i,p,m,w,S,H;return[`${((i=o.client)==null?void 0:i.first_name)||""} ${((p=o.client)==null?void 0:p.last_name)||""}`,((m=o.client)==null?void 0:m.email)||"",((w=o.case)==null?void 0:w.type)||"",o.plaintiff||"-",o.defendant||"-",((H=(S=o.stages)==null?void 0:S[o.stages.length-1])==null?void 0:H.status)||"Sin estado"]}),c=[t.join(","),...a.map(o=>o.map(i=>`"${i}"`).join(","))].join(`
`),y=new Blob([c],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),x=URL.createObjectURL(y);u.setAttribute("href",x),u.setAttribute("download",`procesos_${new Date().toISOString().split("T")[0]}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)};return(s,t)=>{var c,y,u,x;const a=Ie("router-link");return g(),_("div",Xe,[e("div",Ye,[Ue(s.$slots,"default")]),e("div",et,[e("div",tt,[e("div",st,[e("nav",ot,[e("button",{onClick:t[0]||(t[0]=o=>h.value="my_processes"),class:d([h.value==="my_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Mis Procesos ",2),((c=k.value)==null?void 0:c.role)==="lawyer"?(g(),_("button",{key:0,onClick:t[1]||(t[1]=o=>h.value="all_processes"),class:d([h.value==="all_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Todos los Procesos ",2)):z("",!0),e("button",{onClick:t[2]||(t[2]=o=>h.value="archived_processes"),class:d([h.value==="archived_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Procesos Archivados ",2)]),e("div",at,[r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("span",null,f(Ce()),1),r(l(W),{class:"h-5 w-5 ml-2"})]),_:1}),r(l(N),{class:"absolute left-0 z-10 mt-2 w-full origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>{var o;return[e("div",lt,[r(l(b),null,{default:n(({active:i})=>[e("button",{onClick:t[3]||(t[3]=p=>h.value="my_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Mis Procesos ",2)]),_:1}),((o=k.value)==null?void 0:o.role)==="lawyer"?(g(),I(l(b),{key:0},{default:n(({active:i})=>[e("button",{onClick:t[4]||(t[4]=p=>h.value="all_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Todos los Procesos ",2)]),_:1})):z("",!0),r(l(b),null,{default:n(({active:i})=>[e("button",{onClick:t[5]||(t[5]=p=>h.value="archived_processes"),class:d([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Procesos Archivados ",2)]),_:1})])]}),_:1})]),_:1})]),((y=k.value)==null?void 0:y.role)==="client"||((u=k.value)==null?void 0:u.role)==="corporate_client"?(g(),_("button",{key:0,onClick:Ae,class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-secondary bg-secondary text-sm font-medium text-white hover:bg-blue-700 transition-all duration-200 ml-3 sm:ml-4"},[r(l(de),{class:"h-5 w-5"}),M(" Solicitar Información ")])):z("",!0)])]),e("div",rt,[e("div",nt,[e("div",it,[r(l(Je),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),Ve(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>V.value=o),type:"text",placeholder:"Buscar procesos...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-secondary focus:border-transparent text-sm"},null,512),[[qe,V.value]])])]),e("div",ct,[r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",dt,[r(l(G),{class:"h-4 w-4 flex-shrink-0"}),e("span",ut,f(T.value||"Tipo"),1)]),r(l(W),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(N),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",pt,[r(l(b),null,{default:n(({active:o})=>[e("a",{onClick:t[7]||(t[7]=i=>T.value=null),class:d([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(g(!0),_(U,null,O(me.value,o=>(g(),I(l(b),{key:o},{default:n(({active:i})=>[e("a",{onClick:p=>T.value=o,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(o),11,gt)]),_:2},1024))),128))])]),_:1})]),_:1}),r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",mt,[r(l(G),{class:"h-4 w-4 flex-shrink-0"}),e("span",ft,f(L.value||"Autoridad"),1)]),r(l(W),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(N),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",ht,[r(l(b),null,{default:n(({active:o})=>[e("a",{onClick:t[8]||(t[8]=i=>L.value=null),class:d([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(g(!0),_(U,null,O(fe.value,o=>(g(),I(l(b),{key:o},{default:n(({active:i})=>[e("a",{onClick:p=>L.value=o,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(o),11,yt)]),_:2},1024))),128))])]),_:1})]),_:1}),r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",vt,[r(l(G),{class:"h-4 w-4 flex-shrink-0"}),e("span",xt,f(B.value||"Etapa"),1)]),r(l(W),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(N),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",_t,[r(l(b),null,{default:n(({active:o})=>[e("a",{onClick:t[9]||(t[9]=i=>B.value=null),class:d([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(g(!0),_(U,null,O(he.value,o=>(g(),I(l(b),{key:o},{default:n(({active:i})=>[e("a",{onClick:p=>B.value=o,class:d([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(o),11,bt)]),_:2},1024))),128))])]),_:1})]),_:1}),e("div",wt,[T.value||L.value||B.value?(g(),_("button",{key:0,onClick:xe,class:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",title:"Limpiar filtros"},[r(l(He),{class:"h-4 w-4 flex-shrink-0"}),kt])):z("",!0)])]),e("div",Ct,[e("div",$t,[e("div",At,[e("span",Pt,f(C.value.length),1),M(" resultados encontrados ")]),r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[r(l(Qe),{class:"h-4 w-4"}),e("span",St,f(ve.value),1),r(l(W),{class:"h-4 w-4"})]),_:1}),r(l(N),{class:"absolute left-0 sm:left-auto sm:right-0 z-10 mt-2 w-48 origin-top-left sm:origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",Tt,[r(l(b),null,{default:n(({active:o})=>[e("a",{onClick:t[10]||(t[10]=i=>q.value="recent"),class:d([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Más recientes ",2)]),_:1}),r(l(b),null,{default:n(({active:o})=>[e("a",{onClick:t[11]||(t[11]=i=>q.value="name"),class:d([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Nombre (A-Z) ",2)]),_:1})])]),_:1})]),_:1})]),e("div",Lt,[((x=k.value)==null?void 0:x.role)==="lawyer"?(g(),I(a,{key:0,to:{name:"process_form",params:{action:"create"}},class:"inline-flex items-center gap-2 px-3 py-2 bg-secondary text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium whitespace-nowrap"},{default:n(()=>[r(l(de),{class:"h-4 w-4"}),Bt]),_:1})):z("",!0),e("button",{onClick:je,class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},[r(l(Oe),{class:"h-4 w-4"}),jt]),r(l(D),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"inline-flex items-center justify-center w-10 h-10 rounded-md hover:bg-gray-100"},{default:n(()=>[r(l(ue),{class:"h-5 w-5 text-gray-500"})]),_:1}),r(l(N),{class:"absolute left-0 sm:left-auto sm:right-0 z-10 mt-2 w-48 origin-top-left sm:origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",Mt,[r(l(b),null,{default:n(({active:o})=>[e("a",{onClick:we,class:d([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Seleccionar todo ",2)]),_:1}),r(l(b),null,{default:n(({active:o})=>[e("a",{onClick:ke,class:d([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Deseleccionar todo ",2)]),_:1})])]),_:1})]),_:1})])])]),C.value.length?(g(),_("div",zt,[e("div",{class:"overflow-x-auto",style:Fe({minHeight:ee.value?"200px":"auto"})},[e("table",Et,[e("thead",Nt,[e("tr",null,[e("th",Dt,[e("input",{type:"checkbox",checked:se.value,onChange:_e,class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,Rt)]),It,Ut,Vt,qt,Ft,Ht,Ot])]),e("tbody",Wt,[(g(!0),_(U,null,O(te.value,(o,i)=>{var p;return g(),_("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:m=>$e(o.id)},[e("td",{class:"px-6 py-4 whitespace-nowrap",onClick:t[12]||(t[12]=ce(()=>{},["stop"]))},[e("input",{type:"checkbox",checked:P.value.includes(o.id),onChange:m=>be(o.id),class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,Jt)]),e("td",Qt,[e("div",Gt,[e("div",Kt,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:o.client.photo_profile||l(pe),alt:o.client.first_name},null,8,Xt)]),e("div",Yt,[e("div",es,f(o.client.first_name)+" "+f(o.client.last_name),1)])])]),e("td",ts,[e("div",ss,f(o.client.email),1)]),e("td",os,[e("span",as,f(o.case.type),1)]),e("td",ls,f(o.plaintiff||"-"),1),e("td",rs,f(o.defendant||"-"),1),e("td",ns,[e("span",is,f(((p=o.stages[o.stages.length-1])==null?void 0:p.status)||"Sin estado"),1)]),e("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:t[13]||(t[13]=ce(()=>{},["stop"]))},[r(l(D),{as:"div",class:"relative inline-block text-left"},{default:n(({open:m})=>[r(l(E),{ref_for:!0,ref:w=>Te(w,i),onClick:w=>Be(i,m),class:"inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100"},{default:n(()=>[r(l(ue),{class:"h-5 w-5 text-gray-500"})]),_:2},1032,["onClick"]),r(l(N),{ref_for:!0,ref:w=>Le(w,i),class:d([i>0&&i>=te.value.length-3?"absolute right-0 z-50 bottom-full mb-2 w-48 origin-bottom-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none":"absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"])},{default:n(()=>{var w;return[e("div",cs,[r(l(b),null,{default:n(({active:S})=>[r(a,{to:{name:"process_detail",params:{process_id:o.id}},class:d([S?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[M(" Ver detalles ")]),_:2},1032,["to","class"])]),_:2},1024),((w=k.value)==null?void 0:w.role)==="lawyer"?(g(),I(l(b),{key:0},{default:n(({active:S})=>[r(a,{to:{name:"process_form",params:{action:"edit",process_id:o.id}},class:d([S?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[M(" Editar ")]),_:2},1032,["to","class"])]),_:2},1024)):z("",!0)])]}),_:2},1032,["class"])]),_:2},1024)])],8,Zt)}),128))])])],4),j.value>1?(g(),_("div",ds,[e("div",us,[e("button",{onClick:oe,disabled:v.value===1,class:d(["relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",v.value===1?"opacity-50 cursor-not-allowed":""])}," Anterior ",10,ps),e("button",{onClick:ae,disabled:v.value===j.value,class:d(["relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",v.value===j.value?"opacity-50 cursor-not-allowed":""])}," Siguiente ",10,gs)]),e("div",ms,[e("div",null,[e("p",fs,[M(" Mostrando "),e("span",hs,f(J.value.start),1),M(" a "),e("span",ys,f(J.value.end),1),M(" de "),e("span",vs,f(J.value.total),1),M(" resultados ")])]),e("div",null,[e("nav",xs,[e("button",{onClick:oe,disabled:v.value===1,class:d(["relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",v.value===1?"opacity-50 cursor-not-allowed":""])},[bs,r(l(We),{class:"h-5 w-5","aria-hidden":"true"})],10,_s),(g(!0),_(U,null,O(Se.value,o=>(g(),_(U,{key:o},[o!=="..."?(g(),_("button",{key:0,onClick:i=>Pe(o),class:d(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 focus:outline-offset-0",v.value===o?"z-10 bg-secondary text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"])},f(o),11,ws)):(g(),_("span",ks," ... "))],64))),128)),e("button",{onClick:ae,disabled:v.value===j.value,class:d(["relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",v.value===j.value?"opacity-50 cursor-not-allowed":""])},[$s,r(l(Ge),{class:"h-5 w-5","aria-hidden":"true"})],10,Cs)])])])])):z("",!0)])):(g(),_("div",As,[r(l(Ke),{class:"mx-auto h-24 w-24 text-gray-400"}),Ps,e("p",Ss,f(h.value==="archived_processes"?"No hay procesos archivados para mostrar.":"Contacta a tu abogado para gestionar tus procesos."),1)]))])])}}};export{Rs as default};
