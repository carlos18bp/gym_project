import{H as Re,u as Ie,I as Ue,L as Ve,c as $,r as A,o as qe,W as se,d as Fe,e as g,f as _,g as e,ac as He,n as m,l as E,h as l,i as n,j as r,p as M,w as Ne,v as Oe,t as f,k as V,ae as We,F as q,J as Q,af as D,ag as R,ah as b,ai as I,B as Ze,aj as Je,m as ge,ak as Qe}from"./index.js";import{r as K}from"./ChevronDownIcon.js";import{r as me}from"./PlusIcon.js";import{r as Ke}from"./MagnifyingGlassIcon.js";import{r as oe,a as Xe}from"./FunnelIcon.js";import{r as fe}from"./EllipsisVerticalIcon.js";import{r as Ye}from"./ChevronRightIcon.js";import{r as Ge}from"./CubeTransparentIcon.js";const et={class:"min-h-screen bg-gray-50"},tt={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},st={class:"py-6 px-4 sm:px-6 lg:px-8"},ot={class:"border-b border-gray-200 mb-6"},at={class:"flex items-center justify-between"},rt={class:"-mb-px hidden sm:flex space-x-8"},lt={class:"sm:hidden flex-1"},nt={class:"py-1"},it={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 mb-6"},ct={class:"mb-4"},dt={class:"relative w-full"},ut={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4"},pt={class:"flex items-center gap-2 min-w-0"},gt={class:"truncate"},mt={class:"py-1"},ft=["onClick"],yt={class:"flex items-center gap-2 min-w-0"},ht={class:"truncate"},vt={class:"py-1"},xt=["onClick"],_t={class:"flex items-center gap-2 min-w-0"},bt={class:"truncate"},wt={class:"py-1"},kt=["onClick"],Ct={class:"flex items-center justify-stretch"},$t=e("span",null,"Limpiar",-1),At={class:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between pt-4 border-t border-gray-200"},Pt={class:"flex items-center gap-3"},Lt={class:"text-sm text-gray-500"},St={class:"font-medium"},Tt=e("span",{class:"hidden sm:inline"},"Nuevo",-1),jt=e("span",{class:"hidden sm:inline"},"Exportar",-1),Bt={class:"py-1"},Mt={class:"hidden sm:inline"},zt={class:"py-1"},Et={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Dt={class:"min-w-full divide-y divide-gray-200"},Rt={class:"bg-gray-50"},It={scope:"col",class:"w-12 px-6 py-3"},Ut=["checked"],Vt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nombre ",-1),qt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," E-mail ",-1),Ft=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipo Proceso ",-1),Ht=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Dte./Accionante ",-1),Nt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ddo./Accionado ",-1),Ot=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Etapa ",-1),Wt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Avance ",-1),Zt=e("th",{scope:"col",class:"w-16 px-6 py-3"},null,-1),Jt={class:"bg-white divide-y divide-gray-200"},Qt=["onClick"],Kt=["checked","onChange"],Xt={class:"px-6 py-4 whitespace-nowrap"},Yt={class:"flex items-center"},Gt={class:"h-10 w-10 flex-shrink-0"},es=["src","alt"],ts={key:1,class:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-sm"},ss={class:"ml-4"},os={class:"text-sm font-medium text-gray-900"},as={class:"px-6 py-4 whitespace-nowrap"},rs={class:"text-sm text-gray-900"},ls={class:"px-6 py-4 whitespace-nowrap"},ns={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},is={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},cs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ds={class:"px-6 py-4 whitespace-nowrap"},us={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},ps={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},gs={class:"py-1"},ms={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},fs={class:"flex flex-1 justify-between sm:hidden"},ys=["disabled"],hs=["disabled"],vs={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},xs={class:"text-sm text-gray-700"},_s={class:"font-medium"},bs={class:"font-medium"},ws={class:"font-medium"},ks={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},Cs=["disabled"],$s=e("span",{class:"sr-only"},"Anterior",-1),As=["onClick"],Ps={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700"},Ls=["disabled"],Ss=e("span",{class:"sr-only"},"Siguiente",-1),Ts={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},js=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No hay procesos disponibles",-1),Bs={class:"mt-2 text-sm text-gray-500"},Fs={__name:"ProcessList",setup(Ms){const X=Re(),ae=Ie(),re=Ue(),U=Ve(),w=$(()=>re.getCurrentUser),y=A("my_processes"),F=A(""),L=A(null),S=A(null),T=A(null),H=A("recent"),P=A([]),h=A(1),N=A(10),ye=A({}),le=A({}),ne=A(!1);qe(async()=>{try{await Promise.all([U.init(),re.init()])}catch(s){console.error("Error initializing process list:",s)}X.params.display==="history"?y.value="archived_processes":X.query.group==="general"?y.value="all_processes":y.value="my_processes"}),se(()=>X.params.display,s=>{s==="history"&&(y.value="archived_processes")}),se(()=>X.query.group,s=>{s==="general"?y.value="all_processes":s==="default"&&(y.value="my_processes")});const he=$(()=>{const s=new Set;return U.processes.forEach(t=>{var a;(a=t.case)!=null&&a.type&&s.add(t.case.type)}),Array.from(s).sort()}),ve=$(()=>{const s=new Set;return U.processes.forEach(t=>{t.authority&&s.add(t.authority)}),Array.from(s).sort()}),xe=$(()=>{const s=new Set;return U.processes.forEach(t=>{t.stages&&t.stages.length>0&&t.stages.forEach(a=>{a.status&&s.add(a.status)})}),Array.from(s).sort()}),k=s=>!s||!Array.isArray(s.clients)?null:s.clients.length?s.clients[0]:null,_e=$(()=>{var i,p,d,v,o,c;let s=[];const t=((i=w.value)==null?void 0:i.role)==="client"||((p=w.value)==null?void 0:p.role)==="basic"||((d=w.value)==null?void 0:d.role)==="corporate_client",a=(v=w.value)==null?void 0:v.id;return y.value==="archived_processes"?(s=U.processesWithClosedStatus,t?s=s.filter(u=>Array.isArray(u.clients)&&u.clients.some(x=>x.id===a)):((o=w.value)==null?void 0:o.role)==="lawyer"&&(s=s.filter(u=>{var x;return((x=u.lawyer)==null?void 0:x.id)===a}))):(s=U.processesWithoutClosedStatus,y.value==="my_processes"&&(t?s=s.filter(u=>Array.isArray(u.clients)&&u.clients.some(x=>x.id===a)):((c=w.value)==null?void 0:c.role)==="lawyer"&&(s=s.filter(u=>{var x;return((x=u.lawyer)==null?void 0:x.id)===a})))),s}),C=$(()=>{let s=[..._e.value];if(F.value){const t=F.value.toLowerCase();s=s.filter(a=>{var p,d,v,o,c,u,x,B,O,W,Z;const i=k(a)||{};return((p=i.first_name)==null?void 0:p.toLowerCase().includes(t))||((d=i.last_name)==null?void 0:d.toLowerCase().includes(t))||((v=i.email)==null?void 0:v.toLowerCase().includes(t))||((c=(o=a.case)==null?void 0:o.type)==null?void 0:c.toLowerCase().includes(t))||((u=a.subcase)==null?void 0:u.toLowerCase().includes(t))||((x=a.ref)==null?void 0:x.toLowerCase().includes(t))||((B=a.plaintiff)==null?void 0:B.toLowerCase().includes(t))||((O=a.defendant)==null?void 0:O.toLowerCase().includes(t))||((W=a.authority)==null?void 0:W.toLowerCase().includes(t))||((Z=a.stages)==null?void 0:Z.some(Y=>{var J;return(J=Y.status)==null?void 0:J.toLowerCase().includes(t)}))})}return L.value&&(s=s.filter(t=>{var a;return((a=t.case)==null?void 0:a.type)===L.value})),S.value&&(s=s.filter(t=>t.authority===S.value)),T.value&&(s=s.filter(t=>{var i;const a=(i=t.stages)==null?void 0:i[t.stages.length-1];return(a==null?void 0:a.status)===T.value})),H.value==="name"?s.sort((t,a)=>{const i=k(t)||{},p=k(a)||{},d=`${i.first_name||""} ${i.last_name||""}`.toLowerCase(),v=`${p.first_name||""} ${p.last_name||""}`.toLowerCase();return d.localeCompare(v)}):H.value==="recent"&&s.sort((t,a)=>{const i=t.created_at?new Date(t.created_at).getTime():0;return(a.created_at?new Date(a.created_at).getTime():0)-i}),s}),ie=$(()=>{const s=(h.value-1)*N.value,t=s+N.value;return C.value.slice(s,t)}),j=$(()=>Math.ceil(C.value.length/N.value)),G=$(()=>{const s=(h.value-1)*N.value+1,t=Math.min(h.value*N.value,C.value.length);return{start:s,end:t,total:C.value.length}});se([F,L,S,T,y],()=>{h.value=1});const be=$(()=>{switch(H.value){case"name":return"Nombre (A-Z)";case"recent":default:return"Más recientes"}}),we=()=>{L.value=null,S.value=null,T.value=null},ce=$(()=>C.value.length>0&&P.value.length===C.value.length),ke=()=>{ce.value?P.value=[]:P.value=C.value.map(s=>s.id)},Ce=s=>{const t=P.value.indexOf(s);t>-1?P.value.splice(t,1):P.value.push(s)},$e=()=>{P.value=C.value.map(s=>s.id)},Ae=()=>{P.value=[]},Pe=()=>{switch(y.value){case"my_processes":return"Mis Procesos";case"all_processes":return"Todos los Procesos";case"archived_processes":return"Procesos Archivados";default:return"Mis Procesos"}},Le=s=>{ae.push({name:"process_detail",params:{process_id:s}})},Se=(s,t)=>{var p,d;const a=((p=s==null?void 0:s.charAt(0))==null?void 0:p.toUpperCase())||"",i=((d=t==null?void 0:t.charAt(0))==null?void 0:d.toUpperCase())||"";return`${a}${i}`||"?"},Te=()=>{ae.push("/legal_request_create")},de=()=>{h.value>1&&h.value--},ue=()=>{h.value<j.value&&h.value++},je=s=>{s>=1&&s<=j.value&&(h.value=s)},Be=$(()=>{const s=j.value,t=h.value,a=[];if(s<=7)for(let i=1;i<=s;i++)a.push(i);else if(t<=4){for(let i=1;i<=5;i++)a.push(i);a.push("..."),a.push(s)}else if(t>=s-3){a.push(1),a.push("...");for(let i=s-4;i<=s;i++)a.push(i)}else a.push(1),a.push("..."),a.push(t-1),a.push(t),a.push(t+1),a.push("..."),a.push(s);return a}),Me=(s,t)=>{s&&(ye.value[t]=s)},ze=(s,t)=>{s&&(le.value[t]=s)},Ee=(s,t)=>{ne.value=!t,t||setTimeout(()=>{const a=le.value[s];if(a){const i=a.$el||a;if(i&&i.getBoundingClientRect){const p=i.getBoundingClientRect(),d=window.innerHeight;if(s===0){if(p.bottom>d-20){const v=p.bottom-d+40;window.scrollBy({top:v,behavior:"smooth"})}}else if(p.bottom>d-10){const v=p.bottom-d+30;window.scrollBy({top:v,behavior:"smooth"})}else if(p.top<80){const v=p.top-100;window.scrollBy({top:v,behavior:"smooth"})}}}},100)},De=()=>{const s=P.value.length>0?C.value.filter(o=>P.value.includes(o.id)):C.value,t=["Nombre","Email","Tipo Proceso","Dte./Accionante","Ddo./Accionado","Etapa"],a=s.map(o=>{var x,B;const c=k(o)||{},u=((x=o.stages)==null?void 0:x[o.stages.length-1])||null;return[`${c.first_name||""} ${c.last_name||""}`,c.email||"",((B=o.case)==null?void 0:B.type)||"",o.plaintiff||"-",o.defendant||"-",(u==null?void 0:u.status)||""]}),i=[t.join(","),...a.map(o=>o.map(c=>`"${c}"`).join(","))].join(`
`),p=new Blob([i],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),v=URL.createObjectURL(p);d.setAttribute("href",v),d.setAttribute("download",`procesos_${new Date().toISOString().split("T")[0]}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)};return(s,t)=>{var i,p,d,v;const a=Fe("router-link");return g(),_("div",et,[e("div",tt,[He(s.$slots,"default")]),e("div",st,[e("div",ot,[e("div",at,[e("nav",rt,[e("button",{onClick:t[0]||(t[0]=o=>y.value="my_processes"),class:m([y.value==="my_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Mis Procesos ",2),((i=w.value)==null?void 0:i.role)==="lawyer"?(g(),_("button",{key:0,onClick:t[1]||(t[1]=o=>y.value="all_processes"),class:m([y.value==="all_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Todos los Procesos ",2)):E("",!0),e("button",{onClick:t[2]||(t[2]=o=>y.value="archived_processes"),class:m([y.value==="archived_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Procesos Archivados ",2)]),e("div",lt,[l(r(I),{as:"div",class:"relative"},{default:n(()=>[l(r(D),{class:"w-full inline-flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("span",null,f(Pe()),1),l(r(K),{class:"h-5 w-5 ml-2"})]),_:1}),l(r(R),{class:"absolute left-0 z-10 mt-2 w-full origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>{var o;return[e("div",nt,[l(r(b),null,{default:n(({active:c})=>[e("button",{onClick:t[3]||(t[3]=u=>y.value="my_processes"),class:m([c?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Mis Procesos ",2)]),_:1}),((o=w.value)==null?void 0:o.role)==="lawyer"?(g(),V(r(b),{key:0},{default:n(({active:c})=>[e("button",{onClick:t[4]||(t[4]=u=>y.value="all_processes"),class:m([c?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Todos los Procesos ",2)]),_:1})):E("",!0),l(r(b),null,{default:n(({active:c})=>[e("button",{onClick:t[5]||(t[5]=u=>y.value="archived_processes"),class:m([c?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Procesos Archivados ",2)]),_:1})])]}),_:1})]),_:1})]),((p=w.value)==null?void 0:p.role)==="client"||((d=w.value)==null?void 0:d.role)==="corporate_client"?(g(),_("button",{key:0,onClick:Te,class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-secondary bg-secondary text-sm font-medium text-white hover:bg-blue-700 transition-all duration-200 ml-3 sm:ml-4"},[l(r(me),{class:"h-5 w-5"}),M(" Solicitar Información ")])):E("",!0)])]),e("div",it,[e("div",ct,[e("div",dt,[l(r(Ke),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),Ne(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>F.value=o),type:"text",placeholder:"Buscar procesos...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-secondary focus:border-transparent text-sm"},null,512),[[Oe,F.value]])])]),e("div",ut,[l(r(I),{as:"div",class:"relative"},{default:n(()=>[l(r(D),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",pt,[l(r(oe),{class:"h-4 w-4 flex-shrink-0"}),e("span",gt,f(L.value||"Tipo"),1)]),l(r(K),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),l(r(R),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",mt,[l(r(b),null,{default:n(({active:o})=>[e("a",{onClick:t[7]||(t[7]=c=>L.value=null),class:m([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(g(!0),_(q,null,Q(he.value,o=>(g(),V(r(b),{key:o},{default:n(({active:c})=>[e("a",{onClick:u=>L.value=o,class:m([c?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(o),11,ft)]),_:2},1024))),128))])]),_:1})]),_:1}),l(r(I),{as:"div",class:"relative"},{default:n(()=>[l(r(D),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",yt,[l(r(oe),{class:"h-4 w-4 flex-shrink-0"}),e("span",ht,f(S.value||"Autoridad"),1)]),l(r(K),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),l(r(R),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",vt,[l(r(b),null,{default:n(({active:o})=>[e("a",{onClick:t[8]||(t[8]=c=>S.value=null),class:m([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(g(!0),_(q,null,Q(ve.value,o=>(g(),V(r(b),{key:o},{default:n(({active:c})=>[e("a",{onClick:u=>S.value=o,class:m([c?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(o),11,xt)]),_:2},1024))),128))])]),_:1})]),_:1}),l(r(I),{as:"div",class:"relative"},{default:n(()=>[l(r(D),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",_t,[l(r(oe),{class:"h-4 w-4 flex-shrink-0"}),e("span",bt,f(T.value||"Etapa"),1)]),l(r(K),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),l(r(R),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",wt,[l(r(b),null,{default:n(({active:o})=>[e("a",{onClick:t[9]||(t[9]=c=>T.value=null),class:m([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(g(!0),_(q,null,Q(xe.value,o=>(g(),V(r(b),{key:o},{default:n(({active:c})=>[e("a",{onClick:u=>T.value=o,class:m([c?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},f(o),11,kt)]),_:2},1024))),128))])]),_:1})]),_:1}),e("div",Ct,[L.value||S.value||T.value?(g(),_("button",{key:0,onClick:we,class:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",title:"Limpiar filtros"},[l(r(Ze),{class:"h-4 w-4 flex-shrink-0"}),$t])):E("",!0)])]),e("div",At,[e("div",Pt,[e("div",Lt,[e("span",St,f(C.value.length),1),M(" resultados ")]),((v=w.value)==null?void 0:v.role)==="lawyer"?(g(),V(a,{key:0,to:{name:"process_form",params:{action:"create"}},class:"inline-flex items-center gap-2 px-3 py-2 bg-secondary text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium whitespace-nowrap"},{default:n(()=>[l(r(me),{class:"h-4 w-4"}),Tt]),_:1})):E("",!0),e("button",{onClick:De,class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},[l(r(Je),{class:"h-4 w-4"}),jt]),l(r(I),{as:"div",class:"relative"},{default:n(()=>[l(r(D),{class:"inline-flex items-center justify-center w-10 h-10 rounded-md hover:bg-gray-100"},{default:n(()=>[l(r(fe),{class:"h-5 w-5 text-gray-500"})]),_:1}),l(r(R),{class:"absolute left-0 z-10 mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",Bt,[l(r(b),null,{default:n(({active:o})=>[e("a",{onClick:$e,class:m([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Seleccionar todo ",2)]),_:1}),l(r(b),null,{default:n(({active:o})=>[e("a",{onClick:Ae,class:m([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Deseleccionar todo ",2)]),_:1})])]),_:1})]),_:1})]),l(r(I),{as:"div",class:"relative"},{default:n(()=>[l(r(D),{class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[l(r(Xe),{class:"h-4 w-4"}),e("span",Mt,f(be.value),1),l(r(K),{class:"h-4 w-4"})]),_:1}),l(r(R),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",zt,[l(r(b),null,{default:n(({active:o})=>[e("a",{onClick:t[10]||(t[10]=c=>H.value="recent"),class:m([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Más recientes ",2)]),_:1}),l(r(b),null,{default:n(({active:o})=>[e("a",{onClick:t[11]||(t[11]=c=>H.value="name"),class:m([o?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Nombre (A-Z) ",2)]),_:1})])]),_:1})]),_:1})])]),C.value.length?(g(),_("div",Et,[e("div",{class:"overflow-x-auto",style:We({minHeight:ne.value?"200px":"auto"})},[e("table",Dt,[e("thead",Rt,[e("tr",null,[e("th",It,[e("input",{type:"checkbox",checked:ce.value,onChange:ke,class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,Ut)]),Vt,qt,Ft,Ht,Nt,Ot,Wt,Zt])]),e("tbody",Jt,[(g(!0),_(q,null,Q(ie.value,(o,c)=>{var u,x,B,O,W,Z,Y,J,pe;return g(),_("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:ee=>Le(o.id)},[e("td",{class:"px-6 py-4 whitespace-nowrap",onClick:t[12]||(t[12]=ge(()=>{},["stop"]))},[e("input",{type:"checkbox",checked:P.value.includes(o.id),onChange:ee=>Ce(o.id),class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,Kt)]),e("td",Xt,[e("div",Yt,[e("div",Gt,[(u=k(o))!=null&&u.photo_profile?(g(),_("img",{key:0,class:"h-10 w-10 rounded-full object-cover",src:(x=k(o))==null?void 0:x.photo_profile,alt:(B=k(o))==null?void 0:B.first_name},null,8,es)):(g(),_("div",ts,f(Se((O=k(o))==null?void 0:O.first_name,(W=k(o))==null?void 0:W.last_name)),1))]),e("div",ss,[e("div",os,f((Z=k(o))==null?void 0:Z.first_name)+" "+f((Y=k(o))==null?void 0:Y.last_name),1)])])]),e("td",as,[e("div",rs,f((J=k(o))==null?void 0:J.email),1)]),e("td",ls,[e("span",ns,f(o.case.type),1)]),e("td",is,f(o.plaintiff||"-"),1),e("td",cs,f(o.defendant||"-"),1),e("td",ds,[e("span",us,f(((pe=o.stages[o.stages.length-1])==null?void 0:pe.status)||"Sin estado"),1)]),e("td",ps,f(typeof o.progress=="number"?o.progress+"%":"-"),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:t[13]||(t[13]=ge(()=>{},["stop"]))},[l(r(I),{as:"div",class:"relative inline-block text-left"},{default:n(({open:ee})=>[l(r(D),{ref_for:!0,ref:z=>Me(z,c),onClick:z=>Ee(c,ee),class:"inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100"},{default:n(()=>[l(r(fe),{class:"h-5 w-5 text-gray-500"})]),_:2},1032,["onClick"]),l(r(R),{ref_for:!0,ref:z=>ze(z,c),class:m([c>0&&c>=ie.value.length-3?"absolute right-0 z-50 bottom-full mb-2 w-48 origin-bottom-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none":"absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"])},{default:n(()=>{var z;return[e("div",gs,[l(r(b),null,{default:n(({active:te})=>[l(a,{to:{name:"process_detail",params:{process_id:o.id}},class:m([te?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[M(" Ver detalles ")]),_:2},1032,["to","class"])]),_:2},1024),((z=w.value)==null?void 0:z.role)==="lawyer"?(g(),V(r(b),{key:0},{default:n(({active:te})=>[l(a,{to:{name:"process_form",params:{action:"edit",process_id:o.id}},class:m([te?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[M(" Editar ")]),_:2},1032,["to","class"])]),_:2},1024)):E("",!0)])]}),_:2},1032,["class"])]),_:2},1024)])],8,Qt)}),128))])])],4),j.value>1?(g(),_("div",ms,[e("div",fs,[e("button",{onClick:de,disabled:h.value===1,class:m(["relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",h.value===1?"opacity-50 cursor-not-allowed":""])}," Anterior ",10,ys),e("button",{onClick:ue,disabled:h.value===j.value,class:m(["relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",h.value===j.value?"opacity-50 cursor-not-allowed":""])}," Siguiente ",10,hs)]),e("div",vs,[e("div",null,[e("p",xs,[M(" Mostrando "),e("span",_s,f(G.value.start),1),M(" a "),e("span",bs,f(G.value.end),1),M(" de "),e("span",ws,f(G.value.total),1),M(" resultados ")])]),e("div",null,[e("nav",ks,[e("button",{onClick:de,disabled:h.value===1,class:m(["relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",h.value===1?"opacity-50 cursor-not-allowed":""])},[$s,l(r(Qe),{class:"h-5 w-5","aria-hidden":"true"})],10,Cs),(g(!0),_(q,null,Q(Be.value,o=>(g(),_(q,{key:o},[o!=="..."?(g(),_("button",{key:0,onClick:c=>je(o),class:m(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 focus:outline-offset-0",h.value===o?"z-10 bg-secondary text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"])},f(o),11,As)):(g(),_("span",Ps," ... "))],64))),128)),e("button",{onClick:ue,disabled:h.value===j.value,class:m(["relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",h.value===j.value?"opacity-50 cursor-not-allowed":""])},[Ss,l(r(Ye),{class:"h-5 w-5","aria-hidden":"true"})],10,Ls)])])])])):E("",!0)])):(g(),_("div",Ts,[l(r(Ge),{class:"mx-auto h-24 w-24 text-gray-400"}),js,e("p",Bs,f(y.value==="archived_processes"?"No hay procesos archivados para mostrar.":"Contacta a tu abogado para gestionar tus procesos."),1)]))])])}}};export{Fs as default};
