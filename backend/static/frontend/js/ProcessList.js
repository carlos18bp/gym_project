import{ab as ze,u as Ee,I as De,H as Re,c as $,r as A,o as Ie,T as G,d as Ue,e as u,f as _,g as e,a9 as Ve,n as p,l as z,h as r,i as n,j as l,p as M,w as qe,v as Ne,t as m,k as U,ac as Fe,F as V,N as O,ad as E,ae as D,af as b,ag as R,G as He,ah as Oe,m as ce,ai as We}from"./index.js";import{r as W}from"./ChevronDownIcon.js";import{r as de}from"./PlusIcon.js";import{r as Ze}from"./MagnifyingGlassIcon.js";import{r as J,a as Qe}from"./FunnelIcon.js";import{r as ue}from"./EllipsisVerticalIcon.js";import{r as Ge}from"./ChevronRightIcon.js";import{r as Je}from"./CubeTransparentIcon.js";const Ke={class:"min-h-screen bg-gray-50"},Xe={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},Ye={class:"py-6 px-4 sm:px-6 lg:px-8"},et={class:"border-b border-gray-200 mb-6"},tt={class:"flex items-center justify-between"},st={class:"-mb-px hidden sm:flex space-x-8"},ot={class:"sm:hidden flex-1"},at={class:"py-1"},lt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 mb-6"},rt={class:"mb-4"},nt={class:"relative w-full"},it={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4"},ct={class:"flex items-center gap-2 min-w-0"},dt={class:"truncate"},ut={class:"py-1"},pt=["onClick"],gt={class:"flex items-center gap-2 min-w-0"},mt={class:"truncate"},ft={class:"py-1"},ht=["onClick"],yt={class:"flex items-center gap-2 min-w-0"},vt={class:"truncate"},xt={class:"py-1"},_t=["onClick"],bt={class:"flex items-center justify-stretch"},wt=e("span",null,"Limpiar",-1),kt={class:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between pt-4 border-t border-gray-200"},Ct={class:"flex items-center gap-3"},$t={class:"text-sm text-gray-500"},At={class:"font-medium"},Pt=e("span",{class:"hidden sm:inline"},"Nuevo",-1),St=e("span",{class:"hidden sm:inline"},"Exportar",-1),Tt={class:"py-1"},Lt={class:"hidden sm:inline"},jt={class:"py-1"},Bt={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200"},Mt={class:"min-w-full divide-y divide-gray-200"},zt={class:"bg-gray-50"},Et={scope:"col",class:"w-12 px-6 py-3"},Dt=["checked"],Rt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Nombre ",-1),It=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," E-mail ",-1),Ut=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipo Proceso ",-1),Vt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Dte./Accionante ",-1),qt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ddo./Accionado ",-1),Nt=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Etapa ",-1),Ft=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Avance ",-1),Ht=e("th",{scope:"col",class:"w-16 px-6 py-3"},null,-1),Ot={class:"bg-white divide-y divide-gray-200"},Wt=["onClick"],Zt=["checked","onChange"],Qt={class:"px-6 py-4 whitespace-nowrap"},Gt={class:"flex items-center"},Jt={class:"h-10 w-10 flex-shrink-0"},Kt=["src","alt"],Xt={key:1,class:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-sm shadow-sm"},Yt={class:"ml-4"},es={class:"text-sm font-medium text-gray-900"},ts={class:"px-6 py-4 whitespace-nowrap"},ss={class:"text-sm text-gray-900"},os={class:"px-6 py-4 whitespace-nowrap"},as={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},ls={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ns={class:"px-6 py-4 whitespace-nowrap"},is={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},cs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ds={class:"py-1"},us={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},ps={class:"flex flex-1 justify-between sm:hidden"},gs=["disabled"],ms=["disabled"],fs={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},hs={class:"text-sm text-gray-700"},ys={class:"font-medium"},vs={class:"font-medium"},xs={class:"font-medium"},_s={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},bs=["disabled"],ws=e("span",{class:"sr-only"},"Anterior",-1),ks=["onClick"],Cs={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700"},$s=["disabled"],As=e("span",{class:"sr-only"},"Siguiente",-1),Ps={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},Ss=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No hay procesos disponibles",-1),Ts={class:"mt-2 text-sm text-gray-500"},Us={__name:"ProcessList",setup(Ls){const Z=ze(),K=Ee(),X=De(),I=Re(),k=$(()=>X.getCurrentUser),y=A("my_processes"),q=A(""),T=A(null),L=A(null),j=A(null),N=A("recent"),P=A([]),v=A(1),F=A(10),pe=A({}),Y=A({}),ee=A(!1);Ie(async()=>{try{await Promise.all([I.init(),X.init()])}catch(o){console.error("Error initializing process list:",o)}Z.params.display==="history"?y.value="archived_processes":Z.query.group==="general"?y.value="all_processes":y.value="my_processes"}),G(()=>Z.params.display,o=>{o==="history"&&(y.value="archived_processes")}),G(()=>Z.query.group,o=>{o==="general"?y.value="all_processes":o==="default"&&(y.value="my_processes")});const ge=$(()=>{const o=new Set;return I.processes.forEach(t=>{var a;(a=t.case)!=null&&a.type&&o.add(t.case.type)}),Array.from(o).sort()}),me=$(()=>{const o=new Set;return I.processes.forEach(t=>{t.authority&&o.add(t.authority)}),Array.from(o).sort()}),fe=$(()=>{const o=new Set;return I.processes.forEach(t=>{t.stages&&t.stages.length>0&&t.stages.forEach(a=>{a.status&&o.add(a.status)})}),Array.from(o).sort()}),he=$(()=>{var c,g,d,x,s,i;let o=[];const t=((c=k.value)==null?void 0:c.role)==="client"||((g=k.value)==null?void 0:g.role)==="basic"||((d=k.value)==null?void 0:d.role)==="corporate_client",a=(x=k.value)==null?void 0:x.id;return y.value==="archived_processes"?(o=I.processesWithClosedStatus,t?o=o.filter(f=>{var h;return((h=f.client)==null?void 0:h.id)===a}):((s=k.value)==null?void 0:s.role)==="lawyer"&&(o=o.filter(f=>{var h;return((h=f.lawyer)==null?void 0:h.id)===a}))):(o=I.processesWithoutClosedStatus,y.value==="my_processes"&&(t?o=o.filter(f=>{var h;return((h=f.client)==null?void 0:h.id)===a}):((i=k.value)==null?void 0:i.role)==="lawyer"&&(o=o.filter(f=>{var h;return((h=f.lawyer)==null?void 0:h.id)===a})))),o}),C=$(()=>{let o=[...he.value];if(q.value){const t=q.value.toLowerCase();o=o.filter(a=>{var c,g,d,x,s,i,f,h,w,S,H,le,re,ne;return((g=(c=a.client)==null?void 0:c.first_name)==null?void 0:g.toLowerCase().includes(t))||((x=(d=a.client)==null?void 0:d.last_name)==null?void 0:x.toLowerCase().includes(t))||((i=(s=a.client)==null?void 0:s.email)==null?void 0:i.toLowerCase().includes(t))||((h=(f=a.case)==null?void 0:f.type)==null?void 0:h.toLowerCase().includes(t))||((w=a.subcase)==null?void 0:w.toLowerCase().includes(t))||((S=a.ref)==null?void 0:S.toLowerCase().includes(t))||((H=a.plaintiff)==null?void 0:H.toLowerCase().includes(t))||((le=a.defendant)==null?void 0:le.toLowerCase().includes(t))||((re=a.authority)==null?void 0:re.toLowerCase().includes(t))||((ne=a.stages)==null?void 0:ne.some(Me=>{var ie;return(ie=Me.status)==null?void 0:ie.toLowerCase().includes(t)}))})}return T.value&&(o=o.filter(t=>{var a;return((a=t.case)==null?void 0:a.type)===T.value})),L.value&&(o=o.filter(t=>t.authority===L.value)),j.value&&(o=o.filter(t=>{var c;const a=(c=t.stages)==null?void 0:c[t.stages.length-1];return(a==null?void 0:a.status)===j.value})),N.value==="name"?o.sort((t,a)=>{var d,x,s,i;const c=`${((d=t.client)==null?void 0:d.first_name)||""} ${((x=t.client)==null?void 0:x.last_name)||""}`.toLowerCase(),g=`${((s=a.client)==null?void 0:s.first_name)||""} ${((i=a.client)==null?void 0:i.last_name)||""}`.toLowerCase();return c.localeCompare(g)}):N.value==="recent"&&o.sort((t,a)=>{const c=t.created_at?new Date(t.created_at).getTime():0;return(a.created_at?new Date(a.created_at).getTime():0)-c}),o}),te=$(()=>{const o=(v.value-1)*F.value,t=o+F.value;return C.value.slice(o,t)}),B=$(()=>Math.ceil(C.value.length/F.value)),Q=$(()=>{const o=(v.value-1)*F.value+1,t=Math.min(v.value*F.value,C.value.length);return{start:o,end:t,total:C.value.length}});G([q,T,L,j,y],()=>{v.value=1});const ye=$(()=>{switch(N.value){case"name":return"Nombre (A-Z)";case"recent":default:return"Más recientes"}}),ve=()=>{T.value=null,L.value=null,j.value=null},se=$(()=>C.value.length>0&&P.value.length===C.value.length),xe=()=>{se.value?P.value=[]:P.value=C.value.map(o=>o.id)},_e=o=>{const t=P.value.indexOf(o);t>-1?P.value.splice(t,1):P.value.push(o)},be=()=>{P.value=C.value.map(o=>o.id)},we=()=>{P.value=[]},ke=()=>{switch(y.value){case"my_processes":return"Mis Procesos";case"all_processes":return"Todos los Procesos";case"archived_processes":return"Procesos Archivados";default:return"Mis Procesos"}},Ce=o=>{K.push({name:"process_detail",params:{process_id:o}})},$e=(o,t)=>{var g,d;const a=((g=o==null?void 0:o.charAt(0))==null?void 0:g.toUpperCase())||"",c=((d=t==null?void 0:t.charAt(0))==null?void 0:d.toUpperCase())||"";return`${a}${c}`||"?"},Ae=()=>{K.push("/legal_request_create")},oe=()=>{v.value>1&&v.value--},ae=()=>{v.value<B.value&&v.value++},Pe=o=>{o>=1&&o<=B.value&&(v.value=o)},Se=$(()=>{const o=B.value,t=v.value,a=[];if(o<=7)for(let c=1;c<=o;c++)a.push(c);else if(t<=4){for(let c=1;c<=5;c++)a.push(c);a.push("..."),a.push(o)}else if(t>=o-3){a.push(1),a.push("...");for(let c=o-4;c<=o;c++)a.push(c)}else a.push(1),a.push("..."),a.push(t-1),a.push(t),a.push(t+1),a.push("..."),a.push(o);return a}),Te=(o,t)=>{o&&(pe.value[t]=o)},Le=(o,t)=>{o&&(Y.value[t]=o)},je=(o,t)=>{ee.value=!t,t||setTimeout(()=>{const a=Y.value[o];if(a){const c=a.$el||a;if(c&&c.getBoundingClientRect){const g=c.getBoundingClientRect(),d=window.innerHeight;if(o===0){if(g.bottom>d-20){const x=g.bottom-d+40;window.scrollBy({top:x,behavior:"smooth"})}}else if(g.bottom>d-10){const x=g.bottom-d+30;window.scrollBy({top:x,behavior:"smooth"})}else if(g.top<80){const x=g.top-100;window.scrollBy({top:x,behavior:"smooth"})}}}},100)},Be=()=>{const o=P.value.length>0?C.value.filter(s=>P.value.includes(s.id)):C.value,t=["Nombre","Email","Tipo Proceso","Dte./Accionante","Ddo./Accionado","Etapa"],a=o.map(s=>{var i,f,h,w,S,H;return[`${((i=s.client)==null?void 0:i.first_name)||""} ${((f=s.client)==null?void 0:f.last_name)||""}`,((h=s.client)==null?void 0:h.email)||"",((w=s.case)==null?void 0:w.type)||"",s.plaintiff||"-",s.defendant||"-",((H=(S=s.stages)==null?void 0:S[s.stages.length-1])==null?void 0:H.status)||"Sin estado"]}),c=[t.join(","),...a.map(s=>s.map(i=>`"${i}"`).join(","))].join(`
`),g=new Blob([c],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),x=URL.createObjectURL(g);d.setAttribute("href",x),d.setAttribute("download",`procesos_${new Date().toISOString().split("T")[0]}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)};return(o,t)=>{var c,g,d,x;const a=Ue("router-link");return u(),_("div",Ke,[e("div",Xe,[Ve(o.$slots,"default")]),e("div",Ye,[e("div",et,[e("div",tt,[e("nav",st,[e("button",{onClick:t[0]||(t[0]=s=>y.value="my_processes"),class:p([y.value==="my_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Mis Procesos ",2),((c=k.value)==null?void 0:c.role)==="lawyer"?(u(),_("button",{key:0,onClick:t[1]||(t[1]=s=>y.value="all_processes"),class:p([y.value==="all_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Todos los Procesos ",2)):z("",!0),e("button",{onClick:t[2]||(t[2]=s=>y.value="archived_processes"),class:p([y.value==="archived_processes"?"border-secondary text-secondary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Procesos Archivados ",2)]),e("div",ot,[r(l(R),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("span",null,m(ke()),1),r(l(W),{class:"h-5 w-5 ml-2"})]),_:1}),r(l(D),{class:"absolute left-0 z-10 mt-2 w-full origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>{var s;return[e("div",at,[r(l(b),null,{default:n(({active:i})=>[e("button",{onClick:t[3]||(t[3]=f=>y.value="my_processes"),class:p([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Mis Procesos ",2)]),_:1}),((s=k.value)==null?void 0:s.role)==="lawyer"?(u(),U(l(b),{key:0},{default:n(({active:i})=>[e("button",{onClick:t[4]||(t[4]=f=>y.value="all_processes"),class:p([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Todos los Procesos ",2)]),_:1})):z("",!0),r(l(b),null,{default:n(({active:i})=>[e("button",{onClick:t[5]||(t[5]=f=>y.value="archived_processes"),class:p([i?"bg-gray-100":"","block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"])}," Procesos Archivados ",2)]),_:1})])]}),_:1})]),_:1})]),((g=k.value)==null?void 0:g.role)==="client"||((d=k.value)==null?void 0:d.role)==="corporate_client"?(u(),_("button",{key:0,onClick:Ae,class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-secondary bg-secondary text-sm font-medium text-white hover:bg-blue-700 transition-all duration-200 ml-3 sm:ml-4"},[r(l(de),{class:"h-5 w-5"}),M(" Solicitar Información ")])):z("",!0)])]),e("div",lt,[e("div",rt,[e("div",nt,[r(l(Ze),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),qe(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>q.value=s),type:"text",placeholder:"Buscar procesos...",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-secondary focus:border-transparent text-sm"},null,512),[[Ne,q.value]])])]),e("div",it,[r(l(R),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",ct,[r(l(J),{class:"h-4 w-4 flex-shrink-0"}),e("span",dt,m(T.value||"Tipo"),1)]),r(l(W),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(D),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",ut,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[7]||(t[7]=i=>T.value=null),class:p([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(u(!0),_(V,null,O(ge.value,s=>(u(),U(l(b),{key:s},{default:n(({active:i})=>[e("a",{onClick:f=>T.value=s,class:p([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},m(s),11,pt)]),_:2},1024))),128))])]),_:1})]),_:1}),r(l(R),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",gt,[r(l(J),{class:"h-4 w-4 flex-shrink-0"}),e("span",mt,m(L.value||"Autoridad"),1)]),r(l(W),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(D),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",ft,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[8]||(t[8]=i=>L.value=null),class:p([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(u(!0),_(V,null,O(me.value,s=>(u(),U(l(b),{key:s},{default:n(({active:i})=>[e("a",{onClick:f=>L.value=s,class:p([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},m(s),11,ht)]),_:2},1024))),128))])]),_:1})]),_:1}),r(l(R),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"w-full inline-flex items-center justify-between gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[e("div",yt,[r(l(J),{class:"h-4 w-4 flex-shrink-0"}),e("span",vt,m(j.value||"Etapa"),1)]),r(l(W),{class:"h-4 w-4 flex-shrink-0"})]),_:1}),r(l(D),{class:"absolute left-0 z-10 mt-2 w-56 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-y-auto"},{default:n(()=>[e("div",xt,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[9]||(t[9]=i=>j.value=null),class:p([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Todos ",2)]),_:1}),(u(!0),_(V,null,O(fe.value,s=>(u(),U(l(b),{key:s},{default:n(({active:i})=>[e("a",{onClick:f=>j.value=s,class:p([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])},m(s),11,_t)]),_:2},1024))),128))])]),_:1})]),_:1}),e("div",bt,[T.value||L.value||j.value?(u(),_("button",{key:0,onClick:ve,class:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",title:"Limpiar filtros"},[r(l(He),{class:"h-4 w-4 flex-shrink-0"}),wt])):z("",!0)])]),e("div",kt,[e("div",Ct,[e("div",$t,[e("span",At,m(C.value.length),1),M(" resultados ")]),((x=k.value)==null?void 0:x.role)==="lawyer"?(u(),U(a,{key:0,to:{name:"process_form",params:{action:"create"}},class:"inline-flex items-center gap-2 px-3 py-2 bg-secondary text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium whitespace-nowrap"},{default:n(()=>[r(l(de),{class:"h-4 w-4"}),Pt]),_:1})):z("",!0),e("button",{onClick:Be,class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},[r(l(Oe),{class:"h-4 w-4"}),St]),r(l(R),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"inline-flex items-center justify-center w-10 h-10 rounded-md hover:bg-gray-100"},{default:n(()=>[r(l(ue),{class:"h-5 w-5 text-gray-500"})]),_:1}),r(l(D),{class:"absolute left-0 z-10 mt-2 w-48 origin-top-left rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",Tt,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:be,class:p([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Seleccionar todo ",2)]),_:1}),r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:we,class:p([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Deseleccionar todo ",2)]),_:1})])]),_:1})]),_:1})]),r(l(R),{as:"div",class:"relative"},{default:n(()=>[r(l(E),{class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm font-medium text-gray-700 hover:bg-gray-50"},{default:n(()=>[r(l(Qe),{class:"h-4 w-4"}),e("span",Lt,m(ye.value),1),r(l(W),{class:"h-4 w-4"})]),_:1}),r(l(D),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:n(()=>[e("div",jt,[r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[10]||(t[10]=i=>N.value="recent"),class:p([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Más recientes ",2)]),_:1}),r(l(b),null,{default:n(({active:s})=>[e("a",{onClick:t[11]||(t[11]=i=>N.value="name"),class:p([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"])}," Nombre (A-Z) ",2)]),_:1})])]),_:1})]),_:1})])]),C.value.length?(u(),_("div",Bt,[e("div",{class:"overflow-x-auto",style:Fe({minHeight:ee.value?"200px":"auto"})},[e("table",Mt,[e("thead",zt,[e("tr",null,[e("th",Et,[e("input",{type:"checkbox",checked:se.value,onChange:xe,class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,Dt)]),Rt,It,Ut,Vt,qt,Nt,Ft,Ht])]),e("tbody",Ot,[(u(!0),_(V,null,O(te.value,(s,i)=>{var f;return u(),_("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:h=>Ce(s.id)},[e("td",{class:"px-6 py-4 whitespace-nowrap",onClick:t[12]||(t[12]=ce(()=>{},["stop"]))},[e("input",{type:"checkbox",checked:P.value.includes(s.id),onChange:h=>_e(s.id),class:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"},null,40,Zt)]),e("td",Qt,[e("div",Gt,[e("div",Jt,[s.client.photo_profile?(u(),_("img",{key:0,class:"h-10 w-10 rounded-full object-cover",src:s.client.photo_profile,alt:s.client.first_name},null,8,Kt)):(u(),_("div",Xt,m($e(s.client.first_name,s.client.last_name)),1))]),e("div",Yt,[e("div",es,m(s.client.first_name)+" "+m(s.client.last_name),1)])])]),e("td",ts,[e("div",ss,m(s.client.email),1)]),e("td",os,[e("span",as,m(s.case.type),1)]),e("td",ls,m(s.plaintiff||"-"),1),e("td",rs,m(s.defendant||"-"),1),e("td",ns,[e("span",is,m(((f=s.stages[s.stages.length-1])==null?void 0:f.status)||"Sin estado"),1)]),e("td",cs,m(typeof s.progress=="number"?s.progress+"%":"-"),1),e("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:t[13]||(t[13]=ce(()=>{},["stop"]))},[r(l(R),{as:"div",class:"relative inline-block text-left"},{default:n(({open:h})=>[r(l(E),{ref_for:!0,ref:w=>Te(w,i),onClick:w=>je(i,h),class:"inline-flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100"},{default:n(()=>[r(l(ue),{class:"h-5 w-5 text-gray-500"})]),_:2},1032,["onClick"]),r(l(D),{ref_for:!0,ref:w=>Le(w,i),class:p([i>0&&i>=te.value.length-3?"absolute right-0 z-50 bottom-full mb-2 w-48 origin-bottom-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none":"absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"])},{default:n(()=>{var w;return[e("div",ds,[r(l(b),null,{default:n(({active:S})=>[r(a,{to:{name:"process_detail",params:{process_id:s.id}},class:p([S?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[M(" Ver detalles ")]),_:2},1032,["to","class"])]),_:2},1024),((w=k.value)==null?void 0:w.role)==="lawyer"?(u(),U(l(b),{key:0},{default:n(({active:S})=>[r(a,{to:{name:"process_form",params:{action:"edit",process_id:s.id}},class:p([S?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:n(()=>[M(" Editar ")]),_:2},1032,["to","class"])]),_:2},1024)):z("",!0)])]}),_:2},1032,["class"])]),_:2},1024)])],8,Wt)}),128))])])],4),B.value>1?(u(),_("div",us,[e("div",ps,[e("button",{onClick:oe,disabled:v.value===1,class:p(["relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",v.value===1?"opacity-50 cursor-not-allowed":""])}," Anterior ",10,gs),e("button",{onClick:ae,disabled:v.value===B.value,class:p(["relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",v.value===B.value?"opacity-50 cursor-not-allowed":""])}," Siguiente ",10,ms)]),e("div",fs,[e("div",null,[e("p",hs,[M(" Mostrando "),e("span",ys,m(Q.value.start),1),M(" a "),e("span",vs,m(Q.value.end),1),M(" de "),e("span",xs,m(Q.value.total),1),M(" resultados ")])]),e("div",null,[e("nav",_s,[e("button",{onClick:oe,disabled:v.value===1,class:p(["relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",v.value===1?"opacity-50 cursor-not-allowed":""])},[ws,r(l(We),{class:"h-5 w-5","aria-hidden":"true"})],10,bs),(u(!0),_(V,null,O(Se.value,s=>(u(),_(V,{key:s},[s!=="..."?(u(),_("button",{key:0,onClick:i=>Pe(s),class:p(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 focus:outline-offset-0",v.value===s?"z-10 bg-secondary text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50"])},m(s),11,ks)):(u(),_("span",Cs," ... "))],64))),128)),e("button",{onClick:ae,disabled:v.value===B.value,class:p(["relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",v.value===B.value?"opacity-50 cursor-not-allowed":""])},[As,r(l(Ge),{class:"h-5 w-5","aria-hidden":"true"})],10,$s)])])])])):z("",!0)])):(u(),_("div",Ps,[r(l(Je),{class:"mx-auto h-24 w-24 text-gray-400"}),Ss,e("p",Ts,m(y.value==="archived_processes"?"No hay procesos archivados para mostrar.":"Contacta a tu abogado para gestionar tus procesos."),1)]))])])}}};export{Us as default};
